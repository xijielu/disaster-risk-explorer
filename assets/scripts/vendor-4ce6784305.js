require=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){function r(t,e){return p.isUndefined(e)?""+e:p.isNumber(e)&&!isFinite(e)?e.toString():p.isFunction(e)||p.isRegExp(e)?e.toString():e}function i(t,e){return p.isString(t)?t.length<e?t:t.slice(0,e):t}function o(t){return i(JSON.stringify(t.actual,r),128)+" "+t.operator+" "+i(JSON.stringify(t.expected,r),128)}function a(t,e,n,r,i){throw new v.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function s(t,e){t||a(t,!0,e,"==",v.ok)}function u(t,e){if(t===e)return!0;if(p.isBuffer(t)&&p.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return p.isDate(t)&&p.isDate(e)?t.getTime()===e.getTime():p.isRegExp(t)&&p.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:p.isObject(t)||p.isObject(e)?c(t,e):t==e}function l(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function c(t,e){if(p.isNullOrUndefined(t)||p.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(p.isPrimitive(t)||p.isPrimitive(e))return t===e;var n=l(t),r=l(e);if(n&&!r||!n&&r)return!1;if(n)return t=d.call(t),e=d.call(e),u(t,e);var i,o,a=y(t),s=y(e);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),o=a.length-1;o>=0;o--)if(a[o]!=s[o])return!1;for(o=a.length-1;o>=0;o--)if(i=a[o],!u(t[i],e[i]))return!1;return!0}function f(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||e.call({},t)===!0)}function h(t,e,n,r){var i;p.isString(n)&&(r=n,n=null);try{e()}catch(o){i=o}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&a(i,n,"Missing expected exception"+r),!t&&f(i,n)&&a(i,n,"Got unwanted exception"+r),t&&i&&n&&!f(i,n)||!t&&i)throw i}var p=t("util/"),d=Array.prototype.slice,m=Object.prototype.hasOwnProperty,v=e.exports=s;v.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var e=t.stackStartFunction||a;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=e.name,s=r.indexOf("\n"+i);if(s>=0){var u=r.indexOf("\n",s+1);r=r.substring(u+1)}this.stack=r}}},p.inherits(v.AssertionError,Error),v.fail=a,v.ok=s,v.equal=function(t,e,n){t!=e&&a(t,e,n,"==",v.equal)},v.notEqual=function(t,e,n){t==e&&a(t,e,n,"!=",v.notEqual)},v.deepEqual=function(t,e,n){u(t,e)||a(t,e,n,"deepEqual",v.deepEqual)},v.notDeepEqual=function(t,e,n){u(t,e)&&a(t,e,n,"notDeepEqual",v.notDeepEqual)},v.strictEqual=function(t,e,n){t!==e&&a(t,e,n,"===",v.strictEqual)},v.notStrictEqual=function(t,e,n){t===e&&a(t,e,n,"!==",v.notStrictEqual)},v["throws"]=function(t,e,n){h.apply(this,[!0].concat(d.call(arguments)))},v.doesNotThrow=function(t,e){h.apply(this,[!1].concat(d.call(arguments)))},v.ifError=function(t){if(t)throw t};var y=Object.keys||function(t){var e=[];for(var n in t)m.call(t,n)&&e.push(n);return e}},{"util/":12}],2:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(t){var i=n.isAbsolute(t),o="/"===a(t,-1);return t=e(r(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),o=r(e.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:3}],3:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){v&&d&&(v=!1,d.length?m=d.concat(m):y=-1,m.length&&u())}function u(){if(!v){var t=o(s);v=!0;for(var e=m.length;e;){for(d=m,m=[];++y<e;)d&&d[y].run();y=-1,e=m.length}d=null,v=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var f,h,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,m=[],v=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new l(t,e)),1!==m.length||v||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],4:[function(t,e,n){(function(t){!function(r){function i(t){throw new RangeError(R[t])}function o(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function a(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(O,".");var i=t.split("."),a=o(i,e).join(".");return r+a}function s(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function u(t){return o(t,function(t){var e="";return t>65535&&(t-=65536,e+=j(t>>>10&1023|55296),t=56320|1023&t),e+=j(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function c(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function f(t,e,n){var r=0;for(t=n?N(t/T):t>>1,t+=N(t/e);t>D*E>>1;r+=w)t=N(t/D);return N(r+(D+1)*t/(t+S))}function h(t){var e,n,r,o,a,s,c,h,p,d,m=[],v=t.length,y=0,g=P,b=C;for(n=t.lastIndexOf(k),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i("not-basic"),m.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(a=y,s=1,c=w;o>=v&&i("invalid-input"),h=l(t.charCodeAt(o++)),(h>=w||h>N((x-y)/s))&&i("overflow"),y+=h*s,p=c<=b?M:c>=b+E?E:c-b,!(h<p);c+=w)d=w-p,s>N(x/d)&&i("overflow"),s*=d;e=m.length+1,b=f(y-a,e,0==a),N(y/e)>x-g&&i("overflow"),g+=N(y/e),y%=e,m.splice(y++,0,g)}return u(m)}function p(t){var e,n,r,o,a,u,l,h,p,d,m,v,y,g,b,_=[];for(t=s(t),v=t.length,e=P,n=0,a=C,u=0;u<v;++u)m=t[u],m<128&&_.push(j(m));for(r=o=_.length,o&&_.push(k);r<v;){for(l=x,u=0;u<v;++u)m=t[u],m>=e&&m<l&&(l=m);for(y=r+1,l-e>N((x-n)/y)&&i("overflow"),n+=(l-e)*y,e=l,u=0;u<v;++u)if(m=t[u],m<e&&++n>x&&i("overflow"),m==e){for(h=n,p=w;d=p<=a?M:p>=a+E?E:p-a,!(h<d);p+=w)b=h-d,g=w-d,_.push(j(c(d+b%g,0))),h=N(b/g);_.push(j(c(h,0))),a=f(n,y,r==o),n=0,++r}++n,++e}return _.join("")}function d(t){return a(t,function(t){return A.test(t)?h(t.slice(4).toLowerCase()):t})}function m(t){return a(t,function(t){return I.test(t)?"xn--"+p(t):t})}var v="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof e&&e&&!e.nodeType&&e,g="object"==typeof t&&t;g.global!==g&&g.window!==g&&g.self!==g||(r=g);var b,_,x=2147483647,w=36,M=1,E=26,S=38,T=700,C=72,P=128,k="-",A=/^xn--/,I=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=w-M,N=Math.floor,j=String.fromCharCode;if(b={version:"1.4.1",ucs2:{decode:s,encode:u},decode:h,encode:p,toASCII:m,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(v&&y)if(e.exports==v)y.exports=b;else for(_ in b)b.hasOwnProperty(_)&&(v[_]=b[_]);else r.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var f,h,p,d,m=t[c].replace(s,"%20"),v=m.indexOf(n);v>=0?(f=m.substr(0,v),h=m.substr(v+1)):(f=m,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),r(a,p)?i(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],6:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),function(a){var s=encodeURIComponent(i(a))+n;return o(t[a])?r(t[a],function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[a]))}).join(e):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],7:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":5,"./encode":6}],8:[function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&l.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return l.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}var u=t("punycode"),l=t("./util");n.parse=i,n.resolve=a,n.resolveObject=s,n.format=o,n.Url=r;var c=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(p),m=["'"].concat(d),v=["%","/","?",";","#"].concat(m),y=["/","?","#"],g=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},M={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=t("querystring");r.prototype.parse=function(t,e,n){if(!l.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",o=t.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(i);var s=t;if(s=s.trim(),!n&&1===t.split("#").length){var f=h.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var p=c.exec(s);if(p){p=p[0];var d=p.toLowerCase();this.protocol=d,s=s.substr(p.length)}if(n||p||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===s.substr(0,2);!S||p&&w[p]||(s=s.substr(2),this.slashes=!0)}if(!w[p]&&(S||p&&!M[p])){for(var T=-1,C=0;C<y.length;C++){var P=s.indexOf(y[C]);P!==-1&&(T===-1||P<T)&&(T=P)}var k,A;A=T===-1?s.lastIndexOf("@"):s.lastIndexOf("@",T),A!==-1&&(k=s.slice(0,A),s=s.slice(A+1),this.auth=decodeURIComponent(k)),T=-1;for(var C=0;C<v.length;C++){var P=s.indexOf(v[C]);P!==-1&&(T===-1||P<T)&&(T=P)}T===-1&&(T=s.length),this.host=s.slice(0,T),s=s.slice(T),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var O=this.hostname.split(/\./),C=0,R=O.length;C<R;C++){var D=O[C];if(D&&!D.match(b)){for(var N="",j=0,L=D.length;j<L;j++)N+=D.charCodeAt(j)>127?"x":D[j];if(!N.match(b)){var z=O.slice(0,C),F=O.slice(C+1),U=D.match(_);U&&(z.push(U[1]),F.unshift(U[2])),F.length&&(s="/"+F.join(".")+s),this.hostname=z.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=u.toASCII(this.hostname));var B=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+B,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!x[d])for(var C=0,R=m.length;C<R;C++){var q=m[C];if(s.indexOf(q)!==-1){var H=encodeURIComponent(q);H===q&&(H=escape(q)),s=s.split(q).join(H)}}var W=s.indexOf("#");W!==-1&&(this.hash=s.substr(W),s=s.slice(0,W));var Y=s.indexOf("?");if(Y!==-1?(this.search=s.substr(Y),this.query=s.substr(Y+1),e&&(this.query=E.parse(this.query)),s=s.slice(0,Y)):e&&(this.search="",this.query={}),s&&(this.pathname=s),M[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",G=this.search||"";this.path=B+G}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(o=E.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||M[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(l.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(n[c]=t[c])}return M[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!M[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var p=f[h];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||w[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=g||y||n.host&&t.pathname,_=b,x=n.pathname&&n.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],E=n.protocol&&!M[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),b=b&&(""===d[0]||""===x[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,x=d;else if(d.length)x||(x=[]),x.pop(),x=x.concat(d),n.search=t.search,n.query=t.query;else if(!l.isNullOrUndefined(t.search)){if(E){n.hostname=n.host=x.shift();var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=x.slice(-1)[0],C=(n.host||t.host||x.length>1)&&("."===T||".."===T)||""===T,P=0,k=x.length;k>=0;k--)T=x[k],"."===T?x.splice(k,1):".."===T?(x.splice(k,1),P++):P&&(x.splice(k,1),P--);if(!b&&!_)for(;P--;P)x.unshift("..");!b||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),C&&"/"!==x.join("/").substr(-1)&&x.push("");var A=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(E){n.hostname=n.host=A?"":x.length?x.shift():"";var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return b=b||n.host&&x.length,b&&!A&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":9,punycode:4,querystring:7}],9:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],10:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],11:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],12:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(e)?r.showHidden=e:e&&n._extend(r,e),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,r){if(t.customInspect&&e&&T(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return b(i)||(i=u(t,i,r)),i}var o=l(t,e);if(o)return o;var a=Object.keys(e),m=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),S(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(e);if(0===a.length){if(T(e)){var v=e.name?": "+e.name:"";return t.stylize("[Function"+v+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E(e))return t.stylize(Date.prototype.toString.call(e),"date");if(S(e))return c(e)}var y="",g=!1,_=["{","}"];if(d(e)&&(g=!0,_=["[","]"]),T(e)){var x=e.name?": "+e.name:"";y=" [Function"+x+"]"}if(w(e)&&(y=" "+RegExp.prototype.toString.call(e)),E(e)&&(y=" "+Date.prototype.toUTCString.call(e)),S(e)&&(y=" "+c(e)),0===a.length&&(!g||0==e.length))return _[0]+y+_[1];if(r<0)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var M;return M=g?f(t,e,r,m,a):a.map(function(n){return h(t,e,r,m,n,g)}),t.seen.pop(),p(M,y,_)}function l(t,e){if(x(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)I(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),I(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(l.value)<0?(s=v(n)?u(t,l.value,null):u(t,l.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function v(t){return null===t}function y(t){return null==t}function g(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return M(t)&&"[object RegExp]"===P(t)}function M(t){return"object"==typeof t&&null!==t}function E(t){return M(t)&&"[object Date]"===P(t)}function S(t){return M(t)&&("[object Error]"===P(t)||t instanceof Error)}function T(t){return"function"==typeof t}function C(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function P(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}function A(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var O=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(O,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])a+=v(s)||!M(s)?" "+s:" "+i(s);return a},n.deprecate=function(t,i){function o(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),a=!0}return t.apply(this,arguments)}if(x(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return o};var R,D={};n.debuglog=function(t){if(x(R)&&(R=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!D[t])if(new RegExp("\\b"+t+"\\b","i").test(R)){var r=e.pid;D[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else D[t]=function(){};return D[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=m,n.isNull=v,n.isNullOrUndefined=y,n.isNumber=g,n.isString=b,n.isSymbol=_,n.isUndefined=x,n.isRegExp=w,n.isObject=M,n.isDate=E,n.isError=S,n.isFunction=T,n.isPrimitive=C,n.isBuffer=t("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",A(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!M(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":11,_process:3,inherits:10}],13:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n(t){return 1===t.length&&(t=r(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function r(t){return function(n,r){return e(t(n),r)}}function i(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function o(t){return null===t?NaN:+t}function a(t,e){var n,r,i=t.length,a=0,s=0,u=-1,l=0;if(null==e)for(;++u<i;)isNaN(n=o(t[u]))||(r=n-a,a+=r/++l,s+=r*(n-a));else for(;++u<i;)isNaN(n=o(e(t[u],u,t)))||(r=n-a,a+=r/++l,s+=r*(n-a));if(l>1)return s/(l-1)}function s(t,e){var n=a(t,e);return n?Math.sqrt(n):n}function u(t,e){var n,r,i,o=-1,a=t.length;if(null==e){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e(t[o],o,t))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e(t[o],o,t))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]}function l(t){return function(){return t}}function c(t){return t}function f(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function h(t,e,n){var r=p(t,e,n);return f(Math.ceil(t/r)*r,Math.floor(e/r)*r+r/2,r)}function p(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=z?i*=10:o>=F?i*=5:o>=U&&(i*=2),e<t?-i:i}function d(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function m(){function t(t){var i,o,a=t.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(t[i],i,t);var u=n(s),l=u[0],c=u[1],f=r(s,l,c);Array.isArray(f)||(f=h(l,c,f));for(var p=f.length;f[0]<=l;)f.shift(),--p;for(;f[p-1]>=c;)f.pop(),--p;var d,m=new Array(p+1);for(i=0;i<=p;++i)d=m[i]=[],d.x0=i>0?f[i-1]:l,d.x1=i<p?f[i]:c;for(i=0;i<a;++i)o=s[i],l<=o&&o<=c&&m[R(f,o,0,p)].push(t[i]);return m}var e=c,n=u,r=d;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:l(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:l([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:l(Array.isArray(e)?j.call(e):e),t):r},t}function v(t,e,n){if(null==n&&(n=o),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function y(t,n,r){return t=L.call(t,o).sort(e),Math.ceil((r-n)/(2*(v(t,.75)-v(t,.25))*Math.pow(t.length,-1/3)))}function g(t,e,n){return Math.ceil((n-e)/(3.5*s(t)*Math.pow(t.length,-1/3)))}function b(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&r>n&&(n=r)}return n}function _(t,e){var n,r=0,i=t.length,a=-1,s=i;if(null==e)for(;++a<i;)isNaN(n=o(t[a]))?--s:r+=n;else for(;++a<i;)isNaN(n=o(e(t[a],a,t)))?--s:r+=n;if(s)return r/s}function x(t,n){var r,i=[],a=t.length,s=-1;if(null==n)for(;++s<a;)isNaN(r=o(t[s]))||i.push(r);else for(;++s<a;)isNaN(r=o(n(t[s],s,t)))||i.push(r);return v(i.sort(e),.5)}function w(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n}function M(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&n>r&&(n=r)}return n}function E(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i}function S(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function T(t,n){if(r=t.length){var r,i,o=0,a=0,s=t[a];for(n||(n=e);++o<r;)(n(i=t[o],s)<0||0!==n(s,s))&&(s=i,a=o);return 0===n(s,s)?a:void 0}}function C(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t}function P(t,e){var n,r=0,i=t.length,o=-1;if(null==e)for(;++o<i;)(n=+t[o])&&(r+=n);else for(;++o<i;)(n=+e(t[o],o,t))&&(r+=n);return r}function k(t){if(!(i=t.length))return[];for(var e=-1,n=M(t,A),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function A(t){return t.length}function I(){return k(arguments)}var O=n(e),R=O.right,D=O.left,N=Array.prototype,j=N.slice,L=N.map,z=Math.sqrt(50),F=Math.sqrt(10),U=Math.sqrt(2);t.bisect=R,t.bisectRight=R,t.bisectLeft=D,t.ascending=e,t.bisector=n,t.descending=i,t.deviation=s,t.extent=u,t.histogram=m,t.thresholdFreedmanDiaconis=y,t.thresholdScott=g,t.thresholdSturges=d,t.max=b,t.mean=_,t.median=x,t.merge=w,t.min=M,t.pairs=E,t.permute=S,t.quantile=v,t.range=f,t.scan=T,t.shuffle=C,t.sum=P,t.ticks=h,t.tickStep=p,t.transpose=k,t.variance=a,t.zip=I,Object.defineProperty(t,"__esModule",{value:!0})})},{}],14:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){}function n(t,n){var r=new e;if(t instanceof e)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==n)for(;++o<a;)r.set(o,t[o]);else for(;++o<a;)r.set(n(i=t[o],o,t),i)}else if(t)for(var s in t)r.set(s,t[s]);return r}function r(){function t(e,i,o,a){if(i>=c.length)return null!=u?u(e):null!=r?e.sort(r):e;for(var s,l,f,h=-1,p=e.length,d=c[i++],m=n(),v=o();++h<p;)(f=m.get(s=d(l=e[h])+""))?f.push(l):m.set(s,[l]);return m.each(function(e,n){
a(v,n,t(e,i,o,a))}),v}function e(t,n){if(++n>c.length)return t;var r,i=f[n-1];return null!=u&&n>=c.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=i?r.sort(function(t,e){return i(t.key,e.key)}):r}var r,u,l,c=[],f=[];return l={object:function(e){return t(e,0,i,o)},map:function(e){return t(e,0,a,s)},entries:function(n){return e(t(n,0,a,s),0)},key:function(t){return c.push(t),l},sortKeys:function(t){return f[c.length-1]=t,l},sortValues:function(t){return r=t,l},rollup:function(t){return u=t,l}}}function i(){return{}}function o(t,e,n){t[e]=n}function a(){return n()}function s(t,e,n){t.set(e,n)}function u(){}function l(t,e){var n=new u;if(t instanceof u)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function c(t){var e=[];for(var n in t)e.push(n);return e}function f(t){var e=[];for(var n in t)e.push(t[n]);return e}function h(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var p="$";e.prototype=n.prototype={constructor:e,has:function(t){return p+t in this},get:function(t){return this[p+t]},set:function(t,e){return this[p+t]=e,this},remove:function(t){var e=p+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===p&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===p&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===p&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===p&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===p&&++t;return t},empty:function(){for(var t in this)if(t[0]===p)return!1;return!0},each:function(t){for(var e in this)e[0]===p&&t(this[e],e.slice(1),this)}};var d=n.prototype;u.prototype=l.prototype={constructor:u,has:d.has,add:function(t){return t+="",this[p+t]=t,this},remove:d.remove,clear:d.clear,values:d.keys,size:d.size,empty:d.empty,each:d.each},t.nest=r,t.set=l,t.map=n,t.keys=c,t.values=f,t.entries=h,Object.defineProperty(t,"__esModule",{value:!0})})},{}],15:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function n(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function r(){}function i(t){var e;return t=(t+"").trim().toLowerCase(),(e=A.exec(t))?(e=parseInt(e[1],16),new l(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=I.exec(t))?o(parseInt(e[1],16)):(e=O.exec(t))?new l(e[1],e[2],e[3],1):(e=R.exec(t))?new l(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=D.exec(t))?a(e[1],e[2],e[3],e[4]):(e=N.exec(t))?a(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=j.exec(t))?c(e[1],e[2]/100,e[3]/100,1):(e=L.exec(t))?c(e[1],e[2]/100,e[3]/100,e[4]):z.hasOwnProperty(t)?o(z[t]):"transparent"===t?new l(NaN,NaN,NaN,0):null}function o(t){return new l(t>>16&255,t>>8&255,255&t,1)}function a(t,e,n,r){return r<=0&&(t=e=n=NaN),new l(t,e,n,r)}function s(t){return t instanceof r||(t=i(t)),t?(t=t.rgb(),new l(t.r,t.g,t.b,t.opacity)):new l}function u(t,e,n,r){return 1===arguments.length?s(t):new l(t,e,n,null==r?1:r)}function l(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function c(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new p(t,e,n,r)}function f(t){if(t instanceof p)return new p(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=i(t)),!t)return new p;if(t instanceof p)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,a=Math.min(e,n,o),s=Math.max(e,n,o),u=NaN,l=s-a,c=(s+a)/2;return l?(u=e===s?(n-o)/l+6*(n<o):n===s?(o-e)/l+2:(e-n)/l+4,l/=c<.5?s+a:2-s-a,u*=60):l=c>0&&c<1?0:u,new p(u,l,c,t.opacity)}function h(t,e,n,r){return 1===arguments.length?f(t):new p(t,e,n,null==r?1:r)}function p(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function d(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function m(t){if(t instanceof y)return new y(t.l,t.a,t.b,t.opacity);if(t instanceof E){var e=t.h*F;return new y(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof l||(t=s(t));var n=x(t.r),r=x(t.g),i=x(t.b),o=g((.4124564*n+.3575761*r+.1804375*i)/V),a=g((.2126729*n+.7151522*r+.072175*i)/q),u=g((.0193339*n+.119192*r+.9503041*i)/H);return new y(116*a-16,500*(o-a),200*(a-u),t.opacity)}function v(t,e,n,r){return 1===arguments.length?m(t):new y(t,e,n,null==r?1:r)}function y(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function g(t){return t>X?Math.pow(t,1/3):t/G+W}function b(t){return t>Y?t*t*t:G*(t-W)}function _(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function x(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function w(t){if(t instanceof E)return new E(t.h,t.c,t.l,t.opacity);t instanceof y||(t=m(t));var e=Math.atan2(t.b,t.a)*U;return new E(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function M(t,e,n,r){return 1===arguments.length?w(t):new E(t,e,n,null==r?1:r)}function E(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function S(t){if(t instanceof C)return new C(t.h,t.s,t.l,t.opacity);t instanceof l||(t=s(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(nt*r+tt*e-et*n)/(nt+tt-et),o=r-i,a=(J*(n-i)-Q*o)/$,u=Math.sqrt(a*a+o*o)/(J*i*(1-i)),c=u?Math.atan2(a,o)*U-120:NaN;return new C(c<0?c+360:c,u,i,t.opacity)}function T(t,e,n,r){return 1===arguments.length?S(t):new C(t,e,n,null==r?1:r)}function C(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var P=.7,k=1/P,A=/^#([0-9a-f]{3})$/,I=/^#([0-9a-f]{6})$/,O=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,R=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,D=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,N=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,j=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,L=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),e(l,u,n(r,{brighter:function(t){return t=null==t?k:Math.pow(k,t),new l(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?P:Math.pow(P,t),new l(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),e(p,h,n(r,{brighter:function(t){return t=null==t?k:Math.pow(k,t),new p(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?P:Math.pow(P,t),new p(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new l(d(t>=240?t-240:t+120,i,r),d(t,i,r),d(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var F=Math.PI/180,U=180/Math.PI,B=18,V=.95047,q=1,H=1.08883,W=4/29,Y=6/29,G=3*Y*Y,X=Y*Y*Y;e(y,v,n(r,{brighter:function(t){return new y(this.l+B*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new y(this.l-B*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=q*b(t),e=V*b(e),n=H*b(n),new l(_(3.2404542*e-1.5371385*t-.4985314*n),_(-.969266*e+1.8760108*t+.041556*n),_(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),e(E,M,n(r,{brighter:function(t){return new E(this.h,this.c,this.l+B*(null==t?1:t),this.opacity)},darker:function(t){return new E(this.h,this.c,this.l-B*(null==t?1:t),this.opacity)},rgb:function(){return m(this).rgb()}}));var Z=-.14861,K=1.78277,Q=-.29227,$=-.90649,J=1.97294,tt=J*$,et=J*K,nt=K*Q-$*Z;e(C,T,n(r,{brighter:function(t){return t=null==t?k:Math.pow(k,t),new C(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?P:Math.pow(P,t),new C(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*F,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new l(255*(e+n*(Z*r+K*i)),255*(e+n*(Q*r+$*i)),255*(e+n*(J*r)),this.opacity)}})),t.color=i,t.rgb=u,t.hsl=h,t.lab=v,t.hcl=M,t.cubehelix=T,Object.defineProperty(t,"__esModule",{value:!0})})},{}],16:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function n(t){return t=e(Math.abs(t)),t?t[1]:NaN}function r(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function i(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}function o(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],o=r[1],a=o-(m=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+e(t,Math.max(0,n+a-1))[0]}function a(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array((-o)).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}function s(t){return new u(t)}function u(t){if(!(e=y.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):v[c]||(c=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function l(t){return t}function c(t){function e(t){function e(t){var e,a,s,l=y,v=g;if("c"===d)v=_(t)+v,t="";else{t=+t;var w=(t<0||1/t<0)&&(t*=-1,!0);if(t=_(t,p),w)for(e=-1,a=t.length,w=!1;++e<a;)if(s=t.charCodeAt(e),48<s&&s<58||"x"===d&&96<s&&s<103||"X"===d&&64<s&&s<71){w=!0;break}if(l=(w?"("===i?i:"-":"-"===i||"("===i?"":i)+l,v=v+("s"===d?b[8+m/3]:"")+(w&&"("===i?")":""),x)for(e=-1,a=t.length;++e<a;)if(s=t.charCodeAt(e),48>s||s>57){v=(46===s?u+t.slice(e+1):t.slice(e))+v,t=t.slice(0,e);break}}h&&!c&&(t=o(t,1/0));var M=l.length+t.length+v.length,E=M<f?new Array(f-M+1).join(n):"";switch(h&&c&&(t=o(E+t,E.length?f-v.length:1/0),E=""),r){case"<":return l+t+v+E;case"=":return l+E+t+v;case"^":return E.slice(0,M=E.length>>1)+l+t+v+E.slice(M)}return E+l+t+v}t=s(t);var n=t.fill,r=t.align,i=t.sign,l=t.symbol,c=t.zero,f=t.width,h=t.comma,p=t.precision,d=t.type,y="$"===l?a[0]:"#"===l&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",g="$"===l?a[1]:/[%p]/.test(d)?"%":"",_=v[d],x=!d||/[defgprs%]/.test(d);return p=null==p?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),e.toString=function(){return t+""},e}function i(t,r){var i=e((t=s(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(n(r)/3))),a=Math.pow(10,-o),u=b[8+o/3];return function(t){return i(a*t)+u}}var o=t.grouping&&t.thousands?r(t.grouping,t.thousands):l,a=t.currency,u=t.decimal;return{format:e,formatPrefix:i}}function f(e){return g=c(e),t.format=g.format,t.formatPrefix=g.formatPrefix,g}function h(t){return Math.max(0,-n(Math.abs(t)))}function p(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))}function d(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1}var m,v={"":i,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return a(100*t,e)},r:a,s:o,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},y=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var g,b=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];f({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),t.formatDefaultLocale=f,t.formatLocale=c,t.formatSpecifier=s,t.precisionFixed=h,t.precisionPrefix=p,t.precisionRound=d,Object.defineProperty(t,"__esModule",{value:!0})})},{}],17:[function(t,e,n){!function(r,i){"object"==typeof n&&"undefined"!=typeof e?i(n,t("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],i):i(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function r(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return n((r-i/e)*e,s,o,a,u)}}function i(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return n((r-i/e)*e,o,a,s,u)}}function o(t){return function(){return t}}function a(t,e){return function(n){return t+n*e}}function s(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function u(t,e){var n=e-t;return n?a(t,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(t)?e:t)}function l(t){return 1===(t=+t)?c:function(e,n){return n-e?s(e,n,t):o(isNaN(e)?n:e)}}function c(t,e){var n=e-t;return n?a(t,n):o(isNaN(t)?e:t)}function f(t){return function(n){var r,i,o=n.length,a=new Array(o),s=new Array(o),u=new Array(o);for(r=0;r<o;++r)i=e.rgb(n[r]),a[r]=i.r||0,s[r]=i.g||0,u[r]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}function h(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=b(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function p(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}}function d(t,e){return t=+t,e-=t,function(n){return t+e*n}}function m(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=b(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function v(t){return function(){return t}}function y(t){return function(e){return t(e)+""}}function g(t,e){var n,r,i,o=B.lastIndex=V.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=B.exec(t))&&(r=V.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:d(n,r)})),o=V.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?y(u[0].x):v(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function b(t,n){var r,i=typeof n;return null==n||"boolean"===i?o(n):("number"===i?d:"string"===i?(r=e.color(n))?(n=r,z):g:n instanceof e.color?z:n instanceof Date?p:Array.isArray(n)?h:isNaN(n)?m:d)(t,n)}function _(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}}function x(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*q,skewX:Math.atan(u)*q,scaleX:a,scaleY:s}}function w(t){return"none"===t?H:(D||(D=document.createElement("DIV"),N=document.documentElement,j=document.defaultView),D.style.transform=t,t=j.getComputedStyle(N.appendChild(D),null).getPropertyValue("transform"),N.removeChild(D),t=t.slice(7,-1).split(","),x(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function M(t){return null==t?H:(L||(L=document.createElementNS("http://www.w3.org/2000/svg","g")),L.setAttribute("transform",t),(t=L.transform.baseVal.consolidate())?(t=t.matrix,x(t.a,t.b,t.c,t.d,t.e,t.f)):H)}function E(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:d(t,i)},{i:u-2,x:d(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:d(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:d(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:d(t,n)},{i:s-2,x:d(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function S(t){return((t=Math.exp(t))+1/t)/2}function T(t){return((t=Math.exp(t))-1/t)/2}function C(t){return((t=Math.exp(2*t))-1)/(t+1)}function P(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-i,f=u-o,h=c*c+f*f;if(h<K)r=Math.log(l/a)/G,n=function(t){return[i+t*c,o+t*f,a*Math.exp(G*t*r)]};else{var p=Math.sqrt(h),d=(l*l-a*a+Z*h)/(2*a*X*p),m=(l*l-a*a-Z*h)/(2*l*X*p),v=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(m*m+1)-m);r=(y-v)/G,n=function(t){var e=t*r,n=S(v),s=a/(X*p)*(n*C(G*e+v)-T(v));return[i+s*c,o+s*f,a*n/S(G*e+v)]}}return n.duration=1e3*r,n}function k(t){return function(n,r){var i=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),o=c(n.s,r.s),a=c(n.l,r.l),s=c(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=s(t),n+""}}}function A(t,n){var r=c((t=e.lab(t)).l,(n=e.lab(n)).l),i=c(t.a,n.a),o=c(t.b,n.b),a=c(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}}function I(t){return function(n,r){var i=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),o=c(n.c,r.c),a=c(n.l,r.l),s=c(n.opacity,r.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=s(t),n+""}}}function O(t){return function n(r){function i(n,i){var o=t((n=e.cubehelix(n)).h,(i=e.cubehelix(i)).h),a=c(n.s,i.s),s=c(n.l,i.l),u=c(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=s(Math.pow(t,r)),n.opacity=u(t),n+""}}return r=+r,i.gamma=n,i}(1)}function R(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var D,N,j,L,z=function rt(t){function n(t,n){var i=r((t=e.rgb(t)).r,(n=e.rgb(n)).r),o=r(t.g,n.g),a=r(t.b,n.b),s=r(t.opacity,n.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}var r=l(t);return n.gamma=rt,n}(1),F=f(r),U=f(i),B=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V=new RegExp(B.source,"g"),q=180/Math.PI,H={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},W=E(w,"px, ","px)","deg)"),Y=E(M,", ",")",")"),G=Math.SQRT2,X=2,Z=4,K=1e-12,Q=k(u),$=k(c),J=I(u),tt=I(c),et=O(u),nt=O(c);t.interpolate=b,t.interpolateArray=h,t.interpolateBasis=r,t.interpolateBasisClosed=i,t.interpolateDate=p,t.interpolateNumber=d,t.interpolateObject=m,t.interpolateRound=_,t.interpolateString=g,t.interpolateTransformCss=W,t.interpolateTransformSvg=Y,t.interpolateZoom=P,t.interpolateRgb=z,t.interpolateRgbBasis=F,t.interpolateRgbBasisClosed=U,t.interpolateHsl=Q,t.interpolateHslLong=$,t.interpolateLab=A,t.interpolateHcl=J,t.interpolateHclLong=tt,t.interpolateCubehelix=et,t.interpolateCubehelixLong=nt,t.quantize=R,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":15}],18:[function(t,e,n){!function(r,i){"object"==typeof n&&"undefined"!=typeof e?i(n,t("d3-time")):"function"==typeof define&&define.amd?define(["exports","d3-time"],i):i(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date((-1),t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date((+n)));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=rt[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function o(t,e){return function(n){var o=i(1900),s=a(o,t,n+="",0);if(s!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var u="Z"in o?r(i(o.y)).getUTCDay():e(i(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(u+5)%7:o.w+7*o.U-(u+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,r(o)):e(o)}}function a(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=Lt[i in rt?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function s(t,e,n){var r=St.exec(e.slice(n));return r?(t.p=Tt[r[0].toLowerCase()],n+r[0].length):-1}function J(t,e,n){var r=kt.exec(e.slice(n));return r?(t.w=At[r[0].toLowerCase()],n+r[0].length):-1}function tt(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.w=Pt[r[0].toLowerCase()],n+r[0].length):-1}function et(t,e,n){var r=Rt.exec(e.slice(n));return r?(t.m=Dt[r[0].toLowerCase()],n+r[0].length):-1}function nt(t,e,n){var r=It.exec(e.slice(n));return r?(t.m=Ot[r[0].toLowerCase()],n+r[0].length):-1}function it(t,e,n){return a(t,yt,e,n)}function ot(t,e,n){return a(t,gt,e,n)}function at(t,e,n){return a(t,bt,e,n)}function st(t){return wt[t.getDay()]}function ut(t){return xt[t.getDay()]}function lt(t){return Et[t.getMonth()]}function ct(t){return Mt[t.getMonth()]}function ft(t){return _t[+(t.getHours()>=12)]}function ht(t){return wt[t.getUTCDay()]}function pt(t){return xt[t.getUTCDay()]}function dt(t){return Et[t.getUTCMonth()]}function mt(t){return Mt[t.getUTCMonth()]}function vt(t){return _t[+(t.getUTCHours()>=12)]}var yt=t.dateTime,gt=t.date,bt=t.time,_t=t.periods,xt=t.days,wt=t.shortDays,Mt=t.months,Et=t.shortMonths,St=u(_t),Tt=l(_t),Ct=u(xt),Pt=l(xt),kt=u(wt),At=l(wt),It=u(Mt),Ot=l(Mt),Rt=u(Et),Dt=l(Et),Nt={a:st,A:ut,b:lt,B:ct,c:null,d:E,e:E,H:S,I:T,j:C,L:P,m:k,M:A,p:ft,S:I,U:O,w:R,W:D,x:null,X:null,y:N,Y:j,Z:L,"%":$},jt={a:ht,A:pt,b:dt,B:mt,c:null,d:z,e:z,H:F,I:U,j:B,L:V,m:q,M:H,p:vt,S:W,U:Y,w:G,W:X,x:null,X:null,y:Z,Y:K,Z:Q,"%":$},Lt={a:J,A:tt,b:et,B:nt,c:it,d:y,e:y,H:b,I:b,j:g,L:w,m:v,M:_,p:s,S:x,U:f,w:c,W:h,x:ot,X:at,y:d,Y:p,Z:m,"%":M};return Nt.x=e(gt,Nt),Nt.X=e(bt,Nt),Nt.c=e(yt,Nt),jt.x=e(gt,jt),jt.X=e(bt,jt),jt.c=e(yt,jt),{format:function(t){var n=e(t+="",Nt);return n.toString=function(){return t},n},parse:function(t){var e=o(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",jt);return n.toString=function(){return t},n},utcParse:function(t){var e=o(t,r);return e.toString=function(){return t},e}}}function a(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function s(t){return t.replace(at,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function l(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function c(t,e,n){var r=it.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function f(t,e,n){var r=it.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function h(t,e,n){var r=it.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function p(t,e,n){var r=it.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function d(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function v(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function y(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function g(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function b(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function x(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function w(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function M(t,e,n){var r=ot.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function E(t,e){return a(t.getDate(),e,2)}function S(t,e){return a(t.getHours(),e,2)}function T(t,e){return a(t.getHours()%12||12,e,2)}function C(t,n){return a(1+e.timeDay.count(e.timeYear(t),t),n,3)}function P(t,e){return a(t.getMilliseconds(),e,3)}function k(t,e){return a(t.getMonth()+1,e,2)}function A(t,e){return a(t.getMinutes(),e,2)}function I(t,e){return a(t.getSeconds(),e,2)}function O(t,n){return a(e.timeSunday.count(e.timeYear(t),t),n,2)}function R(t){return t.getDay()}function D(t,n){return a(e.timeMonday.count(e.timeYear(t),t),n,2)}function N(t,e){return a(t.getFullYear()%100,e,2)}function j(t,e){return a(t.getFullYear()%1e4,e,4)}function L(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function z(t,e){return a(t.getUTCDate(),e,2)}function F(t,e){return a(t.getUTCHours(),e,2)}function U(t,e){return a(t.getUTCHours()%12||12,e,2)}function B(t,n){return a(1+e.utcDay.count(e.utcYear(t),t),n,3)}function V(t,e){return a(t.getUTCMilliseconds(),e,3)}function q(t,e){return a(t.getUTCMonth()+1,e,2)}function H(t,e){return a(t.getUTCMinutes(),e,2)}function W(t,e){return a(t.getUTCSeconds(),e,2)}function Y(t,n){return a(e.utcSunday.count(e.utcYear(t),t),n,2)}function G(t){return t.getUTCDay()}function X(t,n){return a(e.utcMonday.count(e.utcYear(t),t),n,2)}function Z(t,e){return a(t.getUTCFullYear()%100,e,2)}function K(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function Q(){return"+0000"}function $(){return"%"}function J(e){return nt=o(e),t.timeFormat=nt.format,t.timeParse=nt.parse,t.utcFormat=nt.utcFormat,t.utcParse=nt.utcParse,nt}function tt(t){return t.toISOString()}function et(t){var e=new Date(t);return isNaN(e)?null:e}var nt,rt={"-":"",_:" ",0:"0"},it=/^\s*\d+/,ot=/^%/,at=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;J({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var st="%Y-%m-%dT%H:%M:%S.%LZ",ut=Date.prototype.toISOString?tt:t.utcFormat(st),lt=+new Date("2000-01-01T00:00:00.000Z")?et:t.utcParse(st);t.timeFormatDefaultLocale=J,t.timeFormatLocale=o,t.isoFormat=ut,t.isoParse=lt,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-time":19}],19:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,n,r,a){function s(e){return t(e=new Date((+e))),e}return s.floor=s,s.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return n(t=new Date((+t)),null==e?1:Math.floor(e)),t},s.range=function(e,r,i){var o=[];if(e=s.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return o;do o.push(new Date((+e)));while(n(e,i),t(e),e<r);return o},s.filter=function(r){return e(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){if(t>=t)for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(s.count=function(e,n){return i.setTime(+e),o.setTime(+n),t(i),t(o),Math.floor(r(i,o))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t===0}:function(e){return s.count(0,e)%t===0}):s:null}),s}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*l)/h})}function r(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),
e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/h})}var i=new Date,o=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=a.range,u=1e3,l=6e4,c=36e5,f=864e5,h=6048e5,p=e(function(t){t.setTime(Math.floor(t/u)*u)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCSeconds()}),d=p.range,m=e(function(t){t.setTime(Math.floor(t/l)*l)},function(t,e){t.setTime(+t+e*l)},function(t,e){return(e-t)/l},function(t){return t.getMinutes()}),v=m.range,y=e(function(t){var e=t.getTimezoneOffset()*l%c;e<0&&(e+=c),t.setTime(Math.floor((+t-e)/c)*c+e)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getHours()}),g=y.range,b=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*l)/f},function(t){return t.getDate()-1}),_=b.range,x=n(0),w=n(1),M=n(2),E=n(3),S=n(4),T=n(5),C=n(6),P=x.range,k=w.range,A=M.range,I=E.range,O=S.range,R=T.range,D=C.range,N=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),j=N.range,L=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});L.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var z=L.range,F=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*l)},function(t,e){return(e-t)/l},function(t){return t.getUTCMinutes()}),U=F.range,B=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getUTCHours()}),V=B.range,q=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/f},function(t){return t.getUTCDate()-1}),H=q.range,W=r(0),Y=r(1),G=r(2),X=r(3),Z=r(4),K=r(5),Q=r(6),$=W.range,J=Y.range,tt=G.range,et=X.range,nt=Z.range,rt=K.range,it=Q.range,ot=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),at=ot.range,st=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});st.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ut=st.range;t.timeInterval=e,t.timeMillisecond=a,t.timeMilliseconds=s,t.utcMillisecond=a,t.utcMilliseconds=s,t.timeSecond=p,t.timeSeconds=d,t.utcSecond=p,t.utcSeconds=d,t.timeMinute=m,t.timeMinutes=v,t.timeHour=y,t.timeHours=g,t.timeDay=b,t.timeDays=_,t.timeWeek=x,t.timeWeeks=P,t.timeSunday=x,t.timeSundays=P,t.timeMonday=w,t.timeMondays=k,t.timeTuesday=M,t.timeTuesdays=A,t.timeWednesday=E,t.timeWednesdays=I,t.timeThursday=S,t.timeThursdays=O,t.timeFriday=T,t.timeFridays=R,t.timeSaturday=C,t.timeSaturdays=D,t.timeMonth=N,t.timeMonths=j,t.timeYear=L,t.timeYears=z,t.utcMinute=F,t.utcMinutes=U,t.utcHour=B,t.utcHours=V,t.utcDay=q,t.utcDays=H,t.utcWeek=W,t.utcWeeks=$,t.utcSunday=W,t.utcSundays=$,t.utcMonday=Y,t.utcMondays=J,t.utcTuesday=G,t.utcTuesdays=tt,t.utcWednesday=X,t.utcWednesdays=et,t.utcThursday=Z,t.utcThursdays=nt,t.utcFriday=K,t.utcFridays=rt,t.utcSaturday=Q,t.utcSaturdays=it,t.utcMonth=ot,t.utcMonths=at,t.utcYear=st,t.utcYears=ut,Object.defineProperty(t,"__esModule",{value:!0})})},{}],20:[function(t,e,n){var r=t("./_root"),i=r.Symbol;e.exports=i},{"./_root":27}],21:[function(t,e,n){function r(t){return null==t?void 0===t?u:s:(t=Object(t),l&&l in t?o(t):a(t))}var i=t("./_Symbol"),o=t("./_getRawTag"),a=t("./_objectToString"),s="[object Null]",u="[object Undefined]",l=i?i.toStringTag:void 0;e.exports=r},{"./_Symbol":20,"./_getRawTag":24,"./_objectToString":25}],22:[function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(t,e,n){var r=t("./_overArg"),i=r(Object.getPrototypeOf,Object);e.exports=i},{"./_overArg":26}],24:[function(t,e,n){function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(i){}var o=s.call(t);return r&&(e?t[u]=n:delete t[u]),o}var i=t("./_Symbol"),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;e.exports=r},{"./_Symbol":20}],25:[function(t,e,n){function r(t){return o.call(t)}var i=Object.prototype,o=i.toString;e.exports=r},{}],26:[function(t,e,n){function r(t,e){return function(n){return t(e(n))}}e.exports=r},{}],27:[function(t,e,n){var r=t("./_freeGlobal"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},{"./_freeGlobal":22}],28:[function(t,e,n){function r(t){return null!=t&&"object"==typeof t}e.exports=r},{}],29:[function(t,e,n){function r(t){if(!a(t)||i(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=f.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==h}var i=t("./_baseGetTag"),o=t("./_getPrototype"),a=t("./isObjectLike"),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,h=c.call(Object);e.exports=r},{"./_baseGetTag":21,"./_getPrototype":23,"./isObjectLike":28}],30:[function(t,e,n){"use strict";function r(t){var e=t.layoutVertexArrayType;this.layoutVertexArray=new e;var n=t.elementArrayType;n&&(this.elementArray=new n);var r=t.elementArrayType2;r&&(this.elementArray2=new r),this.paintVertexArrays=i.mapObject(t.paintVertexArrayTypes,function(t){return new t})}var i=t("../util/util");e.exports=r,r.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,r.prototype.hasCapacityFor=function(t){return this.layoutVertexArray.length+t<=r.MAX_VERTEX_ARRAY_LENGTH},r.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},r.prototype.trim=function(){this.layoutVertexArray.trim(),this.elementArray&&this.elementArray.trim(),this.elementArray2&&this.elementArray2.trim();for(var t in this.paintVertexArrays)this.paintVertexArrays[t].trim()},r.prototype.serialize=function(){return{layoutVertexArray:this.layoutVertexArray.serialize(),elementArray:this.elementArray&&this.elementArray.serialize(),elementArray2:this.elementArray2&&this.elementArray2.serialize(),paintVertexArrays:i.mapObject(this.paintVertexArrays,function(t){return t.serialize()})}},r.prototype.getTransferables=function(t){t.push(this.layoutVertexArray.arrayBuffer),this.elementArray&&t.push(this.elementArray.arrayBuffer),this.elementArray2&&t.push(this.elementArray2.arrayBuffer);for(var e in this.paintVertexArrays)t.push(this.paintVertexArrays[e].arrayBuffer)}},{"../util/util":146}],31:[function(t,e,n){"use strict";function r(t){if(this.zoom=t.zoom,this.overscaling=t.overscaling,this.layer=t.layer,this.childLayers=t.childLayers,this.type=this.layer.type,this.features=[],this.id=this.layer.id,this.index=t.index,this.sourceLayer=this.layer.sourceLayer,this.sourceLayerIndex=t.sourceLayerIndex,this.minZoom=this.layer.minzoom,this.maxZoom=this.layer.maxzoom,this.paintAttributes=i(this),t.arrays){var e=this.programInterfaces;this.bufferGroups=c.mapObject(t.arrays,function(n,r){var i=e[r],o=t.paintVertexArrayTypes[r];return n.map(function(t){return new l(t,{layoutVertexArrayType:i.layoutVertexArrayType.serialize(),elementArrayType:i.elementArrayType&&i.elementArrayType.serialize(),elementArrayType2:i.elementArrayType2&&i.elementArrayType2.serialize(),paintVertexArrayTypes:o})})})}}function i(t){var e={};for(var n in t.programInterfaces){for(var r=e[n]={},i=0;i<t.childLayers.length;i++){var s=t.childLayers[i];r[s.id]={attributes:[],uniforms:[],defines:[],vertexPragmas:{define:{},initialize:{}},fragmentPragmas:{define:{},initialize:{}}}}var u=t.programInterfaces[n];if(u.paintAttributes)for(var l="{precision}",f="{type}",p=0;p<u.paintAttributes.length;p++){var d=u.paintAttributes[p];d.multiplier=d.multiplier||1;for(var m=0;m<t.childLayers.length;m++){var v=t.childLayers[m],y=r[v.id],g=d.name;h("a_"===d.name.slice(0,2));var b,_=d.name.slice(2);if(y.fragmentPragmas.initialize[_]="",v.isPaintValueFeatureConstant(d.paintProperty))y.uniforms.push(d),y.fragmentPragmas.define[_]=y.vertexPragmas.define[_]=["uniform",l,f,g].join(" ")+";",y.fragmentPragmas.initialize[_]=y.vertexPragmas.initialize[_]=[l,f,_,"=",g].join(" ")+";\n";else if(v.isPaintValueZoomConstant(d.paintProperty)){y.attributes.push(c.extend({},d,{name:g})),b=["varying",l,f,_].join(" ")+";\n";var x=[y.fragmentPragmas.define[_],"attribute",l,f,g].join(" ")+";\n";y.fragmentPragmas.define[_]=b,y.vertexPragmas.define[_]=b+x,y.vertexPragmas.initialize[_]=[_,"=",g,"/",d.multiplier.toFixed(1)].join(" ")+";\n"}else{for(var w="u_"+g.slice(2)+"_t",M=v.getPaintValueStopZoomLevels(d.paintProperty),E=0;E<M.length&&M[E]<t.zoom;)E++;for(var S=Math.max(0,Math.min(M.length-4,E-2)),T=[],C=0;C<4;C++)T.push(M[Math.min(S+C,M.length-1)]);b=["varying",l,f,_].join(" ")+";\n",y.vertexPragmas.define[_]=b+["uniform","lowp","float",w].join(" ")+";\n",y.fragmentPragmas.define[_]=b,y.uniforms.push(c.extend({},d,{name:w,getValue:a(d,S),components:1}));var P=d.components;if(1===P)y.attributes.push(c.extend({},d,{getValue:o(d,T),isFunction:!0,components:4*P})),y.vertexPragmas.define[_]+=["attribute",l,"vec4",g].join(" ")+";\n",y.vertexPragmas.initialize[_]=[_,"=","evaluate_zoom_function_1("+g+", "+w+")","/",d.multiplier.toFixed(1)].join(" ")+";\n";else{for(var k=[],A=0;A<4;A++)k.push(g+A),y.attributes.push(c.extend({},d,{getValue:o(d,[T[A]]),isFunction:!0,name:g+A})),y.vertexPragmas.define[_]+=["attribute",l,f,g+A].join(" ")+";\n";y.vertexPragmas.initialize[_]=[_," = ","evaluate_zoom_function_4("+k.join(", ")+", "+w+")","/",d.multiplier.toFixed(1)].join(" ")+";\n"}}}}}return e}function o(t,e){return function(n,r,i){if(1===e.length)return t.getValue(n,c.extend({},r,{zoom:e[0]}),i);for(var o=[],a=0;a<e.length;a++){var s=e[a];o.push(t.getValue(n,c.extend({},r,{zoom:s}),i)[0])}return o}}function a(t,e){return function(n,r){var i=n.getPaintInterpolationT(t.paintProperty,r.zoom);return[Math.max(0,Math.min(4,i-e))]}}var s=t("feature-filter"),u=t("./array_group"),l=t("./buffer_group"),c=t("../util/util"),f=t("../util/struct_array"),h=t("assert");e.exports=r,r.create=function(e){var n={fill:t("./bucket/fill_bucket"),line:t("./bucket/line_bucket"),circle:t("./bucket/circle_bucket"),symbol:t("./bucket/symbol_bucket")};return new n[e.layer.type](e)},r.EXTENT=8192,r.prototype.populateArrays=function(){this.createArrays(),this.recalculateStyleLayers();for(var t=0;t<this.features.length;t++)this.addFeature(this.features[t]);this.trimArrays()},r.prototype.prepareArrayGroup=function(t,e){var n=this.arrayGroups[t],r=n.length&&n[n.length-1];return r&&r.hasCapacityFor(e)||(r=new u({layoutVertexArrayType:this.programInterfaces[t].layoutVertexArrayType,elementArrayType:this.programInterfaces[t].elementArrayType,elementArrayType2:this.programInterfaces[t].elementArrayType2,paintVertexArrayTypes:this.paintVertexArrayTypes[t]}),r.index=n.length,n.push(r)),r},r.prototype.createArrays=function(){this.arrayGroups={},this.paintVertexArrayTypes={};for(var t in this.programInterfaces){this.arrayGroups[t]=[];var e=this.paintVertexArrayTypes[t]={},n=this.paintAttributes[t];for(var i in n)e[i]=new r.VertexArrayType(n[i].attributes)}},r.prototype.destroy=function(t){for(var e in this.bufferGroups)for(var n=this.bufferGroups[e],r=0;r<n.length;r++)n[r].destroy(t)},r.prototype.trimArrays=function(){for(var t in this.arrayGroups)for(var e=this.arrayGroups[t],n=0;n<e.length;n++)e[n].trim()},r.prototype.isEmpty=function(){for(var t in this.arrayGroups)for(var e=this.arrayGroups[t],n=0;n<e.length;n++)if(!e[n].isEmpty())return!1;return!0},r.prototype.getTransferables=function(t){for(var e in this.arrayGroups)for(var n=this.arrayGroups[e],r=0;r<n.length;r++)n[r].getTransferables(t)},r.prototype.setUniforms=function(t,e,n,r,i){for(var o=this.paintAttributes[e][r.id].uniforms,a=0;a<o.length;a++){var s=o[a],u=n[s.name];t["uniform"+s.components+"fv"](u,s.getValue(r,i))}},r.prototype.serialize=function(){return{layerId:this.layer.id,zoom:this.zoom,arrays:c.mapObject(this.arrayGroups,function(t){return t.map(function(t){return t.serialize()})}),paintVertexArrayTypes:c.mapObject(this.paintVertexArrayTypes,function(t){return c.mapObject(t,function(t){return t.serialize()})}),childLayerIds:this.childLayers.map(function(t){return t.id})}},r.prototype.createFilter=function(){this.filter||(this.filter=s(this.layer.filter))};var p={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0};r.prototype.recalculateStyleLayers=function(){for(var t=0;t<this.childLayers.length;t++)this.childLayers[t].recalculate(this.zoom,p)},r.prototype.populatePaintArrays=function(t,e,n,r,i){for(var o=0;o<this.childLayers.length;o++)for(var a=this.childLayers[o],s=this.arrayGroups[t],u=r.index;u<s.length;u++){var l=s[u],c=l.layoutVertexArray.length,f=l.paintVertexArrays[a.id];f.resize(c);for(var h=this.paintAttributes[t][a.id].attributes,p=0;p<h.length;p++)for(var d=h[p],m=d.getValue(a,e,n),v=d.multiplier||1,y=d.components||1,g=u===r.index?i:0,b=g;b<c;b++)for(var _=f.get(b),x=0;x<y;x++){var w=y>1?d.name+x:d.name;_[w]=m[x]*v}}},r.VertexArrayType=function(t){return new f({members:t,alignment:4})},r.ElementArrayType=function(t){return new f({members:[{type:"Uint16",name:"vertices",components:t||3}]})}},{"../util/struct_array":144,"../util/util":146,"./array_group":30,"./bucket/circle_bucket":32,"./bucket/fill_bucket":33,"./bucket/line_bucket":34,"./bucket/symbol_bucket":35,"./buffer_group":37,assert:1,"feature-filter":151}],32:[function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var i=t("../bucket"),o=t("../../util/util"),a=t("../load_geometry"),s=i.EXTENT;e.exports=r,r.prototype=o.inherit(i,{}),r.prototype.addCircleVertex=function(t,e,n,r,i){return t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)},r.prototype.programInterfaces={circle:{layoutVertexArrayType:new i.VertexArrayType([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:new i.ElementArrayType,paintAttributes:[{name:"a_color",components:4,type:"Uint8",getValue:function(t,e,n){return t.getPaintValue("circle-color",e,n)},multiplier:255,paintProperty:"circle-color"},{name:"a_radius",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(t,e,n){return[t.getPaintValue("circle-radius",e,n)]},multiplier:10,paintProperty:"circle-radius"},{name:"a_blur",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(t,e,n){return[t.getPaintValue("circle-blur",e,n)]},multiplier:10,paintProperty:"circle-blur"},{name:"a_opacity",components:1,type:"Uint16",isLayerConstant:!1,getValue:function(t,e,n){return[t.getPaintValue("circle-opacity",e,n)]},multiplier:255,paintProperty:"circle-opacity"}]}},r.prototype.addFeature=function(t){for(var e={zoom:this.zoom},n=a(t),r=this.prepareArrayGroup("circle",0),i=r.layoutVertexArray.length,o=0;o<n.length;o++)for(var u=0;u<n[o].length;u++){var l=n[o][u].x,c=n[o][u].y;if(!(l<0||l>=s||c<0||c>=s)){var f=this.prepareArrayGroup("circle",4),h=f.layoutVertexArray,p=this.addCircleVertex(h,l,c,-1,-1);this.addCircleVertex(h,l,c,1,-1),this.addCircleVertex(h,l,c,1,1),this.addCircleVertex(h,l,c,-1,1),f.elementArray.emplaceBack(p,p+1,p+2),f.elementArray.emplaceBack(p,p+3,p+2)}}this.populatePaintArrays("circle",e,t.properties,r,i)}},{"../../util/util":146,"../bucket":31,"../load_geometry":39}],33:[function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var i=t("../bucket"),o=t("../../util/util"),a=t("../load_geometry"),s=t("earcut"),u=t("../../util/classify_rings"),l=500;e.exports=r,r.prototype=o.inherit(i,{}),r.prototype.programInterfaces={fill:{layoutVertexArrayType:new i.VertexArrayType([{name:"a_pos",components:2,type:"Int16"}]),elementArrayType:new i.ElementArrayType(1),elementArrayType2:new i.ElementArrayType(2),paintAttributes:[{name:"a_color",components:4,type:"Uint8",getValue:function(t,e,n){return t.getPaintValue("fill-color",e,n)},multiplier:255,paintProperty:"fill-color"},{name:"a_outline_color",components:4,type:"Uint8",getValue:function(t,e,n){return t.getPaintValue("fill-outline-color",e,n)},multiplier:255,paintProperty:"fill-outline-color"},{name:"a_opacity",components:1,type:"Uint8",getValue:function(t,e,n){return[t.getPaintValue("fill-opacity",e,n)]},multiplier:255,paintProperty:"fill-opacity"}]}},r.prototype.addFeature=function(t){for(var e=a(t),n=u(e,l),r=this.prepareArrayGroup("fill",0),i=r.layoutVertexArray.length,o=0;o<n.length;o++)this.addPolygon(n[o]);this.populatePaintArrays("fill",{zoom:this.zoom},t.properties,r,i)},r.prototype.addPolygon=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].length;for(var r=this.prepareArrayGroup("fill",e),i=[],o=[],a=r.layoutVertexArray.length,u=0;u<t.length;u++){var l=t[u];u>0&&o.push(i.length/2);for(var c=0;c<l.length;c++){var f=l[c],h=r.layoutVertexArray.emplaceBack(f.x,f.y);c>=1&&r.elementArray2.emplaceBack(h-1,h),i.push(f.x),i.push(f.y)}}for(var p=s(i,o),d=0;d<p.length;d++)r.elementArray.emplaceBack(p[d]+a)}},{"../../util/classify_rings":133,"../../util/util":146,"../bucket":31,"../load_geometry":39,earcut:150}],34:[function(t,e,n){"use strict";function r(){i.apply(this,arguments)}var i=t("../bucket"),o=t("../../util/util"),a=t("../load_geometry"),s=i.EXTENT,u=63,l=Math.cos(37.5*(Math.PI/180)),c=15,f=15,h=.5,p=Math.pow(2,f-1)/h;e.exports=r,r.prototype=o.inherit(i,{}),r.prototype.addLineVertex=function(t,e,n,r,i,o,a){return t.emplaceBack(e.x<<1|r,e.y<<1|i,Math.round(u*n.x)+128,Math.round(u*n.y)+128,(0===o?0:o<0?-1:1)+1|(a*h&63)<<2,a*h>>6)},r.prototype.programInterfaces={line:{layoutVertexArrayType:new i.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}]),paintAttributes:[{name:"a_color",components:4,type:"Uint8",getValue:function(t,e,n){return t.getPaintValue("line-color",e,n)},multiplier:255,paintProperty:"line-color"}],elementArrayType:new i.ElementArrayType}},r.prototype.addFeature=function(t){for(var e=a(t,f),n=0;n<e.length;n++)this.addLine(e[n],t.properties,this.layer.layout["line-join"],this.layer.layout["line-cap"],this.layer.layout["line-miter-limit"],this.layer.layout["line-round-limit"])},r.prototype.addLine=function(t,e,n,r,i,o){for(var a=t.length;a>2&&t[a-1].equals(t[a-2]);)a--;if(!(t.length<2)){"bevel"===n&&(i=1.05);var u=c*(s/(512*this.overscaling)),f=t[0],h=t[a-1],p=f.equals(h),d=this.prepareArrayGroup("line",10*a),m=d.layoutVertexArray.length;if(2!==a||!p){this.distance=0;var v,y,g,b,_,x,w,M=r,E=p?"butt":r,S=!0;this.e1=this.e2=this.e3=-1,p&&(v=t[a-2],_=f.sub(v)._unit()._perp());for(var T=0;T<a;T++)if(g=p&&T===a-1?t[1]:t[T+1],!g||!t[T].equals(g)){_&&(b=_),v&&(y=v),v=t[T],_=g?g.sub(v)._unit()._perp():b,b=b||_;var C=b.add(_)._unit(),P=C.x*_.x+C.y*_.y,k=1/P,A=P<l&&y&&g;if(A&&T>0){var I=v.dist(y);if(I>2*u){var O=v.sub(v.sub(y)._mult(u/I)._round());this.distance+=O.dist(y),this.addCurrentVertex(O,this.distance,b.mult(1),0,0,!1),y=O}}var R=y&&g,D=R?n:g?M:E;if(R&&"round"===D&&(k<o?D="miter":k<=2&&(D="fakeround")),"miter"===D&&k>i&&(D="bevel"),"bevel"===D&&(k>2&&(D="flipbevel"),k<i&&(D="miter")),y&&(this.distance+=v.dist(y)),"miter"===D)C._mult(k),this.addCurrentVertex(v,this.distance,C,0,0,!1);else if("flipbevel"===D){if(k>100)C=_.clone();else{var N=b.x*_.y-b.y*_.x>0?-1:1,j=k*b.add(_).mag()/b.sub(_).mag();C._perp()._mult(j*N)}this.addCurrentVertex(v,this.distance,C,0,0,!1),this.addCurrentVertex(v,this.distance,C.mult(-1),0,0,!1)}else if("bevel"===D||"fakeround"===D){var L=b.x*_.y-b.y*_.x>0,z=-Math.sqrt(k*k-1);if(L?(w=0,x=z):(x=0,w=z),S||this.addCurrentVertex(v,this.distance,b,x,w,!1),"fakeround"===D){for(var F,U=Math.floor(8*(.5-(P-.5))),B=0;B<U;B++)F=_.mult((B+1)/(U+1))._add(b)._unit(),this.addPieSliceVertex(v,this.distance,F,L);this.addPieSliceVertex(v,this.distance,C,L);for(var V=U-1;V>=0;V--)F=b.mult((V+1)/(U+1))._add(_)._unit(),this.addPieSliceVertex(v,this.distance,F,L)}g&&this.addCurrentVertex(v,this.distance,_,-x,-w,!1)}else"butt"===D?(S||this.addCurrentVertex(v,this.distance,b,0,0,!1),g&&this.addCurrentVertex(v,this.distance,_,0,0,!1)):"square"===D?(S||(this.addCurrentVertex(v,this.distance,b,1,1,!1),this.e1=this.e2=-1),g&&this.addCurrentVertex(v,this.distance,_,-1,-1,!1)):"round"===D&&(S||(this.addCurrentVertex(v,this.distance,b,0,0,!1),this.addCurrentVertex(v,this.distance,b,1,1,!0),this.e1=this.e2=-1),g&&(this.addCurrentVertex(v,this.distance,_,-1,-1,!0),this.addCurrentVertex(v,this.distance,_,0,0,!1)));if(A&&T<a-1){var q=v.dist(g);if(q>2*u){var H=v.add(g.sub(v)._mult(u/q)._round());this.distance+=H.dist(v),this.addCurrentVertex(H,this.distance,_.mult(1),0,0,!1),v=H}}S=!1}this.populatePaintArrays("line",{zoom:this.zoom},e,d,m)}}},r.prototype.addCurrentVertex=function(t,e,n,r,i,o){var a,s=o?1:0,u=this.arrayGroups.line[this.arrayGroups.line.length-1],l=u.layoutVertexArray,c=u.elementArray;a=n.clone(),r&&a._sub(n.perp()._mult(r)),this.e3=this.addLineVertex(l,t,a,s,0,r,e),this.e1>=0&&this.e2>=0&&c.emplaceBack(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,a=n.mult(-1),i&&a._sub(n.perp()._mult(i)),this.e3=this.addLineVertex(l,t,a,s,1,-i,e),this.e1>=0&&this.e2>=0&&c.emplaceBack(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,e>p/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,r,i,o))},r.prototype.addPieSliceVertex=function(t,e,n,r){var i=r?1:0;n=n.mult(r?-1:1);var o=this.arrayGroups.line[this.arrayGroups.line.length-1],a=o.layoutVertexArray,s=o.elementArray;this.e3=this.addLineVertex(a,t,n,0,i,0,e),this.e1>=0&&this.e2>=0&&s.emplaceBack(this.e1,this.e2,this.e3),r?this.e2=this.e3:this.e1=this.e3}},{"../../util/util":146,"../bucket":31,"../load_geometry":39}],35:[function(t,e,n){"use strict";function r(t){a.apply(this,arguments),this.showCollisionBoxes=t.showCollisionBoxes,this.overscaling=t.overscaling,this.collisionBoxArray=t.collisionBoxArray,this.symbolQuadsArray=t.symbolQuadsArray,this.symbolInstancesArray=t.symbolInstancesArray,this.sdfIcons=t.sdfIcons,this.iconsNeedLinear=t.iconsNeedLinear,this.adjustedTextSize=t.adjustedTextSize,this.adjustedIconSize=t.adjustedIconSize,this.fontstack=t.fontstack}function i(t,e,n,r,i,o,a,s,u,l,c){return t.emplaceBack(e,n,Math.round(64*r),Math.round(64*i),o/4,a/4,10*(l||0),c,10*(s||0),10*Math.min(u||25,25))}var o=t("point-geometry"),a=t("../bucket"),s=t("../../symbol/anchor"),u=t("../../symbol/get_anchors"),l=t("../../util/token"),c=t("../../symbol/quads"),f=t("../../symbol/shaping"),h=t("../../symbol/resolve_text"),p=t("../../symbol/mergelines"),d=t("../../symbol/clip_line"),m=t("../../util/util"),v=t("../load_geometry"),y=t("../../symbol/collision_feature"),g=t("../../util/find_pole_of_inaccessibility"),b=t("../../util/classify_rings"),_=f.shapeText,x=f.shapeIcon,w=c.getGlyphQuads,M=c.getIconQuads,E=a.EXTENT;e.exports=r,r.MAX_QUADS=65535,r.prototype=m.inherit(a,{}),r.prototype.serialize=function(){var t=a.prototype.serialize.apply(this);return t.sdfIcons=this.sdfIcons,t.iconsNeedLinear=this.iconsNeedLinear,t.adjustedTextSize=this.adjustedTextSize,t.adjustedIconSize=this.adjustedIconSize,t.fontstack=this.fontstack,t};var S=new a.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_offset",components:2,type:"Int16"},{name:"a_texture_pos",components:2,type:"Uint16"},{name:"a_data",components:4,type:"Uint8"}]),T=new a.ElementArrayType;r.prototype.addCollisionBoxVertex=function(t,e,n,r,i){return t.emplaceBack(e.x,e.y,Math.round(n.x),Math.round(n.y),10*r,10*i)},r.prototype.programInterfaces={glyph:{layoutVertexArrayType:S,elementArrayType:T},icon:{layoutVertexArrayType:S,elementArrayType:T},collisionBox:{layoutVertexArrayType:new a.VertexArrayType([{name:"a_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}])}},r.prototype.populateArrays=function(t,e,n){var r={lastIntegerZoom:1/0,lastIntegerZoomTime:0,lastZoom:0};this.adjustedTextMaxSize=this.layer.getLayoutValue("text-size",{zoom:18,zoomHistory:r}),this.adjustedTextSize=this.layer.getLayoutValue("text-size",{zoom:this.zoom+1,zoomHistory:r}),this.adjustedIconMaxSize=this.layer.getLayoutValue("icon-size",{zoom:18,zoomHistory:r}),this.adjustedIconSize=this.layer.getLayoutValue("icon-size",{zoom:this.zoom+1,zoomHistory:r});var i=512*this.overscaling;this.tilePixelRatio=E/i,this.compareText={},this.iconsNeedLinear=!1,this.symbolInstancesStartIndex=this.symbolInstancesArray.length;var o=this.layer.layout,a=this.features,s=this.textFeatures,u=.5,c=.5;switch(o["text-anchor"]){case"right":case"top-right":case"bottom-right":u=1;break;case"left":case"top-left":case"bottom-left":u=0}switch(o["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}for(var f="right"===o["text-justify"]?1:"left"===o["text-justify"]?0:.5,h=24,d=o["text-line-height"]*h,y="line"!==o["symbol-placement"]?o["text-max-width"]*h:0,g=o["text-letter-spacing"]*h,b=[o["text-offset"][0]*h,o["text-offset"][1]*h],w=this.fontstack=o["text-font"].join(","),M=[],S=0;S<a.length;S++)M.push(v(a[S]));if("line"===o["symbol-placement"]){var T=p(a,s,M);M=T.geometries,a=T.features,s=T.textFeatures}for(var C,P,k=0;k<a.length;k++)if(M[k]){if(C=s[k]?_(s[k],e[w],y,d,u,c,f,g,b):null,o["icon-image"]){var A=l(a[k].properties,o["icon-image"]),I=n[A];P=x(I,o),I&&(void 0===this.sdfIcons?this.sdfIcons=I.sdf:this.sdfIcons!==I.sdf&&m.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==I.pixelRatio?this.iconsNeedLinear=!0:0===o["icon-rotate"]&&this.layer.isLayoutValueFeatureConstant("icon-rotate")||(this.iconsNeedLinear=!0))}else P=null;(C||P)&&this.addFeature(M[k],C,P,a[k])}this.symbolInstancesEndIndex=this.symbolInstancesArray.length,this.placeFeatures(t,this.showCollisionBoxes),this.trimArrays()},r.prototype.addFeature=function(t,e,n,r){var i=this.layer.layout,o=24,a=this.adjustedTextSize/o,s=void 0!==this.adjustedTextMaxSize?this.adjustedTextMaxSize:this.adjustedTextSize,l=this.tilePixelRatio*a,c=this.tilePixelRatio*s/o,f=this.tilePixelRatio*this.adjustedIconSize,h=this.tilePixelRatio*i["symbol-spacing"],p=i["symbol-avoid-edges"],m=i["text-padding"]*this.tilePixelRatio,v=i["icon-padding"]*this.tilePixelRatio,y=i["text-max-angle"]/180*Math.PI,g="map"===i["text-rotation-alignment"]&&"line"===i["symbol-placement"],_="map"===i["icon-rotation-alignment"]&&"line"===i["symbol-placement"],x=i["text-allow-overlap"]||i["icon-allow-overlap"]||i["text-ignore-placement"]||i["icon-ignore-placement"],w=i["symbol-placement"],M="line"===w,S=h/2,T=null;T=M?d(t,0,0,E,E):b(t,0);for(var C=0;C<T.length;C++){var P=null,k=T[C],A=null;M?(A=k,P=u(A,h,y,e,n,o,c,this.overscaling,E)):(A=k[0],P=this.findPolygonAnchors(k));for(var I=0,O=P.length;I<O;I++){var R=P[I];if(!(e&&M&&this.anchorIsTooClose(e.text,S,R))){var D=!(R.x<0||R.x>E||R.y<0||R.y>E);if(!p||D){var N=D||x;this.addSymbolInstance(R,A,e,n,this.layer,N,this.symbolInstancesArray.length,this.collisionBoxArray,r.index,this.sourceLayerIndex,this.index,l,m,g,f,v,_,{zoom:this.zoom},r.properties)}}}}},r.prototype.findPolygonAnchors=function(t){var e=t[0];if(0===e.length)return[];if(e.length<3||!m.isClosedPolygon(e))return[new s(e[0].x,e[0].y,0)];var n=null,r=g(t,16);return n=[new s(r.x,r.y,0)]},r.prototype.anchorIsTooClose=function(t,e,n){var r=this.compareText;if(t in r){for(var i=r[t],o=i.length-1;o>=0;o--)if(n.dist(i[o])<e)return!0}else r[t]=[];return r[t].push(n),!1},r.prototype.placeFeatures=function(t,e){this.recalculateStyleLayers(),this.createArrays();var n=this.layer.layout,r=t.maxScale,i="map"===n["text-rotation-alignment"]&&"line"===n["symbol-placement"],o="map"===n["icon-rotation-alignment"]&&"line"===n["symbol-placement"],a=n["text-allow-overlap"]||n["icon-allow-overlap"]||n["text-ignore-placement"]||n["icon-ignore-placement"];if(a){var s=this.symbolInstancesArray.toArray(this.symbolInstancesStartIndex,this.symbolInstancesEndIndex),u=t.angle,l=Math.sin(u),c=Math.cos(u);this.sortedSymbolInstances=s.sort(function(t,e){var n=l*t.anchorPointX+c*t.anchorPointY|0,r=l*e.anchorPointX+c*e.anchorPointY|0;return n-r||e.index-t.index})}for(var f=this.symbolInstancesStartIndex;f<this.symbolInstancesEndIndex;f++){var h=this.sortedSymbolInstances?this.sortedSymbolInstances[f-this.symbolInstancesStartIndex]:this.symbolInstancesArray.get(f),p={boxStartIndex:h.textBoxStartIndex,boxEndIndex:h.textBoxEndIndex},d={boxStartIndex:h.iconBoxStartIndex,boxEndIndex:h.iconBoxEndIndex},m=!(h.textBoxStartIndex===h.textBoxEndIndex),v=!(h.iconBoxStartIndex===h.iconBoxEndIndex),y=n["text-optional"]||!m,g=n["icon-optional"]||!v,b=m?t.placeCollisionFeature(p,n["text-allow-overlap"],n["symbol-avoid-edges"]):t.minScale,_=v?t.placeCollisionFeature(d,n["icon-allow-overlap"],n["symbol-avoid-edges"]):t.minScale;y||g?!g&&b?b=Math.max(_,b):!y&&_&&(_=Math.max(_,b)):_=b=Math.max(_,b),m&&(t.insertCollisionFeature(p,b,n["text-ignore-placement"]),b<=r&&this.addSymbols("glyph",h.glyphQuadStartIndex,h.glyphQuadEndIndex,b,n["text-keep-upright"],i,t.angle)),v&&(t.insertCollisionFeature(d,_,n["icon-ignore-placement"]),_<=r&&this.addSymbols("icon",h.iconQuadStartIndex,h.iconQuadEndIndex,_,n["icon-keep-upright"],o,t.angle))}e&&this.addToDebugBuffers(t)},r.prototype.addSymbols=function(t,e,n,r,o,a,s){for(var u=this.prepareArrayGroup(t,4*(n-e)),l=u.elementArray,c=u.layoutVertexArray,f=this.zoom,h=Math.max(Math.log(r)/Math.LN2+f,0),p=e;p<n;p++){var d=this.symbolQuadsArray.get(p).SymbolQuad,m=(d.anchorAngle+s+Math.PI)%(2*Math.PI);if(!(o&&a&&(m<=Math.PI/2||m>3*Math.PI/2))){var v=d.tl,y=d.tr,g=d.bl,b=d.br,_=d.tex,x=d.anchorPoint,w=Math.max(f+Math.log(d.minScale)/Math.LN2,h),M=Math.min(f+Math.log(d.maxScale)/Math.LN2,25);if(!(M<=w)){w===h&&(w=0);var E=Math.round(d.glyphAngle/(2*Math.PI)*256),S=i(c,x.x,x.y,v.x,v.y,_.x,_.y,w,M,h,E);i(c,x.x,x.y,y.x,y.y,_.x+_.w,_.y,w,M,h,E),i(c,x.x,x.y,g.x,g.y,_.x,_.y+_.h,w,M,h,E),i(c,x.x,x.y,b.x,b.y,_.x+_.w,_.y+_.h,w,M,h,E),l.emplaceBack(S,S+1,S+2),l.emplaceBack(S+1,S+2,S+3)}}}},r.prototype.updateIcons=function(t){this.recalculateStyleLayers();var e=this.layer.layout["icon-image"];if(e)for(var n=0;n<this.features.length;n++){var r=l(this.features[n].properties,e);r&&(t[r]=!0)}},r.prototype.updateFont=function(t){this.recalculateStyleLayers();var e=this.layer.layout["text-font"],n=t[e]=t[e]||{};this.textFeatures=h(this.features,this.layer.layout,n)},r.prototype.addToDebugBuffers=function(t){for(var e=this.prepareArrayGroup("collisionBox",0),n=e.layoutVertexArray,r=-t.angle,i=t.yStretch,a=this.symbolInstancesStartIndex;a<this.symbolInstancesEndIndex;a++){var s=this.symbolInstancesArray.get(a);s.textCollisionFeature={boxStartIndex:s.textBoxStartIndex,boxEndIndex:s.textBoxEndIndex},s.iconCollisionFeature={boxStartIndex:s.iconBoxStartIndex,boxEndIndex:s.iconBoxEndIndex};for(var u=0;u<2;u++){var l=s[0===u?"textCollisionFeature":"iconCollisionFeature"];if(l)for(var c=l.boxStartIndex;c<l.boxEndIndex;c++){var f=this.collisionBoxArray.get(c),h=f.anchorPoint,p=new o(f.x1,f.y1*i)._rotate(r),d=new o(f.x2,f.y1*i)._rotate(r),m=new o(f.x1,f.y2*i)._rotate(r),v=new o(f.x2,f.y2*i)._rotate(r),y=Math.max(0,Math.min(25,this.zoom+Math.log(f.maxScale)/Math.LN2)),g=Math.max(0,Math.min(25,this.zoom+Math.log(f.placementScale)/Math.LN2));this.addCollisionBoxVertex(n,h,p,y,g),this.addCollisionBoxVertex(n,h,d,y,g),
this.addCollisionBoxVertex(n,h,d,y,g),this.addCollisionBoxVertex(n,h,v,y,g),this.addCollisionBoxVertex(n,h,v,y,g),this.addCollisionBoxVertex(n,h,m,y,g),this.addCollisionBoxVertex(n,h,m,y,g),this.addCollisionBoxVertex(n,h,p,y,g)}}}},r.prototype.addSymbolInstance=function(t,e,n,i,o,a,s,u,l,c,f,h,p,d,v,g,b,_,x){var E,S,T,C,P,k,A,I;if(n&&(A=a?w(t,n,h,e,o,d):[],P=new y(u,e,t,l,c,f,n,h,p,d,(!1))),E=this.symbolQuadsArray.length,A&&A.length)for(var O=0;O<A.length;O++)this.addSymbolQuad(A[O]);S=this.symbolQuadsArray.length;var R=P?P.boxStartIndex:this.collisionBoxArray.length,D=P?P.boxEndIndex:this.collisionBoxArray.length;i&&(I=a?M(t,i,v,e,o,b,n,_,x):[],k=new y(u,e,t,l,c,f,i,v,g,b,(!0))),T=this.symbolQuadsArray.length,I&&1===I.length&&this.addSymbolQuad(I[0]),C=this.symbolQuadsArray.length;var N=k?k.boxStartIndex:this.collisionBoxArray.length,j=k?k.boxEndIndex:this.collisionBoxArray.length;return C>r.MAX_QUADS&&m.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),S>r.MAX_QUADS&&m.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),this.symbolInstancesArray.emplaceBack(R,D,N,j,E,S,T,C,t.x,t.y,s)},r.prototype.addSymbolQuad=function(t){return this.symbolQuadsArray.emplaceBack(t.anchorPoint.x,t.anchorPoint.y,t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y,t.tex.h,t.tex.w,t.tex.x,t.tex.y,t.anchorAngle,t.glyphAngle,t.maxScale,t.minScale)}},{"../../symbol/anchor":93,"../../symbol/clip_line":95,"../../symbol/collision_feature":97,"../../symbol/get_anchors":99,"../../symbol/mergelines":102,"../../symbol/quads":103,"../../symbol/resolve_text":104,"../../symbol/shaping":105,"../../util/classify_rings":133,"../../util/find_pole_of_inaccessibility":138,"../../util/token":145,"../../util/util":146,"../bucket":31,"../load_geometry":39,"point-geometry":203}],36:[function(t,e,n){"use strict";function r(t,e,n){this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.attributes=e.members,this.itemSize=e.bytesPerElement,this.type=n,this.arrayType=e}e.exports=r,r.prototype.bind=function(t){var e=t[this.type];this.buffer?t.bindBuffer(e,this.buffer):(this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer,t.STATIC_DRAW),this.arrayBuffer=null)};var i={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT"};r.prototype.setVertexAttribPointers=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],o=e[r.name];void 0!==o&&t.vertexAttribPointer(o,r.components,t[i[r.type]],!1,this.arrayType.bytesPerElement,r.offset)}},r.prototype.destroy=function(t){this.buffer&&t.deleteBuffer(this.buffer)},r.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"}},{}],37:[function(t,e,n){"use strict";function r(t,e){this.layoutVertexBuffer=new o(t.layoutVertexArray,e.layoutVertexArrayType,o.BufferType.VERTEX),t.elementArray&&(this.elementBuffer=new o(t.elementArray,e.elementArrayType,o.BufferType.ELEMENT));var n,r=this.vaos={};t.elementArray2&&(this.elementBuffer2=new o(t.elementArray2,e.elementArrayType2,o.BufferType.ELEMENT),n=this.secondVaos={}),this.paintVertexBuffers=i.mapObject(t.paintVertexArrays,function(i,s){return r[s]=new a,t.elementArray2&&(n[s]=new a),new o(i,e.paintVertexArrayTypes[s],o.BufferType.VERTEX)})}var i=t("../util/util"),o=t("./buffer"),a=t("../render/vertex_array_object");e.exports=r,r.prototype.destroy=function(t){this.layoutVertexBuffer.destroy(t),this.elementBuffer&&this.elementBuffer.destroy(t),this.elementBuffer2&&this.elementBuffer2.destroy(t);for(var e in this.paintVertexBuffers)this.paintVertexBuffers[e].destroy(t);for(var n in this.vaos)this.vaos[n].destroy(t);for(var r in this.secondVaos)this.secondVaos[r].destroy(t)}},{"../render/vertex_array_object":59,"../util/util":146,"./buffer":36}],38:[function(t,e,n){"use strict";function r(t,e,n){if(t.grid){var r=t,i=e;t=r.coord,e=r.overscaling,this.grid=new d(r.grid),this.featureIndexArray=new E(r.featureIndexArray),this.rawTileData=i,this.bucketLayerIDs=r.bucketLayerIDs}else this.grid=new d(f,16,0),this.featureIndexArray=new E;this.coord=t,this.overscaling=e,this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.setCollisionTile(n)}function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e){return e-t}function a(t){return t["line-gap-width"]>0?t["line-gap-width"]+2*t["line-width"]:t["line-width"]}function s(t,e,n,r,i){if(!e[0]&&!e[1])return t;e=l.convert(e),"viewport"===n&&e._rotate(-r);for(var o=[],a=0;a<t.length;a++){for(var s=t[a],u=[],c=0;c<s.length;c++)u.push(s[c].sub(e._mult(i)));o.push(u)}return o}function u(t,e){for(var n=[],r=new l(0,0),i=0;i<t.length;i++){for(var o=t[i],a=[],s=0;s<o.length;s++){var u=o[s-1],c=o[s],f=o[s+1],h=0===s?r:c.sub(u)._unit()._perp(),p=s===o.length-1?r:f.sub(c)._unit()._perp(),d=h._add(p)._unit(),m=d.x*p.x+d.y*p.y;d._mult(1/m),a.push(d._mult(e)._add(c))}n.push(a)}return n}var l=t("point-geometry"),c=t("./load_geometry"),f=t("./bucket").EXTENT,h=t("feature-filter"),p=t("../util/struct_array"),d=t("grid-index"),m=t("../util/dictionary_coder"),v=t("vector-tile"),y=t("pbf"),g=t("../util/vectortile_to_geojson"),b=t("../util/util").arraysIntersect,_=t("../util/intersection_tests"),x=_.multiPolygonIntersectsBufferedMultiPoint,w=_.multiPolygonIntersectsMultiPolygon,M=_.multiPolygonIntersectsBufferedMultiLine,E=new p({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]});e.exports=r,r.prototype.insert=function(t,e,n,r){var i=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(e,n,r);for(var o=c(t),a=0;a<o.length;a++){for(var s=o[a],u=[1/0,1/0,-(1/0),-(1/0)],l=0;l<s.length;l++){var f=s[l];u[0]=Math.min(u[0],f.x),u[1]=Math.min(u[1],f.y),u[2]=Math.max(u[2],f.x),u[3]=Math.max(u[3],f.y)}this.grid.insert(i,u[0],u[1],u[2],u[3])}},r.prototype.setCollisionTile=function(t){this.collisionTile=t},r.prototype.serialize=function(){var t={coord:this.coord,overscaling:this.overscaling,grid:this.grid.toArrayBuffer(),featureIndexArray:this.featureIndexArray.serialize(),bucketLayerIDs:this.bucketLayerIDs};return{data:t,transferables:[t.grid,t.featureIndexArray.arrayBuffer]}},r.prototype.query=function(t,e){this.vtLayers||(this.vtLayers=new v.VectorTile(new y(new Uint8Array(this.rawTileData))).layers,this.sourceLayerCoder=new m(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var n={},r=t.params||{},s=f/t.tileSize/t.scale,u=h(r.filter),c=0;for(var p in e){var d=e[p],g=d.paint,b=0;"line"===d.type?b=a(g)/2+Math.abs(g["line-offset"])+i(g["line-translate"]):"fill"===d.type?b=i(g["fill-translate"]):"circle"===d.type&&(b=g["circle-radius"]+i(g["circle-translate"])),c=Math.max(c,b*s)}for(var _=t.queryGeometry.map(function(t){return t.map(function(t){return new l(t.x,t.y)})}),x=1/0,w=1/0,M=-(1/0),E=-(1/0),S=0;S<_.length;S++)for(var T=_[S],C=0;C<T.length;C++){var P=T[C];x=Math.min(x,P.x),w=Math.min(w,P.y),M=Math.max(M,P.x),E=Math.max(E,P.y)}var k=this.grid.query(x-c,w-c,M+c,E+c);k.sort(o),this.filterMatching(n,k,this.featureIndexArray,_,u,r.layers,e,t.bearing,s);var A=this.collisionTile.queryRenderedSymbols(x,w,M,E,t.scale);return A.sort(),this.filterMatching(n,A,this.collisionTile.collisionBoxArray,_,u,r.layers,e,t.bearing,s),n},r.prototype.filterMatching=function(t,e,n,r,i,o,l,f,h){for(var p,d=0;d<e.length;d++){var m=e[d];if(m!==p){p=m;var v=n.get(m),y=this.bucketLayerIDs[v.bucketIndex];if(!o||b(o,y)){var _=this.sourceLayerCoder.decode(v.sourceLayerIndex),E=this.vtLayers[_],S=E.feature(v.featureIndex);if(i(S))for(var T=null,C=0;C<y.length;C++){var P=y[C];if(!(o&&o.indexOf(P)<0)){var k=l[P];if(k){var A;if("symbol"!==k.type){T||(T=c(S));var I=k.paint;if("line"===k.type){A=s(r,I["line-translate"],I["line-translate-anchor"],f,h);var O=a(I)/2*h;if(I["line-offset"]&&(T=u(T,I["line-offset"]*h)),!M(A,T,O))continue}else if("fill"===k.type){if(A=s(r,I["fill-translate"],I["fill-translate-anchor"],f,h),!w(A,T))continue}else if("circle"===k.type){A=s(r,I["circle-translate"],I["circle-translate-anchor"],f,h);var R=I["circle-radius"]*h;if(!x(A,T,R))continue}}var D=new g(S,this.z,this.x,this.y);D.layer=k.serialize({includeRefProperties:!0});var N=t[P];void 0===N&&(N=t[P]=[]),N.push(D)}}}}}}}},{"../util/dictionary_coder":135,"../util/intersection_tests":141,"../util/struct_array":144,"../util/util":146,"../util/vectortile_to_geojson":147,"./bucket":31,"./load_geometry":39,"feature-filter":151,"grid-index":173,pbf:201,"point-geometry":203,"vector-tile":214}],39:[function(t,e,n){"use strict";function r(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}var i=t("../util/util"),o=t("./bucket").EXTENT,a=t("assert"),s={15:r(15),16:r(16)};e.exports=function(t,e){var n=s[e||16];a(n);for(var r=o/t.extent,u=t.loadGeometry(),l=0;l<u.length;l++)for(var c=u[l],f=0;f<c.length;f++){var h=c[f];h.x=Math.round(h.x*r),h.y=Math.round(h.y*r),(h.x<n.min||h.x>n.max||h.y<n.min||h.y>n.max)&&i.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return u}},{"../util/util":146,"./bucket":31,assert:1}],40:[function(t,e,n){"use strict";function r(t,e,n){this.column=t,this.row=e,this.zoom=n}e.exports=r,r.prototype={clone:function(){return new r(this.column,this.row,this.zoom)},zoomTo:function(t){return this.clone()._zoomTo(t)},sub:function(t){return this.clone()._sub(t)},_zoomTo:function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},_sub:function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this}}},{}],41:[function(t,e,n){"use strict";function r(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}e.exports=r;var i=t("../util/util").wrap;r.prototype.wrap=function(){return new r(i(this.lng,-180,180),this.lat)},r.prototype.toArray=function(){return[this.lng,this.lat]},r.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{"../util/util":146}],42:[function(t,e,n){"use strict";function r(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}e.exports=r;var i=t("./lng_lat");r.prototype={setNorthEast:function(t){return this._ne=i.convert(t),this},setSouthWest:function(t){return this._sw=i.convert(t),this},extend:function(t){var e,n,o=this._sw,a=this._ne;if(t instanceof i)e=t,n=t;else{if(!(t instanceof r))return t?this.extend(i.convert(t)||r.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return o||a?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new i(e.lng,e.lat),this._ne=new i(n.lng,n.lat)),this},getCenter:function(){return new i((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},getSouthWest:function(){return this._sw},getNorthEast:function(){return this._ne},getNorthWest:function(){return new i(this.getWest(),this.getNorth())},getSouthEast:function(){return new i(this.getEast(),this.getSouth())},getWest:function(){return this._sw.lng},getSouth:function(){return this._sw.lat},getEast:function(){return this._ne.lng},getNorth:function(){return this._ne.lat},toArray:function(){return[this._sw.toArray(),this._ne.toArray()]},toString:function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"}},r.convert=function(t){return!t||t instanceof r?t:new r(t)}},{"./lng_lat":41}],43:[function(t,e,n){"use strict";function r(t,e){this.tileSize=512,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new i(0,0),this.zoom=0,this.angle=0,this._altitude=1.5,this._pitch=0,this._unmodified=!0}var i=t("./lng_lat"),o=t("point-geometry"),a=t("./coordinate"),s=t("../util/util").wrap,u=t("../util/interpolate"),l=t("../source/tile_coord"),c=t("../data/bucket").EXTENT,f=t("gl-matrix"),h=f.vec4,p=f.mat4,d=f.mat2;e.exports=r,r.prototype={get minZoom(){return this._minZoom},set minZoom(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},get maxZoom(){return this._maxZoom},set maxZoom(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},get worldSize(){return this.tileSize*this.scale},get centerPoint(){return this.size._div(2)},get size(){return new o(this.width,this.height)},get bearing(){return-this.angle/Math.PI*180},set bearing(t){var e=-s(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=d.create(),d.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},get pitch(){return this._pitch/Math.PI*180},set pitch(t){var e=Math.min(60,t)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},get altitude(){return this._altitude},set altitude(t){var e=Math.max(.75,t);this._altitude!==e&&(this._unmodified=!1,this._altitude=e,this._calcMatrices())},get zoom(){return this._zoom},set zoom(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._calcMatrices(),this._constrain())},get center(){return this._center},set center(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._calcMatrices(),this._constrain())},coveringZoomLevel:function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},coveringTiles:function(t){var e=this.coveringZoomLevel(t),n=e;if(e<t.minzoom)return[];e>t.maxzoom&&(e=t.maxzoom);var r=this,i=r.locationCoordinate(r.center)._zoomTo(e),a=new o(i.column-.5,i.row-.5);return l.cover(e,[r.pointCoordinate(new o(0,0))._zoomTo(e),r.pointCoordinate(new o(r.width,0))._zoomTo(e),r.pointCoordinate(new o(r.width,r.height))._zoomTo(e),r.pointCoordinate(new o(0,r.height))._zoomTo(e)],t.reparseOverscaled?n:e).sort(function(t,e){return a.dist(t)-a.dist(e)})},resize:function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._calcMatrices(),this._constrain()},get unmodified(){return this._unmodified},zoomScale:function(t){return Math.pow(2,t)},scaleZoom:function(t){return Math.log(t)/Math.LN2},project:function(t,e){return new o(this.lngX(t.lng,e),this.latY(t.lat,e))},unproject:function(t,e){return new i(this.xLng(t.x,e),this.yLat(t.y,e))},get x(){return this.lngX(this.center.lng)},get y(){return this.latY(this.center.lat)},get point(){return new o(this.x,this.y)},lngX:function(t,e){return(180+t)*(e||this.worldSize)/360},latY:function(t,e){var n=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-n)*(e||this.worldSize)/360},xLng:function(t,e){return 360*t/(e||this.worldSize)-180},yLat:function(t,e){var n=180-360*t/(e||this.worldSize);return 360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90},panBy:function(t){var e=this.centerPoint._add(t);this.center=this.pointLocation(e)},setLocationAtPoint:function(t,e){var n=this.locationCoordinate(t),r=this.pointCoordinate(e),i=this.pointCoordinate(this.centerPoint),o=r._sub(n);this._unmodified=!1,this.center=this.coordinateLocation(i._sub(o))},locationPoint:function(t){return this.coordinatePoint(this.locationCoordinate(t))},pointLocation:function(t){return this.coordinateLocation(this.pointCoordinate(t))},locationCoordinate:function(t){var e=this.zoomScale(this.tileZoom)/this.worldSize,n=i.convert(t);return new a(this.lngX(n.lng)*e,this.latY(n.lat)*e,this.tileZoom)},coordinateLocation:function(t){var e=this.zoomScale(t.zoom);return new i(this.xLng(t.column,e),this.yLat(t.row,e))},pointCoordinate:function(t){var e=0,n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];h.transformMat4(n,n,this.pixelMatrixInverse),h.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],s=n[0]/i,l=r[0]/o,c=n[1]/i,f=r[1]/o,p=n[2]/i,d=r[2]/o,m=p===d?0:(e-p)/(d-p),v=this.worldSize/this.zoomScale(this.tileZoom);return new a(u(s,l,m)/v,u(c,f,m)/v,this.tileZoom)},coordinatePoint:function(t){var e=this.worldSize/this.zoomScale(t.zoom),n=[t.column*e,t.row*e,0,1];return h.transformMat4(n,n,this.pixelMatrix),new o(n[0]/n[3],n[1]/n[3])},calculatePosMatrix:function(t,e){void 0===e&&(e=1/0),t instanceof l&&(t=t.toCoordinate(e));var n=Math.min(t.zoom,e),r=this.worldSize/Math.pow(2,n),i=new Float64Array(16);return p.identity(i),p.translate(i,i,[t.column*r,t.row*r,0]),p.scale(i,i,[r/c,r/c,1]),p.multiply(i,this.projMatrix,i),new Float32Array(i)},_constrain:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,r,i,a,s,u,l=this.size,c=this._unmodified;this.latRange&&(t=this.latY(this.latRange[1]),e=this.latY(this.latRange[0]),i=e-t<l.y?l.y/(e-t):0),this.lngRange&&(n=this.lngX(this.lngRange[0]),r=this.lngX(this.lngRange[1]),a=r-n<l.x?l.x/(r-n):0);var f=Math.max(a||0,i||0);if(f)return this.center=this.unproject(new o(a?(r+n)/2:this.x,i?(e+t)/2:this.y)),this.zoom+=this.scaleZoom(f),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var h=this.y,p=l.y/2;h-p<t&&(u=t+p),h+p>e&&(u=e-p)}if(this.lngRange){var d=this.x,m=l.x/2;d-m<n&&(s=n+m),d+m>r&&(s=r-m)}void 0===s&&void 0===u||(this.center=this.unproject(new o(void 0!==s?s:this.x,void 0!==u?u:this.y))),this._unmodified=c,this._constraining=!1}},_calcMatrices:function(){if(this.height){var t=Math.atan(.5/this.altitude),e=Math.sin(t)*this.altitude/Math.sin(Math.PI/2-this._pitch-t),n=Math.cos(Math.PI/2-this._pitch)*e+this.altitude,r=new Float64Array(16);if(p.perspective(r,2*Math.atan(this.height/2/this.altitude),this.width/this.height,.1,n),p.translate(r,r,[0,0,-this.altitude]),p.scale(r,r,[1,-1,1/this.height]),p.rotateX(r,r,this._pitch),p.rotateZ(r,r,this.angle),p.translate(r,r,[-this.x,-this.y,0]),this.projMatrix=r,r=p.create(),p.scale(r,r,[this.width/2,-this.height/2,1]),p.translate(r,r,[1,-1,0]),this.pixelMatrix=p.multiply(new Float64Array(16),r,this.projMatrix),r=p.invert(new Float64Array(16),this.pixelMatrix),!r)throw new Error("failed to invert matrix");this.pixelMatrixInverse=r}}}},{"../data/bucket":31,"../source/tile_coord":71,"../util/interpolate":140,"../util/util":146,"./coordinate":40,"./lng_lat":41,"gl-matrix":163,"point-geometry":203}],44:[function(t,e,n){"use strict";var r,i=t("./util/worker_pool");e.exports=function(){return r||(r=new i),r}},{"./util/worker_pool":148}],45:[function(t,e,n){"use strict";var r={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};e.exports=function(t,e,n,i){i=i||1;var o,a,s,u,l,c,f,h,p=[];for(o=0,a=t.length;o<a;o++)if(l=r[t[o]]){for(h=null,s=0,u=l[1].length;s<u;s+=2)l[1][s]===-1&&l[1][s+1]===-1?h=null:(c=e+l[1][s]*i,f=n-l[1][s+1]*i,h&&p.push(h.x,h.y,c,f),h={x:c,y:f});e+=l[0]*i}return p}},{}],46:[function(t,e,n){"use strict";var r=t("assert");e.exports=function(t){for(var e={define:{},initialize:{}},n=0;n<t.length;n++){var i=t[n];r("u_"===i.name.slice(0,2));var o="{precision} "+(1===i.components?"float":"vec"+i.components);e.define[i.name.slice(2)]="uniform "+o+" "+i.name+";\n",e.initialize[i.name.slice(2)]=o+" "+i.name.slice(2)+" = "+i.name+";\n"}return e}},{assert:1}],47:[function(t,e,n){"use strict";function r(t,e,n){var r,s=t.gl,u=t.transform,l=n.paint["background-color"],c=n.paint["background-pattern"],f=n.paint["background-opacity"],h=c?t.spriteAtlas.getPosition(c.from,!0):null,p=c?t.spriteAtlas.getPosition(c.to,!0):null;if(t.setDepthSublayer(0),h&&p){if(t.isOpaquePass)return;r=t.useProgram("pattern"),s.uniform1i(r.u_image,0),s.uniform2fv(r.u_pattern_tl_a,h.tl),s.uniform2fv(r.u_pattern_br_a,h.br),s.uniform2fv(r.u_pattern_tl_b,p.tl),s.uniform2fv(r.u_pattern_br_b,p.br),s.uniform1f(r.u_opacity,f),s.uniform1f(r.u_mix,c.t),s.uniform2fv(r.u_pattern_size_a,h.size),s.uniform2fv(r.u_pattern_size_b,p.size),s.uniform1f(r.u_scale_a,c.fromScale),s.uniform1f(r.u_scale_b,c.toScale),s.activeTexture(s.TEXTURE0),t.spriteAtlas.bind(s,!0),t.tileExtentPatternVAO.bind(s,r,t.tileExtentBuffer)}else{if(t.isOpaquePass!==(1===l[3]))return;var d=o([{name:"u_color",components:4},{name:"u_opacity",components:1}]);r=t.useProgram("fill",[],d,d),s.uniform4fv(r.u_color,l),s.uniform1f(r.u_opacity,f),t.tileExtentVAO.bind(s,r,t.tileExtentBuffer)}s.disable(s.STENCIL_TEST);for(var m=u.coveringTiles({tileSize:a}),v=0;v<m.length;v++){var y=m[v];if(h&&p){var g={coord:y,tileSize:a};s.uniform1f(r.u_tile_units_to_pixels,1/i(g,1,t.transform.tileZoom));var b=g.tileSize*Math.pow(2,t.transform.tileZoom-g.coord.z),_=b*(g.coord.x+y.w*Math.pow(2,g.coord.z)),x=b*g.coord.y;s.uniform2f(r.u_pixel_coord_upper,_>>16,x>>16),s.uniform2f(r.u_pixel_coord_lower,65535&_,65535&x)}s.uniformMatrix4fv(r.u_matrix,!1,t.transform.calculatePosMatrix(y)),s.drawArrays(s.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}s.stencilMask(0),s.stencilFunc(s.EQUAL,128,128)}var i=t("../source/pixels_to_tile_units"),o=t("./create_uniform_pragmas"),a=512;e.exports=r},{"../source/pixels_to_tile_units":65,"./create_uniform_pragmas":46}],48:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var o=t.gl;t.setDepthSublayer(0),t.depthMask(!1),o.disable(o.STENCIL_TEST);for(var a=0;a<r.length;a++){var s=r[a],u=e.getTile(s),l=u.getBucket(n);if(l){var c=l.bufferGroups.circle;if(c){var f=l.paintAttributes.circle[n.id],h=t.useProgram("circle",f.defines,f.vertexPragmas,f.fragmentPragmas);"map"===n.paint["circle-pitch-scale"]?(o.uniform1i(h.u_scale_with_map,!0),o.uniform2f(h.u_extrude_scale,t.transform.pixelsToGLUnits[0]*t.transform.altitude,t.transform.pixelsToGLUnits[1]*t.transform.altitude)):(o.uniform1i(h.u_scale_with_map,!1),o.uniform2fv(h.u_extrude_scale,t.transform.pixelsToGLUnits)),o.uniform1f(h.u_devicepixelratio,i.devicePixelRatio),o.uniformMatrix4fv(h.u_matrix,!1,t.translatePosMatrix(s.posMatrix,u,n.paint["circle-translate"],n.paint["circle-translate-anchor"])),l.setUniforms(o,"circle",h,n,{zoom:t.transform.zoom});for(var p=0;p<c.length;p++){var d=c[p];d.vaos[n.id].bind(o,h,d.layoutVertexBuffer,d.elementBuffer,d.paintVertexBuffers[n.id]),o.drawElements(o.TRIANGLES,3*d.elementBuffer.length,o.UNSIGNED_SHORT,0)}}}}}}var i=t("../util/browser");e.exports=r},{"../util/browser":129}],49:[function(t,e,n){"use strict";function r(t,e,n,r){var i=t.gl;i.enable(i.STENCIL_TEST);for(var o=t.useProgram("collisionbox"),a=0;a<r.length;a++){var s=r[a],u=e.getTile(s),l=u.getBucket(n);if(l){var c=l.bufferGroups.collisionBox;if(c&&c.length){var f=c[0];0!==f.layoutVertexBuffer.length&&(i.uniformMatrix4fv(o.u_matrix,!1,s.posMatrix),t.enableTileClippingMask(s),t.lineWidth(1),i.uniform1f(o.u_scale,Math.pow(2,t.transform.zoom-u.coord.z)),i.uniform1f(o.u_zoom,10*t.transform.zoom),i.uniform1f(o.u_maxzoom,10*(u.coord.z+1)),f.vaos[n.id].bind(i,o,f.layoutVertexBuffer),i.drawArrays(i.LINES,0,f.layoutVertexBuffer.length))}}}}e.exports=r},{}],50:[function(t,e,n){"use strict";function r(t,e,n){if(!t.isOpaquePass&&t.options.debug)for(var r=0;r<n.length;r++)i(t,e,n[r])}function i(t,e,n){var r=t.gl;r.disable(r.STENCIL_TEST),t.lineWidth(1*a.devicePixelRatio);var i=n.posMatrix,f=t.useProgram("debug");r.uniformMatrix4fv(f.u_matrix,!1,i),r.uniform4f(f.u_color,1,0,0,1),t.debugVAO.bind(r,f,t.debugBuffer),r.drawArrays(r.LINE_STRIP,0,t.debugBuffer.length);for(var h=o(n.toString(),50,200,5),p=new t.PosArray,d=0;d<h.length;d+=2)p.emplaceBack(h[d],h[d+1]);var m=new l(p.serialize(),t.PosArray.serialize(),l.BufferType.VERTEX),v=new c;v.bind(r,f,m),r.uniform4f(f.u_color,1,1,1,1);for(var y=e.getTile(n).tileSize,g=u/(Math.pow(2,t.transform.zoom-n.z)*y),b=[[-1,-1],[-1,1],[1,-1],[1,1]],_=0;_<b.length;_++){var x=b[_];r.uniformMatrix4fv(f.u_matrix,!1,s.translate([],i,[g*x[0],g*x[1],0])),r.drawArrays(r.LINES,0,m.length)}r.uniform4f(f.u_color,0,0,0,1),r.uniformMatrix4fv(f.u_matrix,!1,i),r.drawArrays(r.LINES,0,m.length)}var o=t("../lib/debugtext"),a=t("../util/browser"),s=t("gl-matrix").mat4,u=t("../data/bucket").EXTENT,l=t("../data/buffer"),c=t("./vertex_array_object");e.exports=r},{"../data/bucket":31,"../data/buffer":36,"../lib/debugtext":45,"../util/browser":129,"./vertex_array_object":59,"gl-matrix":163}],51:[function(t,e,n){"use strict";function r(t,e,n,r){var a=t.gl;a.enable(a.STENCIL_TEST);var s;if(s=!n.paint["fill-pattern"]&&(n.isPaintValueFeatureConstant("fill-color")&&n.isPaintValueFeatureConstant("fill-opacity")&&1===n.paint["fill-color"][3]&&1===n.paint["fill-opacity"]),t.isOpaquePass===s){t.setDepthSublayer(1);for(var u=0;u<r.length;u++)i(t,e,n,r[u])}if(!t.isOpaquePass&&n.paint["fill-antialias"]){t.lineWidth(2),t.depthMask(!1);var l=n.getPaintProperty("fill-outline-color");(l||!n.paint["fill-pattern"])&&l?t.setDepthSublayer(2):t.setDepthSublayer(0);for(var c=0;c<r.length;c++)o(t,e,n,r[c])}}function i(t,e,n,r){var i=e.getTile(r),o=i.getBucket(n);if(o){var s=o.bufferGroups.fill;if(s){var u,l=t.gl,c=n.paint["fill-pattern"];if(c)u=t.useProgram("pattern"),a(c,n.paint["fill-opacity"],i,r,t,u),l.activeTexture(l.TEXTURE0),t.spriteAtlas.bind(l,!0);else{var f=o.paintAttributes.fill[n.id];
u=t.useProgram("fill",f.defines,f.vertexPragmas,f.fragmentPragmas),o.setUniforms(l,"fill",u,n,{zoom:t.transform.zoom})}l.uniformMatrix4fv(u.u_matrix,!1,t.translatePosMatrix(r.posMatrix,i,n.paint["fill-translate"],n.paint["fill-translate-anchor"])),t.enableTileClippingMask(r);for(var h=0;h<s.length;h++){var p=s[h];p.vaos[n.id].bind(l,u,p.layoutVertexBuffer,p.elementBuffer,p.paintVertexBuffers[n.id]),l.drawElements(l.TRIANGLES,p.elementBuffer.length,l.UNSIGNED_SHORT,0)}}}}function o(t,e,n,r){var i=e.getTile(r),o=i.getBucket(n);if(o){var s,u=t.gl,l=o.bufferGroups.fill,c=n.paint["fill-pattern"],f=n.paint["fill-opacity"],h=n.getPaintProperty("fill-outline-color");if(c&&!h)s=t.useProgram("outlinepattern"),u.uniform2f(s.u_world,u.drawingBufferWidth,u.drawingBufferHeight);else{var p=o.paintAttributes.fill[n.id];s=t.useProgram("outline",p.defines,p.vertexPragmas,p.fragmentPragmas),u.uniform2f(s.u_world,u.drawingBufferWidth,u.drawingBufferHeight),u.uniform1f(s.u_opacity,f),o.setUniforms(u,"fill",s,n,{zoom:t.transform.zoom})}u.uniformMatrix4fv(s.u_matrix,!1,t.translatePosMatrix(r.posMatrix,i,n.paint["fill-translate"],n.paint["fill-translate-anchor"])),c&&a(c,f,i,r,t,s),t.enableTileClippingMask(r);for(var d=0;d<l.length;d++){var m=l[d];m.secondVaos[n.id].bind(u,s,m.layoutVertexBuffer,m.elementBuffer2,m.paintVertexBuffers[n.id]),u.drawElements(u.LINES,2*m.elementBuffer2.length,u.UNSIGNED_SHORT,0)}}}function a(t,e,n,r,i,o){var a=i.gl,u=i.spriteAtlas.getPosition(t.from,!0),l=i.spriteAtlas.getPosition(t.to,!0);if(u&&l){a.uniform1i(o.u_image,0),a.uniform2fv(o.u_pattern_tl_a,u.tl),a.uniform2fv(o.u_pattern_br_a,u.br),a.uniform2fv(o.u_pattern_tl_b,l.tl),a.uniform2fv(o.u_pattern_br_b,l.br),a.uniform1f(o.u_opacity,e),a.uniform1f(o.u_mix,t.t),a.uniform1f(o.u_tile_units_to_pixels,1/s(n,1,i.transform.tileZoom)),a.uniform2fv(o.u_pattern_size_a,u.size),a.uniform2fv(o.u_pattern_size_b,l.size),a.uniform1f(o.u_scale_a,t.fromScale),a.uniform1f(o.u_scale_b,t.toScale);var c=n.tileSize*Math.pow(2,i.transform.tileZoom-n.coord.z),f=c*(n.coord.x+r.w*Math.pow(2,n.coord.z)),h=c*n.coord.y;a.uniform2f(o.u_pixel_coord_upper,f>>16,h>>16),a.uniform2f(o.u_pixel_coord_lower,65535&f,65535&h),a.activeTexture(a.TEXTURE0),i.spriteAtlas.bind(a,!0)}}var s=t("../source/pixels_to_tile_units");e.exports=r},{"../source/pixels_to_tile_units":65}],52:[function(t,e,n){"use strict";function r(t,e,n,r){var s=e.getTile(r),u=s.getBucket(n);if(u){var l=u.bufferGroups.line;if(l){var c=t.gl,f=u.paintAttributes.line[n.id],h=1/i.devicePixelRatio,p=n.paint["line-blur"]+h,d=n.paint["line-color"],m=t.transform,v=o.create();o.scale(v,v,[1,Math.cos(m._pitch)]),o.rotate(v,v,t.transform.angle);var y,g,b,_,x,w=Math.sqrt(m.height*m.height/4*(1+m.altitude*m.altitude)),M=m.height/2*Math.tan(m._pitch),E=(w+M)/w-1,S=n.paint["line-dasharray"],T=n.paint["line-pattern"];if(S)y=t.useProgram("linesdfpattern",f.defines,f.vertexPragmas,f.fragmentPragmas),c.uniform1f(y.u_linewidth,n.paint["line-width"]/2),c.uniform1f(y.u_gapwidth,n.paint["line-gap-width"]/2),c.uniform1f(y.u_antialiasing,h/2),c.uniform1f(y.u_blur,p),c.uniform4fv(y.u_color,d),c.uniform1f(y.u_opacity,n.paint["line-opacity"]),g=t.lineAtlas.getDash(S.from,"round"===n.layout["line-cap"]),b=t.lineAtlas.getDash(S.to,"round"===n.layout["line-cap"]),c.uniform1i(y.u_image,0),c.activeTexture(c.TEXTURE0),t.lineAtlas.bind(c),c.uniform1f(y.u_tex_y_a,g.y),c.uniform1f(y.u_tex_y_b,b.y),c.uniform1f(y.u_mix,S.t),c.uniform1f(y.u_extra,E),c.uniform1f(y.u_offset,-n.paint["line-offset"]),c.uniformMatrix2fv(y.u_antialiasingmatrix,!1,v);else if(T){if(_=t.spriteAtlas.getPosition(T.from,!0),x=t.spriteAtlas.getPosition(T.to,!0),!_||!x)return;y=t.useProgram("linepattern",f.defines,f.vertexPragmas,f.fragmentPragmas),c.uniform1i(y.u_image,0),c.activeTexture(c.TEXTURE0),t.spriteAtlas.bind(c,!0),c.uniform1f(y.u_linewidth,n.paint["line-width"]/2),c.uniform1f(y.u_gapwidth,n.paint["line-gap-width"]/2),c.uniform1f(y.u_antialiasing,h/2),c.uniform1f(y.u_blur,p),c.uniform2fv(y.u_pattern_tl_a,_.tl),c.uniform2fv(y.u_pattern_br_a,_.br),c.uniform2fv(y.u_pattern_tl_b,x.tl),c.uniform2fv(y.u_pattern_br_b,x.br),c.uniform1f(y.u_fade,T.t),c.uniform1f(y.u_opacity,n.paint["line-opacity"]),c.uniform1f(y.u_extra,E),c.uniform1f(y.u_offset,-n.paint["line-offset"]),c.uniformMatrix2fv(y.u_antialiasingmatrix,!1,v)}else y=t.useProgram("line",f.defines,f.vertexPragmas,f.fragmentPragmas),c.uniform1f(y.u_linewidth,n.paint["line-width"]/2),c.uniform1f(y.u_gapwidth,n.paint["line-gap-width"]/2),c.uniform1f(y.u_antialiasing,h/2),c.uniform1f(y.u_blur,p),c.uniform1f(y.u_extra,E),c.uniform1f(y.u_offset,-n.paint["line-offset"]),c.uniformMatrix2fv(y.u_antialiasingmatrix,!1,v),c.uniform4fv(y.u_color,d),c.uniform1f(y.u_opacity,n.paint["line-opacity"]);t.enableTileClippingMask(r);var C=t.translatePosMatrix(r.posMatrix,s,n.paint["line-translate"],n.paint["line-translate-anchor"]);c.uniformMatrix4fv(y.u_matrix,!1,C);var P=1/a(s,1,t.transform.zoom);if(S){var k=g.width*S.fromScale,A=b.width*S.toScale,I=[1/a(s,k,t.transform.tileZoom),-g.height/2],O=[1/a(s,A,t.transform.tileZoom),-b.height/2],R=t.lineAtlas.width/(256*Math.min(k,A)*i.devicePixelRatio)/2;c.uniform1f(y.u_ratio,P),c.uniform2fv(y.u_patternscale_a,I),c.uniform2fv(y.u_patternscale_b,O),c.uniform1f(y.u_sdfgamma,R)}else T?(c.uniform1f(y.u_ratio,P),c.uniform2fv(y.u_pattern_size_a,[a(s,_.size[0]*T.fromScale,t.transform.tileZoom),x.size[1]]),c.uniform2fv(y.u_pattern_size_b,[a(s,x.size[0]*T.toScale,t.transform.tileZoom),x.size[1]])):c.uniform1f(y.u_ratio,P);u.setUniforms(c,"line",y,n,{zoom:t.transform.zoom});for(var D=0;D<l.length;D++){var N=l[D];N.vaos[n.id].bind(c,y,N.layoutVertexBuffer,N.elementBuffer,N.paintVertexBuffers[n.id]),c.drawElements(c.TRIANGLES,3*N.elementBuffer.length,c.UNSIGNED_SHORT,0)}}}}var i=t("../util/browser"),o=t("gl-matrix").mat2,a=t("../source/pixels_to_tile_units");e.exports=function(t,e,n,i){if(!t.isOpaquePass){t.setDepthSublayer(0),t.depthMask(!1);var o=t.gl;if(o.enable(o.STENCIL_TEST),!(n.paint["line-width"]<=0))for(var a=0;a<i.length;a++)r(t,e,n,i[a])}}},{"../source/pixels_to_tile_units":65,"../util/browser":129,"gl-matrix":163}],53:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var o=t.gl;o.enable(o.DEPTH_TEST),t.depthMask(!0),o.depthFunc(o.LESS);for(var a=r.length&&r[0].z,s=0;s<r.length;s++){var u=r[s];t.setDepthSublayer(u.z-a),i(t,e,n,u)}o.depthFunc(o.LEQUAL)}}function i(t,e,n,r){var i=t.gl;i.disable(i.STENCIL_TEST);var l=e.getTile(r),c=t.transform.calculatePosMatrix(r,e.maxzoom),f=t.useProgram("raster");i.uniformMatrix4fv(f.u_matrix,!1,c),i.uniform1f(f.u_brightness_low,n.paint["raster-brightness-min"]),i.uniform1f(f.u_brightness_high,n.paint["raster-brightness-max"]),i.uniform1f(f.u_saturation_factor,s(n.paint["raster-saturation"])),i.uniform1f(f.u_contrast_factor,a(n.paint["raster-contrast"])),i.uniform3fv(f.u_spin_weights,o(n.paint["raster-hue-rotate"]));var h,p,d=l.source&&l.source.findLoadedParent(r,0,{}),m=u(l,d,n,t.transform);i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,l.texture),i.activeTexture(i.TEXTURE1),d?(i.bindTexture(i.TEXTURE_2D,d.texture),h=Math.pow(2,d.coord.z-l.coord.z),p=[l.coord.x*h%1,l.coord.y*h%1]):(i.bindTexture(i.TEXTURE_2D,l.texture),m[1]=0),i.uniform2fv(f.u_tl_parent,p||[0,0]),i.uniform1f(f.u_scale_parent,h||1),i.uniform1f(f.u_buffer_scale,1),i.uniform1f(f.u_opacity0,m[0]),i.uniform1f(f.u_opacity1,m[1]),i.uniform1i(f.u_image0,0),i.uniform1i(f.u_image1,1);var v=l.boundsBuffer||t.rasterBoundsBuffer,y=l.boundsVAO||t.rasterBoundsVAO;y.bind(i,f,v),i.drawArrays(i.TRIANGLE_STRIP,0,v.length)}function o(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function a(t){return t>0?1/(1-t):1+t}function s(t){return t>0?1-1/(1.001-t):-t}function u(t,e,n,r){var i=[1,0],o=n.paint["raster-fade-duration"];if(t.source&&o>0){var a=(new Date).getTime(),s=(a-t.timeAdded)/o,u=e?(a-e.timeAdded)/o:-1,c=r.coveringZoomLevel(t.source),f=!!e&&Math.abs(e.coord.z-c)>Math.abs(t.coord.z-c);!e||f?(i[0]=l.clamp(s,0,1),i[1]=1-i[0]):(i[0]=l.clamp(1-u,0,1),i[1]=1-i[0])}var h=n.paint["raster-opacity"];return i[0]*=h,i[1]*=h,i}var l=t("../util/util"),c=t("../util/struct_array");e.exports=r,r.RasterBoundsArray=new c({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]})},{"../util/struct_array":144,"../util/util":146}],54:[function(t,e,n){"use strict";function r(t,e,n,r){if(!t.isOpaquePass){var o=!(n.layout["text-allow-overlap"]||n.layout["icon-allow-overlap"]||n.layout["text-ignore-placement"]||n.layout["icon-ignore-placement"]),a=t.gl;o?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),a.disable(a.DEPTH_TEST),i(t,e,n,r,!1,n.paint["icon-translate"],n.paint["icon-translate-anchor"],n.layout["icon-rotation-alignment"],n.layout["icon-rotation-alignment"],n.layout["icon-size"],n.paint["icon-halo-width"],n.paint["icon-halo-color"],n.paint["icon-halo-blur"],n.paint["icon-opacity"],n.paint["icon-color"]),i(t,e,n,r,!0,n.paint["text-translate"],n.paint["text-translate-anchor"],n.layout["text-rotation-alignment"],n.layout["text-pitch-alignment"],n.layout["text-size"],n.paint["text-halo-width"],n.paint["text-halo-color"],n.paint["text-halo-blur"],n.paint["text-opacity"],n.paint["text-color"]),a.enable(a.DEPTH_TEST),e.map.showCollisionBoxes&&s(t,e,n,r)}}function i(t,e,n,r,i,a,s,u,l,c,f,h,p,d,m){for(var v=0;v<r.length;v++){var y=e.getTile(r[v]),g=y.getBucket(n);if(g){var b=g.bufferGroups,_=i?b.glyph:b.icon;_.length&&(t.enableTileClippingMask(r[v]),o(t,n,r[v].posMatrix,y,g,_,i,i||g.sdfIcons,!i&&g.iconsNeedLinear,i?g.adjustedTextSize:g.adjustedIconSize,g.fontstack,a,s,u,l,c,f,h,p,d,m))}}}function o(t,e,n,r,i,o,s,l,c,f,h,p,d,m,v,y,g,b,_,x,w){var M,E,S,T=t.gl,C=t.transform,P="map"===m,k="map"===v,A=s?24:1,I=y/A;if(k?(E=u(r,1,t.transform.zoom)*I,S=1/Math.cos(C._pitch),M=[E,E]):(E=t.transform.altitude*I,S=1,M=[C.pixelsToGLUnits[0]*E,C.pixelsToGLUnits[1]*E]),s||t.style.sprite.loaded()){var O=t.useProgram(l?"sdf":"icon");if(T.uniformMatrix4fv(O.u_matrix,!1,t.translatePosMatrix(n,r,p,d)),T.uniform1i(O.u_rotate_with_map,P),T.uniform1i(O.u_pitch_with_map,k),T.uniform2fv(O.u_extrude_scale,M),T.activeTexture(T.TEXTURE0),T.uniform1i(O.u_texture,0),s){var R=h&&t.glyphSource.getGlyphAtlas(h);if(!R)return;R.updateTexture(T),T.uniform2f(O.u_texsize,R.width/4,R.height/4)}else{var D=t.options.rotating||t.options.zooming,N=1!==I||a.devicePixelRatio!==t.spriteAtlas.pixelRatio||c,j=k||t.transform.pitch;t.spriteAtlas.bind(T,l||D||N||j),T.uniform2f(O.u_texsize,t.spriteAtlas.width/4,t.spriteAtlas.height/4)}var L=Math.log(y/f)/Math.LN2||0;T.uniform1f(O.u_zoom,10*(t.transform.zoom-L)),T.activeTexture(T.TEXTURE1),t.frameHistory.bind(T),T.uniform1i(O.u_fadetexture,1);var z;if(l){var F=8,U=1.19,B=6,V=.105*A/y/a.devicePixelRatio;if(g){T.uniform1f(O.u_gamma,(_*U/I/F+V)*S),T.uniform4fv(O.u_color,b),T.uniform1f(O.u_opacity,x),T.uniform1f(O.u_buffer,(B-g/I)/F);for(var q=0;q<o.length;q++)z=o[q],z.vaos[e.id].bind(T,O,z.layoutVertexBuffer,z.elementBuffer),T.drawElements(T.TRIANGLES,3*z.elementBuffer.length,T.UNSIGNED_SHORT,0)}T.uniform1f(O.u_gamma,V*S),T.uniform4fv(O.u_color,w),T.uniform1f(O.u_opacity,x),T.uniform1f(O.u_buffer,.75),T.uniform1f(O.u_pitch,C.pitch/360*2*Math.PI),T.uniform1f(O.u_bearing,C.bearing/360*2*Math.PI),T.uniform1f(O.u_aspect_ratio,C.width/C.height);for(var H=0;H<o.length;H++)z=o[H],z.vaos[e.id].bind(T,O,z.layoutVertexBuffer,z.elementBuffer),T.drawElements(T.TRIANGLES,3*z.elementBuffer.length,T.UNSIGNED_SHORT,0)}else{T.uniform1f(O.u_opacity,x);for(var W=0;W<o.length;W++)z=o[W],z.vaos[e.id].bind(T,O,z.layoutVertexBuffer,z.elementBuffer),T.drawElements(T.TRIANGLES,3*z.elementBuffer.length,T.UNSIGNED_SHORT,0)}}}var a=t("../util/browser"),s=t("./draw_collision_debug"),u=t("../source/pixels_to_tile_units");e.exports=r},{"../source/pixels_to_tile_units":65,"../util/browser":129,"./draw_collision_debug":49}],55:[function(t,e,n){"use strict";function r(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.fadeDuration=300,this.previousZoom=0,this.firstFrame=!0}e.exports=r,r.prototype.record=function(t){var e=Date.now();this.firstFrame&&(e=0,this.firstFrame=!1),t=Math.floor(10*t);var n;if(t<this.previousZoom)for(n=t+1;n<=this.previousZoom;n++)this.changeTimes[n]=e,this.changeOpacities[n]=this.opacities[n];else for(n=t;n>this.previousZoom;n--)this.changeTimes[n]=e,this.changeOpacities[n]=this.opacities[n];for(n=0;n<256;n++){var r=e-this.changeTimes[n],i=r/this.fadeDuration*255;n<=t?this.opacities[n]=this.changeOpacities[n]+i:this.opacities[n]=this.changeOpacities[n]-i}this.changed=!0,this.previousZoom=t},r.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.changed&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,256,1,t.ALPHA,t.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,256,1,0,t.ALPHA,t.UNSIGNED_BYTE,this.array))}},{}],56:[function(t,e,n){"use strict";function r(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}}var i=t("../util/util");e.exports=r,r.prototype.setSprite=function(t){this.sprite=t},r.prototype.getDash=function(t,e){var n=t.join(",")+e;return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},r.prototype.addDash=function(t,e){var n=e?7:0,r=2*n+1,o=128;if(this.nextRow+r>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var a=0,s=0;s<t.length;s++)a+=t[s];for(var u=this.width/a,l=u/2,c=t.length%2===1,f=-n;f<=n;f++)for(var h=this.nextRow+n+f,p=this.width*h,d=c?-t[t.length-1]:0,m=t[0],v=1,y=0;y<this.width;y++){for(;m<y/u;)d=m,m+=t[v],c&&v===t.length-1&&(m+=t[0]),v++;var g,b=Math.abs(y-d*u),_=Math.abs(y-m*u),x=Math.min(b,_),w=v%2===1;if(e){var M=n?f/n*(l+1):0;if(w){var E=l-Math.abs(M);g=Math.sqrt(x*x+E*E)}else g=l-Math.sqrt(x*x+M*M)}else g=(w?1:-1)*x;this.data[3+4*(p+y)]=Math.max(0,Math.min(255,g+o))}var S={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:a};return this.nextRow+=r,this.dirty=!0,S},r.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))}},{"../util/util":146}],57:[function(t,e,n){"use strict";function r(t,e){this.gl=t,this.transform=e,this.reusableTextures={},this.preFbos={},this.frameHistory=new a,this.setup(),this.numSublayers=s.maxUnderzooming+s.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE)}var i=t("../util/browser"),o=t("gl-matrix").mat4,a=t("./frame_history"),s=t("../source/source_cache"),u=t("../data/bucket").EXTENT,l=t("../source/pixels_to_tile_units"),c=t("../util/util"),f=t("../util/struct_array"),h=t("../data/buffer"),p=t("./vertex_array_object"),d=t("./draw_raster").RasterBoundsArray,m=t("./create_uniform_pragmas");e.exports=r,c.extend(r.prototype,t("./painter/use_program")),r.prototype.resize=function(t,e){var n=this.gl;this.width=t*i.devicePixelRatio,this.height=e*i.devicePixelRatio,n.viewport(0,0,this.width,this.height)},r.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1);var e=this.PosArray=new f({members:[{name:"a_pos",type:"Int16",components:2}]}),n=new e;n.emplaceBack(0,0),n.emplaceBack(u,0),n.emplaceBack(0,u),n.emplaceBack(u,u),this.tileExtentBuffer=new h(n.serialize(),e.serialize(),h.BufferType.VERTEX),this.tileExtentVAO=new p,this.tileExtentPatternVAO=new p;var r=new e;r.emplaceBack(0,0),r.emplaceBack(u,0),r.emplaceBack(u,u),r.emplaceBack(0,u),r.emplaceBack(0,0),this.debugBuffer=new h(r.serialize(),e.serialize(),h.BufferType.VERTEX),this.debugVAO=new p;var i=new d;i.emplaceBack(0,0,0,0),i.emplaceBack(u,0,32767,0),i.emplaceBack(0,u,0,32767),i.emplaceBack(u,u,32767,32767),this.rasterBoundsBuffer=new h(i.serialize(),d.serialize(),h.BufferType.VERTEX),this.rasterBoundsVAO=new p},r.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},r.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},r.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},r.prototype._renderTileClippingMasks=function(t){var e=this.gl;e.colorMask(!1,!1,!1,!1),this.depthMask(!1),e.disable(e.DEPTH_TEST),e.enable(e.STENCIL_TEST),e.stencilMask(248),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE);var n=1;this._tileClippingMaskIDs={};for(var r=0;r<t.length;r++){var i=t[r],o=this._tileClippingMaskIDs[i.id]=n++<<3;e.stencilFunc(e.ALWAYS,o,248);var a=m([{name:"u_color",components:4},{name:"u_opacity",components:1}]),s=this.useProgram("fill",[],a,a);e.uniformMatrix4fv(s.u_matrix,!1,i.posMatrix),this.tileExtentVAO.bind(e,s,this.tileExtentBuffer),e.drawArrays(e.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}e.stencilMask(0),e.colorMask(!0,!0,!0,!0),this.depthMask(!0),e.enable(e.DEPTH_TEST)},r.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],248)},r.prototype.prepareBuffers=function(){},r.prototype.bindDefaultFramebuffer=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)};var v={symbol:t("./draw_symbol"),circle:t("./draw_circle"),line:t("./draw_line"),fill:t("./draw_fill"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")};r.prototype.render=function(t,e){this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphSource=t.glyphSource,this.frameHistory.record(this.transform.zoom),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(e.showOverdrawInspector),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass({isOpaquePass:!0}),this.renderPass({isOpaquePass:!1})},r.prototype.renderPass=function(t){var e=this.style._groups,n=t.isOpaquePass;this.currentLayer=n?this.style._order.length:-1;for(var r=0;r<e.length;r++){var i,o=e[n?e.length-1-r:r],a=this.style.sources[o.source],s=[];if(a){for(s=a.getVisibleCoordinates(),i=0;i<s.length;i++)s[i].posMatrix=this.transform.calculatePosMatrix(s[i],a.maxzoom);this.clearStencil(),a.prepare&&a.prepare(),a.isTileClipped&&this._renderTileClippingMasks(s)}for(n?(this._showOverdrawInspector||this.gl.disable(this.gl.BLEND),this.isOpaquePass=!0):(this.gl.enable(this.gl.BLEND),this.isOpaquePass=!1,s.reverse()),i=0;i<o.length;i++){var u=o[n?o.length-1-i:i];this.currentLayer+=n?-1:1,this.renderLayer(this,a,u,s)}a&&v.debug(this,a,s)}},r.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},r.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,v[n.type](t,e,n,r))},r.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,n=e-1+this.depthRange;this.gl.depthRange(n,e)},r.prototype.translatePosMatrix=function(t,e,n,r){if(!n[0]&&!n[1])return t;if("viewport"===r){var i=Math.sin(-this.transform.angle),a=Math.cos(-this.transform.angle);n=[n[0]*a-n[1]*i,n[0]*i+n[1]*a]}var s=[l(e,n[0],this.transform.zoom),l(e,n[1],this.transform.zoom),0],u=new Float32Array(16);return o.translate(u,t,s),u},r.prototype.saveTexture=function(t){var e=this.reusableTextures[t.size];e?e.push(t):this.reusableTextures[t.size]=[t]},r.prototype.getTexture=function(t){var e=this.reusableTextures[t];return e&&e.length>0?e.pop():null},r.prototype.lineWidth=function(t){this.gl.lineWidth(c.clamp(t,this.lineWidthRange[0],this.lineWidthRange[1]))},r.prototype.showOverdrawInspector=function(t){if(t||this._showOverdrawInspector){this._showOverdrawInspector=t;var e=this.gl;if(t){e.blendFunc(e.CONSTANT_COLOR,e.ONE);var n=8,r=1/n;e.blendColor(r,r,r,0),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)}else e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}}},{"../data/bucket":31,"../data/buffer":36,"../source/pixels_to_tile_units":65,"../source/source_cache":69,"../util/browser":129,"../util/struct_array":144,"../util/util":146,"./create_uniform_pragmas":46,"./draw_background":47,"./draw_circle":48,"./draw_debug":50,"./draw_fill":51,"./draw_line":52,"./draw_raster":53,"./draw_symbol":54,"./frame_history":55,"./painter/use_program":58,"./vertex_array_object":59,"gl-matrix":163}],58:[function(t,e,n){"use strict";function r(t,e){return t.replace(/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,function(t,n,r,i,o){return e[n][o].replace(/{type}/g,i).replace(/{precision}/g,r)})}var i=t("assert"),o=t("../../util/util"),a=t("mapbox-gl-shaders"),s=a.util;e.exports._createProgram=function(t,e,n,u){for(var l=this.gl,c=l.createProgram(),f=a[t],h="#define MAPBOX_GL_JS;\n",p=0;p<e.length;p++)h+="#define "+e[p]+";\n";var d=l.createShader(l.FRAGMENT_SHADER);l.shaderSource(d,r(h+f.fragmentSource,u)),l.compileShader(d),i(l.getShaderParameter(d,l.COMPILE_STATUS),l.getShaderInfoLog(d)),l.attachShader(c,d);var m=l.createShader(l.VERTEX_SHADER);l.shaderSource(m,r(h+s+f.vertexSource,n)),l.compileShader(m),i(l.getShaderParameter(m,l.COMPILE_STATUS),l.getShaderInfoLog(m)),l.attachShader(c,m),l.linkProgram(c),i(l.getProgramParameter(c,l.LINK_STATUS),l.getProgramInfoLog(c));for(var v={},y=l.getProgramParameter(c,l.ACTIVE_ATTRIBUTES),g=0;g<y;g++){var b=l.getActiveAttrib(c,g);v[b.name]=l.getAttribLocation(c,b.name)}for(var _={},x=l.getProgramParameter(c,l.ACTIVE_UNIFORMS),w=0;w<x;w++){var M=l.getActiveUniform(c,w);_[M.name]=l.getUniformLocation(c,M.name)}return o.extend({program:c,definition:f,attributes:v,numAttributes:y},v,_)},e.exports._createProgramCached=function(t,e,n,r){this.cache=this.cache||{};var i=JSON.stringify({name:t,defines:e,vertexPragmas:n,fragmentPragmas:r});return this.cache[i]||(this.cache[i]=this._createProgram(t,e,n,r)),this.cache[i]},e.exports.useProgram=function(t,e,n,r){var i=this.gl;e=e||[],this._showOverdrawInspector&&(e=e.concat("OVERDRAW_INSPECTOR"));var o=this._createProgramCached(t,e,n,r),a=this.currentProgram;return a!==o&&(i.useProgram(o.program),this.currentProgram=o),o}},{"../../util/util":146,assert:1,"mapbox-gl-shaders":175}],59:[function(t,e,n){"use strict";function r(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.vao=null}var i=t("assert");e.exports=r,r.prototype.bind=function(t,e,n,r,i){void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object"));var o=!this.vao||this.boundProgram!==e||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==i||this.boundElementBuffer!==r;!t.extVertexArrayObject||o?this.freshBind(t,e,n,r,i):t.extVertexArrayObject.bindVertexArrayOES(this.vao)},r.prototype.freshBind=function(t,e,n,r,o){var a,s=e.numAttributes;if(t.extVertexArrayObject)this.vao&&this.destroy(t),this.vao=t.extVertexArrayObject.createVertexArrayOES(),t.extVertexArrayObject.bindVertexArrayOES(this.vao),a=0,this.boundProgram=e,this.boundVertexBuffer=n,this.boundVertexBuffer2=o,this.boundElementBuffer=r;else{a=t.currentNumAttributes||0;for(var u=s;u<a;u++)i(0!==u),t.disableVertexAttribArray(u)}for(var l=a;l<s;l++)t.enableVertexAttribArray(l);n.bind(t),n.setVertexAttribPointers(t,e),o&&(o.bind(t),o.setVertexAttribPointers(t,e)),r&&r.bind(t),t.currentNumAttributes=s},r.prototype.unbind=function(t){var e=t.extVertexArrayObject;e&&e.bindVertexArrayOES(null)},r.prototype.destroy=function(t){var e=t.extVertexArrayObject;e&&this.vao&&(e.deleteVertexArrayOES(this.vao),this.vao=null)}},{assert:1}],60:[function(t,e,n){"use strict";function r(t,e,n){e=e||{},this.id=t,this.dispatcher=n,this._data=e.data,void 0!==e.maxzoom&&(this.maxzoom=e.maxzoom),e.type&&(this.type=e.type);var r=s/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:e.cluster||!1,geojsonVtOptions:{buffer:(void 0!==e.buffer?e.buffer:128)*r,tolerance:(void 0!==e.tolerance?e.tolerance:.375)*r,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(e.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:s,radius:(e.clusterRadius||50)*r,log:!1}},e.workerOptions),this._updateWorkerData(function(t){return t?void this.fire("error",{error:t}):void this.fire("load")}.bind(this))}var i=t("../util/evented"),o=t("../util/util"),a=t("resolve-url"),s=t("../data/bucket").EXTENT;e.exports=r,r.prototype=o.inherit(i,{type:"geojson",minzoom:0,maxzoom:18,tileSize:512,isTileClipped:!0,reparseOverscaled:!0,onAdd:function(t){this.map=t},setData:function(t){return this._data=t,this._updateWorkerData(function(t){return t?this.fire("error",{error:t}):void this.fire("change")}.bind(this)),this},_updateWorkerData:function(t){var e=o.extend({},this.workerOptions),n=this._data;"string"==typeof n?e.url="undefined"!=typeof window?a(window.location.href,n):n:e.data=JSON.stringify(n),this.workerID=this.dispatcher.send(this.type+".loadData",e,function(e){this._loaded=!0,t(e)}.bind(this))},loadTile:function(t,e){var n=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,r={type:this.type,uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:n,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send("load tile",r,function(n,r){if(t.unloadVectorData(this.map.painter),!t.aborted)return n?e(n):(t.loadVectorData(r,this.map.style),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null))}.bind(this),this.workerID)},abortTile:function(t){t.aborted=!0},unloadTile:function(t){t.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},function(){},t.workerID)},serialize:function(){return{type:this.type,data:this._data}}})},{"../data/bucket":31,"../util/evented":137,"../util/util":146,"resolve-url":205}],61:[function(t,e,n){"use strict";function r(t,e,n){n&&(this.loadGeoJSON=n),f.call(this,t,e)}var i=t("../util/util"),o=t("../util/ajax"),a=t("geojson-rewind"),s=t("./geojson_wrapper"),u=t("vt-pbf"),l=t("supercluster"),c=t("geojson-vt"),f=t("./vector_tile_worker_source");e.exports=r,r.prototype=i.inherit(f,{_geoJSONIndexes:{},loadVectorData:function(t,e){var n=t.source,r=t.coord;if(!this._geoJSONIndexes[n])return e(null,null);var i=this._geoJSONIndexes[n].getTile(Math.min(r.z,t.maxZoom),r.x,r.y);if(!i)return e(null,null);var o=new s(i.features);o.name="_geojsonTileLayer";var a=u({layers:{_geojsonTileLayer:o}});0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{tile:o,rawTileData:a.buffer})},loadData:function(t,e){var n=function(n,r){return n?e(n):"object"!=typeof r?e(new Error("Input data is not a valid GeoJSON object.")):(a(r,!0),void this._indexData(r,t,function(n,r){return n?e(n):(this._geoJSONIndexes[t.source]=r,void e(null))}.bind(this)))}.bind(this);this.loadGeoJSON(t,n)},loadGeoJSON:function(t,e){if(t.url)o.getJSON(t.url,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(n){return e(new Error("Input data is not a valid GeoJSON object."))}}},_indexData:function(t,e,n){try{e.cluster?n(null,l(e.superclusterOptions).load(t.features)):n(null,c(t,e.geojsonVtOptions))}catch(r){return n(r)}}})},{"../util/ajax":128,"../util/util":146,"./geojson_wrapper":62,"./vector_tile_worker_source":73,"geojson-rewind":152,"geojson-vt":158,supercluster:207,"vt-pbf":218}],62:[function(t,e,n){"use strict";function r(t){this.features=t,this.length=t.length,this.extent=s}function i(t){if(this.type=t.type,1===t.type){this.rawGeometry=[];for(var e=0;e<t.geometry.length;e++)this.rawGeometry.push([t.geometry[e]])}else this.rawGeometry=t.geometry;this.properties=t.tags,this.extent=s}var o=t("point-geometry"),a=t("vector-tile").VectorTileFeature,s=t("../data/bucket").EXTENT;e.exports=r,r.prototype.feature=function(t){return new i(this.features[t])},i.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],i=0;i<n.length;i++)r.push(new o(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),r=1/0,i=-(1/0),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},i.prototype.toGeoJSON=a.prototype.toGeoJSON},{"../data/bucket":31,"point-geometry":203,"vector-tile":214}],63:[function(t,e,n){"use strict";function r(t,e,n){this.id=t,this.dispatcher=n,this.url=e.url,this.coordinates=e.coordinates,l.getImage(e.url,function(t,n){return t?this.fire("error",{error:t}):(this.image=n,this.image.addEventListener("load",function(){this.map._rerender()}.bind(this)),this._loaded=!0,this.fire("load"),void(this.map&&this.setCoordinates(e.coordinates)))}.bind(this))}var i=t("../util/util"),o=t("./tile_coord"),a=t("../geo/lng_lat"),s=t("point-geometry"),u=t("../util/evented"),l=t("../util/ajax"),c=t("../data/bucket").EXTENT,f=t("../render/draw_raster").RasterBoundsArray,h=t("../data/buffer"),p=t("../render/vertex_array_object");e.exports=r,r.prototype=i.inherit(u,{minzoom:0,maxzoom:22,tileSize:512,onAdd:function(t){this.map=t,this.image&&this.setCoordinates(this.coordinates)},setCoordinates:function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),r=this.centerCoord=i.getCoordinatesCenter(n);return r.column=Math.round(r.column),r.row=Math.round(r.row),this.minzoom=this.maxzoom=r.zoom,this._coord=new o(r.zoom,r.column,r.row),this._tileCoords=n.map(function(t){var e=t.zoomTo(r.zoom);return new s(Math.round((e.column-r.column)*c),Math.round((e.row-r.row)*c))}),this.fire("change"),this},_setTile:function(t){this._prepared=!1,this.tile=t;var e=32767,n=new f;n.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),n.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,e,0),n.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,e),n.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,e,e),this.tile.buckets={},this.tile.boundsBuffer=new h(n.serialize(),f.serialize(),h.BufferType.VERTEX),this.tile.boundsVAO=new p,this.tile.state="loaded"},prepare:function(){if(this._loaded&&this.image&&this.image.complete&&this.tile){var t=this.map.painter,e=t.gl;this._prepared?(e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.image)):(this.tile.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.tile.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.image))}},loadTile:function(t,e){
this._coord&&this._coord.toString()===t.coord.toString()?(this._setTile(t),e(null)):(t.state="errored",e(null))},serialize:function(){return{type:"image",urls:this.url,coordinates:this.coordinates}}})},{"../data/bucket":31,"../data/buffer":36,"../geo/lng_lat":41,"../render/draw_raster":53,"../render/vertex_array_object":59,"../util/ajax":128,"../util/evented":137,"../util/util":146,"./tile_coord":71,"point-geometry":203}],64:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/ajax"),o=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e){var n=function(t,n){if(t)return e(t);var i=r.pick(n,["tiles","minzoom","maxzoom","attribution"]);n.vector_layers&&(i.vectorLayers=n.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(t){return t.id})),e(null,i)};t.url?i.getJSON(a(t.url),n):o.frame(n.bind(null,null,t))}},{"../util/ajax":128,"../util/browser":129,"../util/mapbox":143,"../util/util":146}],65:[function(t,e,n){"use strict";var r=t("../data/bucket");e.exports=function(t,e,n){return e*(r.EXTENT/(t.tileSize*Math.pow(2,n-t.coord.z)))}},{"../data/bucket":31}],66:[function(t,e,n){"use strict";function r(t,e){var n=t.coord,r=e.coord;return n.z-r.z||n.y-r.y||n.w-r.w||n.x-r.x}function i(t){for(var e=t[0]||{},n=1;n<t.length;n++){var r=t[n];for(var i in r){var o=r[i],a=e[i];if(void 0===a)a=e[i]=o;else for(var s=0;s<o.length;s++)a.push(o[s])}}return e}var o=t("./tile_coord");n.rendered=function(t,e,n,o,a,s){var u=t.tilesIn(n);u.sort(r);for(var l=[],c=0;c<u.length;c++){var f=u[c];f.tile.featureIndex&&l.push(f.tile.featureIndex.query({queryGeometry:f.queryGeometry,scale:f.scale,tileSize:f.tile.tileSize,bearing:s,params:o},e))}return i(l)},n.source=function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),r=[],i={},a=0;a<n.length;a++){var s=n[a],u=new o(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;i[u]||(i[u]=!0,s.querySourceFeatures(r,e))}return r}},{"./tile_coord":71}],67:[function(t,e,n){"use strict";function r(t,e,n){this.id=t,this.dispatcher=n,i.extend(this,i.pick(e,["url","scheme","tileSize"])),s(e,function(t,e){return t?this.fire("error",t):(i.extend(this,e),void this.fire("load"))}.bind(this))}var i=t("../util/util"),o=t("../util/ajax"),a=t("../util/evented"),s=t("./load_tilejson"),u=t("../util/mapbox").normalizeTileURL;e.exports=r,r.prototype=i.inherit(a,{minzoom:0,maxzoom:22,roundZoom:!0,scheme:"xyz",tileSize:512,_loaded:!1,onAdd:function(t){this.map=t},serialize:function(){return{type:"raster",url:this.url,tileSize:this.tileSize}},loadTile:function(t,e){function n(n,r){if(delete t.request,!t.aborted){if(n)return e(n);var i=this.map.painter.gl;t.texture=this.map.painter.getTexture(r.width),t.texture?(i.bindTexture(i.TEXTURE_2D,t.texture),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,r)):(t.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,t.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,r),t.texture.size=r.width),i.generateMipmap(i.TEXTURE_2D),this.map.animationLoop.set(this.map.style.rasterFadeDuration),t.state="loaded",e(null)}}var r=u(t.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);t.request=o.getImage(r,n.bind(this))},abortTile:function(t){t.request&&(t.request.abort(),delete t.request)},unloadTile:function(t){t.texture&&this.map.painter.saveTexture(t.texture)}})},{"../util/ajax":128,"../util/evented":137,"../util/mapbox":143,"../util/util":146,"./load_tilejson":64}],68:[function(t,e,n){"use strict";var r=t("../util/util"),i={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source")};n.create=function(t,e,n){if(e=new i[e.type](t,e,n),e.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+e.id);return r.bindAll(["load","abort","unload","serialize","prepare"],e),e},n.getType=function(t){return i[t]},n.setType=function(t,e){i[t]=e}},{"../source/geojson_source":60,"../source/image_source":63,"../source/raster_tile_source":67,"../source/vector_tile_source":72,"../source/video_source":74,"../util/util":146}],69:[function(t,e,n){"use strict";function r(t,e,n){this.id=t,this.dispatcher=n;var r=this._source=a.create(t,e,n).on("load",function(){this.map&&this._source.onAdd&&this._source.onAdd(this.map),this._sourceLoaded=!0,this.tileSize=r.tileSize,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,this.roundZoom=r.roundZoom,this.reparseOverscaled=r.reparseOverscaled,this.isTileClipped=r.isTileClipped,this.attribution=r.attribution,this.vectorLayerIds=r.vectorLayerIds,this.fire("load")}.bind(this)).on("error",function(t){this._sourceErrored=!0,this.fire("error",t)}.bind(this)).on("change",function(){this.reload(),this.transform&&this.update(this.transform,this.map&&this.map.style.rasterFadeDuration),this.fire("change")}.bind(this));this._tiles={},this._cache=new c(0,this.unloadTile.bind(this)),this._isIdRenderable=this._isIdRenderable.bind(this)}function i(t,e,n){var r=n.zoomTo(Math.min(t.z,e));return{x:(r.column-(t.x+t.w*Math.pow(2,t.z)))*p,y:(r.row-t.y)*p}}function o(t,e){return t%32-e%32}var a=t("./source"),s=t("./tile"),u=t("../util/evented"),l=t("./tile_coord"),c=t("../util/lru_cache"),f=t("../geo/coordinate"),h=t("../util/util"),p=t("../data/bucket").EXTENT;e.exports=r,r.maxOverzooming=10,r.maxUnderzooming=3,r.prototype=h.inherit(u,{onAdd:function(t){this.map=t,this._source&&this._source.onAdd&&this._source.onAdd(t)},loaded:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},getSource:function(){return this._source},loadTile:function(t,e){return this._source.loadTile(t,e)},unloadTile:function(t){if(this._source.unloadTile)return this._source.unloadTile(t)},abortTile:function(t){if(this._source.abortTile)return this._source.abortTile(t)},serialize:function(){return this._source.serialize()},prepare:function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},getIds:function(){return Object.keys(this._tiles).map(Number).sort(o)},getRenderableIds:function(){return this.getIds().filter(this._isIdRenderable)},_isIdRenderable:function(t){return this._tiles[t].isRenderable()&&!this._coveredTiles[t]},reload:function(){this._cache.reset();for(var t in this._tiles){var e=this._tiles[t];"loading"!==e.state&&(e.state="reloading"),this.loadTile(this._tiles[t],this._tileLoaded.bind(this,this._tiles[t]))}},_tileLoaded:function(t,e){return e?(t.state="errored",this.fire("tile.error",{tile:t,error:e}),void this._source.fire("tile.error",{tile:t,error:e})):(t.source=this,t.timeAdded=(new Date).getTime(),this.fire("tile.load",{tile:t}),void this._source.fire("tile.load",{tile:t}))},getTile:function(t){return this.getTileByID(t.id)},getTileByID:function(t){return this._tiles[t]},getZoom:function(t){return t.zoom+t.scaleZoom(t.tileSize/this.tileSize)},findLoadedChildren:function(t,e,n){var r=!1;for(var i in this._tiles){var o=this._tiles[i];if(!(n[i]||!o.isRenderable()||o.coord.z<=t.z||o.coord.z>e)){var a=Math.pow(2,Math.min(o.coord.z,this.maxzoom)-Math.min(t.z,this.maxzoom));if(Math.floor(o.coord.x/a)===t.x&&Math.floor(o.coord.y/a)===t.y)for(n[i]=!0,r=!0;o&&o.coord.z-1>t.z;){var s=o.coord.parent(this.maxzoom).id;o=this._tiles[s],o&&o.isRenderable()&&(delete n[i],n[s]=!0)}}}return r},findLoadedParent:function(t,e,n){for(var r=t.z-1;r>=e;r--){t=t.parent(this.maxzoom);var i=this._tiles[t.id];if(i&&i.isRenderable())return n[t.id]=!0,i;if(this._cache.has(t.id))return this.addTile(t),n[t.id]=!0,this._tiles[t.id]}},updateCacheSize:function(t){var e=Math.ceil(t.width/t.tileSize)+1,n=Math.ceil(t.height/t.tileSize)+1,r=e*n,i=5;this._cache.setMaxSize(Math.floor(r*i))},update:function(t,e){if(this._sourceLoaded){var n,i,o;this.updateCacheSize(t);var a=(this.roundZoom?Math.round:Math.floor)(this.getZoom(t)),s=Math.max(a-r.maxOverzooming,this.minzoom),u=Math.max(a+r.maxUnderzooming,this.minzoom),c={},f=(new Date).getTime();this._coveredTiles={};var p=this.used?t.coveringTiles(this._source):[];for(n=0;n<p.length;n++)i=p[n],o=this.addTile(i),c[i.id]=!0,o.isRenderable()||this.findLoadedChildren(i,u,c)||this.findLoadedParent(i,s,c);for(var d={},m=Object.keys(c),v=0;v<m.length;v++){var y=m[v];i=l.fromID(y),o=this._tiles[y],o&&o.timeAdded>f-(e||0)&&(this.findLoadedChildren(i,u,c)&&(c[y]=!0),this.findLoadedParent(i,s,d))}var g;for(g in d)c[g]||(this._coveredTiles[g]=!0);for(g in d)c[g]=!0;var b=h.keysDifference(this._tiles,c);for(n=0;n<b.length;n++)this.removeTile(+b[n]);this.transform=t}},addTile:function(t){var e=this._tiles[t.id];if(e)return e;var n=t.wrapped();if(e=this._tiles[n.id],e||(e=this._cache.get(n.id),e&&this._redoPlacement&&this._redoPlacement(e)),!e){var r=t.z,i=r>this.maxzoom?Math.pow(2,r-this.maxzoom):1;e=new s(n,this.tileSize*i,this.maxzoom),this.loadTile(e,this._tileLoaded.bind(this,e))}return e.uses++,this._tiles[t.id]=e,this.fire("tile.add",{tile:e}),this._source.fire("tile.add",{tile:e}),e},removeTile:function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this.fire("tile.remove",{tile:e}),this._source.fire("tile.remove",{tile:e}),e.uses>0||(e.isRenderable()?this._cache.add(e.coord.wrapped().id,e):(e.aborted=!0,this.abortTile(e),this.unloadTile(e))))},clearTiles:function(){for(var t in this._tiles)this.removeTile(t);this._cache.reset()},tilesIn:function(t){for(var e={},n=this.getIds(),r=1/0,o=1/0,a=-(1/0),s=-(1/0),u=t[0].zoom,c=0;c<t.length;c++){var h=t[c];r=Math.min(r,h.column),o=Math.min(o,h.row),a=Math.max(a,h.column),s=Math.max(s,h.row)}for(var d=0;d<n.length;d++){var m=this._tiles[n[d]],v=l.fromID(n[d]),y=[i(v,m.sourceMaxZoom,new f(r,o,u)),i(v,m.sourceMaxZoom,new f(a,s,u))];if(y[0].x<p&&y[0].y<p&&y[1].x>=0&&y[1].y>=0){for(var g=[],b=0;b<t.length;b++)g.push(i(v,m.sourceMaxZoom,t[b]));var _=e[m.coord.id];void 0===_&&(_=e[m.coord.id]={tile:m,coord:v,queryGeometry:[],scale:Math.pow(2,this.transform.zoom-m.coord.z)}),_.queryGeometry.push(g)}}var x=[];for(var w in e)x.push(e[w]);return x},redoPlacement:function(){for(var t=this.getIds(),e=0;e<t.length;e++){var n=this.getTileByID(t[e]);n.redoPlacement(this)}},getVisibleCoordinates:function(){return this.getRenderableIds().map(l.fromID)}})},{"../data/bucket":31,"../geo/coordinate":40,"../util/evented":137,"../util/lru_cache":142,"../util/util":146,"./source":68,"./tile":70,"./tile_coord":71}],70:[function(t,e,n){"use strict";function r(t,e,n){this.coord=t,this.uid=o.uniqueId(),this.uses=0,this.tileSize=e,this.sourceMaxZoom=n,this.buckets={},this.state="loading"}function i(t,e){if(e){for(var n={},r=0;r<t.length;r++){var i=e.getLayer(t[r].layerId);if(i){var s=a.create(o.extend({layer:i,childLayers:t[r].childLayerIds.map(e.getLayer.bind(e)).filter(function(t){return t})},t[r]));n[s.id]=s}}return n}}var o=t("../util/util"),a=t("../data/bucket"),s=t("../data/feature_index"),u=t("vector-tile"),l=t("pbf"),c=t("../util/vectortile_to_geojson"),f=t("feature-filter"),h=t("../symbol/collision_tile"),p=t("../symbol/collision_box"),d=t("../symbol/symbol_instances"),m=t("../symbol/symbol_quads");e.exports=r,r.prototype={loadVectorData:function(t,e){this.state="loaded",t&&(this.collisionBoxArray=new p(t.collisionBoxArray),this.collisionTile=new h(t.collisionTile,this.collisionBoxArray),this.symbolInstancesArray=new d(t.symbolInstancesArray),this.symbolQuadsArray=new m(t.symbolQuadsArray),this.featureIndex=new s(t.featureIndex,t.rawTileData,this.collisionTile),this.rawTileData=t.rawTileData,this.buckets=i(t.buckets,e))},reloadSymbolData:function(t,e,n){if("unloaded"!==this.state){this.collisionTile=new h(t.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var r in this.buckets){var a=this.buckets[r];"symbol"===a.type&&(a.destroy(e.gl),delete this.buckets[r])}o.extend(this.buckets,i(t.buckets,n))}},unloadVectorData:function(t){for(var e in this.buckets){var n=this.buckets[e];n.destroy(t.gl)}this.collisionBoxArray=null,this.symbolQuadsArray=null,this.symbolInstancesArray=null,this.collisionTile=null,this.featureIndex=null,this.rawTileData=null,this.buckets=null,this.state="unloaded"},redoPlacement:function(t){function e(e,n){this.reloadSymbolData(n,t.map.painter,t.map.style),t.fire("tile.load",{tile:this}),this.state="loaded",this.redoWhenDone&&(this.redoPlacement(t),this.redoWhenDone=!1)}return"loaded"!==this.state||"reloading"===this.state?void(this.redoWhenDone=!0):(this.state="reloading",void t.dispatcher.send("redo placement",{uid:this.uid,source:t.id,angle:t.map.transform.angle,pitch:t.map.transform.pitch,showCollisionBoxes:t.map.showCollisionBoxes},e.bind(this),this.workerID))},getBucket:function(t){return this.buckets&&this.buckets[t.ref||t.id]},querySourceFeatures:function(t,e){if(this.rawTileData){this.vtLayers||(this.vtLayers=new u.VectorTile(new l(new Uint8Array(this.rawTileData))).layers);var n=this.vtLayers._geojsonTileLayer||this.vtLayers[e.sourceLayer];if(n)for(var r=f(e.filter),i={z:this.coord.z,x:this.coord.x,y:this.coord.y},o=0;o<n.length;o++){var a=n.feature(o);if(r(a)){var s=new c(a,this.coord.z,this.coord.x,this.coord.y);s.tile=i,t.push(s)}}}},isRenderable:function(){return"loaded"===this.state||"reloading"===this.state}}},{"../data/bucket":31,"../data/feature_index":38,"../symbol/collision_box":96,"../symbol/collision_tile":98,"../symbol/symbol_instances":107,"../symbol/symbol_quads":108,"../util/util":146,"../util/vectortile_to_geojson":147,"feature-filter":151,pbf:201,"vector-tile":214}],71:[function(t,e,n){"use strict";function r(t,e,n,r){u(!isNaN(t)&&t>=0&&t%1===0),u(!isNaN(e)&&e>=0&&e%1===0),u(!isNaN(n)&&n>=0&&n%1===0),isNaN(r)&&(r=0),this.z=+t,this.x=+e,this.y=+n,this.w=+r,r*=2,r<0&&(r=r*-1-1);var i=1<<this.z;this.id=32*(i*i*r+i*this.y+this.x)+this.z,this.posMatrix=null}function i(t,e,n){for(var r,i="",o=t;o>0;o--)r=1<<o-1,i+=(e&r?1:0)+(n&r?2:0);return i}function o(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function a(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,f=e.dx<0,h=o;h<a;h++){var p=u*Math.max(0,Math.min(t.dy,h+c-t.y0))+t.x0,d=l*Math.max(0,Math.min(e.dy,h+f-e.y0))+e.x0;i(Math.floor(d),Math.ceil(p),h)}}function s(t,e,n,r,i,s){var u,l=o(t,e),c=o(e,n),f=o(n,t);l.dy>c.dy&&(u=l,l=c,c=u),l.dy>f.dy&&(u=l,l=f,f=u),c.dy>f.dy&&(u=c,c=f,f=u),l.dy&&a(f,l,r,i,s),c.dy&&a(f,c,r,i,s)}var u=t("assert"),l=t("whoots-js"),c=t("../geo/coordinate");e.exports=r,r.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},r.prototype.toCoordinate=function(t){var e=Math.min(this.z,t),n=Math.pow(2,e),r=this.y,i=this.x+n*this.w;return new c(i,r,e)},r.fromID=function(t){var e=t%32,n=1<<e,i=(t-e)/32,o=i%n,a=(i-o)/n%n,s=Math.floor(i/(n*n));return s%2!==0&&(s=s*-1-1),s/=2,new r(e,o,a,s)},r.prototype.url=function(t,e,n){var r=l.getTileBBox(this.x,this.y,this.z),o=i(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,e||this.z)).replace("{x}",this.x).replace("{y}","tms"===n?Math.pow(2,this.z)-this.y-1:this.y).replace("{quadkey}",o).replace("{bbox-epsg-3857}",r)},r.prototype.parent=function(t){return 0===this.z?null:this.z>t?new r(this.z-1,this.x,this.y,this.w):new r(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},r.prototype.wrapped=function(){return new r(this.z,this.x,this.y,0)},r.prototype.children=function(t){if(this.z>=t)return[new r(this.z+1,this.x,this.y,this.w)];var e=this.z+1,n=2*this.x,i=2*this.y;return[new r(e,n,i,this.w),new r(e,n+1,i,this.w),new r(e,n,i+1,this.w),new r(e,n+1,i+1,this.w)]},r.cover=function(t,e,n){function i(t,e,i){var s,u,l;if(i>=0&&i<=o)for(s=t;s<e;s++)u=(s%o+o)%o,l=new r(n,u,i,Math.floor(s/o)),a[l.id]=l}var o=1<<t,a={};return s(e[0],e[1],e[2],0,o,i),s(e[2],e[3],e[0],0,o,i),Object.keys(a).map(function(t){return a[t]})}},{"../geo/coordinate":40,assert:1,"whoots-js":222}],72:[function(t,e,n){"use strict";function r(t,e,n){if(this.id=t,this.dispatcher=n,o.extend(this,o.pick(e,["url","scheme","tileSize"])),this._options=o.extend({type:"vector"},e),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");a(e,function(t,e){return t?void this.fire("error",t):(o.extend(this,e),void this.fire("load"))}.bind(this))}var i=t("../util/evented"),o=t("../util/util"),a=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL;e.exports=r,r.prototype=o.inherit(i,{minzoom:0,maxzoom:22,scheme:"xyz",tileSize:512,reparseOverscaled:!0,isTileClipped:!0,onAdd:function(t){this.map=t},serialize:function(){return o.extend({},this._options)},loadTile:function(t,e){function n(n,r){if(!t.aborted){if(n)return e(n);t.loadVectorData(r,this.map.style),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null),t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)}}var r=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,i={url:s(t.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*r,source:this.id,overscaling:r,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID?"loading"===t.state?t.reloadCallback=e:(i.rawTileData=t.rawTileData,this.dispatcher.send("reload tile",i,n.bind(this),t.workerID)):t.workerID=this.dispatcher.send("load tile",i,n.bind(this))},abortTile:function(t){this.dispatcher.send("abort tile",{uid:t.uid,source:this.id},null,t.workerID)},unloadTile:function(t){t.unloadVectorData(this.map.painter),this.dispatcher.send("remove tile",{uid:t.uid,source:this.id},null,t.workerID)}})},{"../util/evented":137,"../util/mapbox":143,"../util/util":146,"./load_tilejson":64}],73:[function(t,e,n){"use strict";function r(t,e,n){this.actor=t,this.styleLayers=e,n&&(this.loadVectorData=n),this.loading={},this.loaded={}}var i=t("../util/ajax"),o=t("vector-tile"),a=t("pbf"),s=t("./worker_tile");e.exports=r,r.prototype={loadTile:function(t,e){function n(t,n){return delete this.loading[r][i],t?e(t):n?(o.data=n.tile,o.parse(o.data,this.styleLayers.getLayerFamilies(),this.actor,n.rawTileData,e),this.loaded[r]=this.loaded[r]||{},void(this.loaded[r][i]=o)):e(null,null)}var r=t.source,i=t.uid;this.loading[r]||(this.loading[r]={});var o=this.loading[r][i]=new s(t);o.abort=this.loadVectorData(t,n.bind(this))},reloadTile:function(t,e){var n=this.loaded[t.source],r=t.uid;if(n&&n[r]){var i=n[r];i.parse(i.data,this.styleLayers.getLayerFamilies(),this.actor,t.rawTileData,e)}},abortTile:function(t){var e=this.loading[t.source],n=t.uid;e&&e[n]&&e[n].abort&&(e[n].abort(),delete e[n])},removeTile:function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]},loadVectorData:function(t,e){function n(t,n){if(t)return e(t);var r=new o.VectorTile(new a(new Uint8Array(n)));e(t,{tile:r,rawTileData:n})}var r=i.getArrayBuffer(t.url,n.bind(this));return function(){r.abort()}},redoPlacement:function(t,e){var n=this.loaded[t.source],r=this.loading[t.source],i=t.uid;if(n&&n[i]){var o=n[i],a=o.redoPlacement(t.angle,t.pitch,t.showCollisionBoxes);a.result&&e(null,a.result,a.transferables)}else r&&r[i]&&(r[i].angle=t.angle)}}},{"../util/ajax":128,"./worker_tile":76,pbf:201,"vector-tile":214}],74:[function(t,e,n){"use strict";function r(t,e){this.id=t,this.urls=e.urls,this.coordinates=e.coordinates,l.getVideo(e.urls,function(t,n){if(t)return this.fire("error",{error:t});this.video=n,this.video.loop=!0;var r;this.video.addEventListener("playing",function(){r=this.map.style.animationLoop.set(1/0),this.map._rerender()}.bind(this)),this.video.addEventListener("pause",function(){this.map.style.animationLoop.cancel(r)}.bind(this)),this.map&&(this.video.play(),this.setCoordinates(e.coordinates)),this.fire("load")}.bind(this))}var i=t("../util/util"),o=t("./tile_coord"),a=t("../geo/lng_lat"),s=t("point-geometry"),u=t("../util/evented"),l=t("../util/ajax"),c=t("../data/bucket").EXTENT,f=t("../render/draw_raster").RasterBoundsArray,h=t("../data/buffer"),p=t("../render/vertex_array_object");e.exports=r,r.prototype=i.inherit(u,{minzoom:0,maxzoom:22,tileSize:512,roundZoom:!0,getVideo:function(){return this.video},onAdd:function(t){this.map||(this.map=t,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},setCoordinates:function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),r=this.centerCoord=i.getCoordinatesCenter(n);return r.column=Math.round(r.column),r.row=Math.round(r.row),this.minzoom=this.maxzoom=r.zoom,this._coord=new o(r.zoom,r.column,r.row),this._tileCoords=n.map(function(t){var e=t.zoomTo(r.zoom);return new s(Math.round((e.column-r.column)*c),Math.round((e.row-r.row)*c))}),this.fire("change"),this},_setTile:function(t){this._prepared=!1,this.tile=t;var e=32767,n=new f;n.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),n.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,e,0),n.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,e),n.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,e,e),this.tile.buckets={},this.tile.boundsBuffer=new h(n.serialize(),f.serialize(),h.BufferType.VERTEX),this.tile.boundsVAO=new p,this.tile.state="loaded"},prepare:function(){if(!(this.video.readyState<2)&&this.tile){var t=this.map.painter.gl;this._prepared?(t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,this.video)):(this._prepared=!0,this.tile.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.video)),this._currentTime=this.video.currentTime}},loadTile:function(t,e){this._coord&&this._coord.toString()===t.coord.toString()?(this._setTile(t),e(null)):(t.state="errored",e(null))},serialize:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}})},{"../data/bucket":31,"../data/buffer":36,"../geo/lng_lat":41,"../render/draw_raster":53,"../render/vertex_array_object":59,"../util/ajax":128,"../util/evented":137,"../util/util":146,"./tile_coord":71,"point-geometry":203}],75:[function(t,e,n){"use strict";function r(t){this.self=t,this.actor=new o(t,this),this.layers={},this.layerFamilies={},this.workerSourceTypes={vector:u,geojson:l},this.workerSources={},this.self.registerWorkerSource=function(t,e){if(this.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');this.workerSourceTypes[t]=e}.bind(this)}function i(t){var e={};for(var n in t){var r=t[n],i=r.ref||r.id,o=t[i];o.layout&&"none"===o.layout.visibility||(e[i]=e[i]||[],n===i?e[i].unshift(r):e[i].push(r))}return e}var o=t("../util/actor"),a=t("../style/style_layer"),s=t("../util/util"),u=t("./vector_tile_worker_source"),l=t("./geojson_worker_source");e.exports=function(t){return new r(t)},s.extend(r.prototype,{"set layers":function(t,e){function n(t){var e=a.create(t,t.ref&&r[t.ref]);e.updatePaintTransitions({},{transition:!1}),r[e.id]=e}for(var r=this.layers[t]={},o=[],s=0;s<e.length;s++){var u=e[s];"fill"!==u.type&&"line"!==u.type&&"circle"!==u.type&&"symbol"!==u.type||(u.ref?o.push(s):n(u))}for(var l=0;l<o.length;l++)n(e[o[l]]);this.layerFamilies[t]=i(this.layers[t])},"update layers":function(t,e){function n(t){var e=s[t.ref];s[t.id]?s[t.id].set(t,e):s[t.id]=a.create(t,e),s[t.id].updatePaintTransitions({},{transition:!1})}var r,o,s=this.layers[t];for(r in e)o=e[r],o.ref&&n(o);for(r in e)o=e[r],o.ref||n(o);this.layerFamilies[t]=i(this.layers[t])},"load tile":function(t,e,n){var r=e.type||"vector";this.getWorkerSource(t,r).loadTile(e,n)},"reload tile":function(t,e,n){var r=e.type||"vector";this.getWorkerSource(t,r).reloadTile(e,n)},"abort tile":function(t,e){var n=e.type||"vector";this.getWorkerSource(t,n).abortTile(e)},"remove tile":function(t,e){var n=e.type||"vector";this.getWorkerSource(t,n).removeTile(e)},"redo placement":function(t,e,n){var r=e.type||"vector";this.getWorkerSource(t,r).redoPlacement(e,n)},"load worker source":function(t,e,n){try{this.self.importScripts(e.url),n()}catch(r){n(r)}},getWorkerSource:function(t,e){if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var n={getLayers:function(){return this.layers[t]}.bind(this),getLayerFamilies:function(){return this.layerFamilies[t]}.bind(this)};this.workerSources[t][e]=new this.workerSourceTypes[e](this.actor,n)}return this.workerSources[t][e]}})},{"../style/style_layer":83,"../util/actor":127,"../util/util":146,"./geojson_worker_source":61,"./vector_tile_worker_source":73}],76:[function(t,e,n){"use strict";function r(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.showCollisionBoxes=t.showCollisionBoxes}function i(t){return!t.isEmpty()}function o(t){return t.serialize()}function a(t){var e=[];for(var n in t)t[n].getTransferables(e);return e}function s(t){return t.id}var u=t("../data/feature_index"),l=t("../symbol/collision_tile"),c=t("../data/bucket"),f=t("../symbol/collision_box"),h=t("../util/dictionary_coder"),p=t("../util/util"),d=t("../symbol/symbol_instances"),m=t("../symbol/symbol_quads");e.exports=r,r.prototype.parse=function(t,e,n,r,v){function y(t,e){for(var n=0;n<t.length;n++){var r=t.feature(n);r.index=n;for(var i in e)e[i].filter(r)&&e[i].features.push(r)}}function g(t){if(t)return v(t);if(F++,2===F){for(var e=D.length-1;e>=0;e--)b(P,D[e]);_()}}function b(t,e){if(e.populateArrays(S,z,L),"symbol"!==e.type)for(var n=0;n<e.features.length;n++){var r=e.features[n];T.insert(r,r.index,e.sourceLayerIndex,e.index)}e.features=null}function _(){P.status="done",P.redoPlacementAfterDone&&(P.redoPlacement(P.angle,P.pitch,null),P.redoPlacementAfterDone=!1);var t=T.serialize(),e=S.serialize(),n=P.collisionBoxArray.serialize(),s=P.symbolInstancesArray.serialize(),u=P.symbolQuadsArray.serialize(),l=[r].concat(t.transferables).concat(e.transferables),c=R.filter(i);v(null,{buckets:c.map(o),featureIndex:t.data,collisionTile:e.data,collisionBoxArray:n,symbolInstancesArray:s,symbolQuadsArray:u,rawTileData:r},a(c).concat(l))}this.status="parsing",this.data=t,this.collisionBoxArray=new f,this.symbolInstancesArray=new d,this.symbolQuadsArray=new m;var x,w,M,E,S=new l(this.angle,this.pitch,this.collisionBoxArray),T=new u(this.coord,this.overscaling,S,t.layers),C=new h(t.layers?Object.keys(t.layers).sort():["_geojsonTileLayer"]),P=this,k={},A={},I=0;for(var O in e)w=e[O][0],w.source===this.source&&(w.ref||w.minzoom&&this.zoom<w.minzoom||w.maxzoom&&this.zoom>=w.maxzoom||w.layout&&"none"===w.layout.visibility||t.layers&&!t.layers[w.sourceLayer]||(E=c.create({layer:w,index:I++,childLayers:e[O],zoom:this.zoom,overscaling:this.overscaling,showCollisionBoxes:this.showCollisionBoxes,collisionBoxArray:this.collisionBoxArray,symbolQuadsArray:this.symbolQuadsArray,symbolInstancesArray:this.symbolInstancesArray,sourceLayerIndex:C.encode(w.sourceLayer||"_geojsonTileLayer")}),E.createFilter(),k[w.id]=E,t.layers&&(M=w.sourceLayer,A[M]=A[M]||{},A[M][w.id]=E)));if(t.layers)for(M in A)1===w.version&&p.warnOnce('Vector tile source "'+this.source+'" layer "'+M+'" does not use vector tile spec v2 and therefore may have some rendering errors.'),w=t.layers[M],w&&y(w,A[M]);else y(t,k);var R=[],D=this.symbolBuckets=[],N=[];T.bucketLayerIDs={};for(var j in k)E=k[j],0!==E.features.length&&(T.bucketLayerIDs[E.index]=E.childLayers.map(s),R.push(E),"symbol"===E.type?D.push(E):N.push(E));var L={},z={},F=0;if(D.length>0){for(x=D.length-1;x>=0;x--)D[x].updateIcons(L),D[x].updateFont(z);for(var U in z)z[U]=Object.keys(z[U]).map(Number);L=Object.keys(L),n.send("get glyphs",{uid:this.uid,stacks:z},function(t,e){z=e,g(t)}),L.length?n.send("get icons",{icons:L},function(t,e){L=e,g(t)}):g()}for(x=N.length-1;x>=0;x--)b(this,N[x]);if(0===D.length)return _()},r.prototype.redoPlacement=function(t,e,n){if("done"!==this.status)return this.redoPlacementAfterDone=!0,this.angle=t,{};for(var r=new l(t,e,this.collisionBoxArray),s=this.symbolBuckets,u=s.length-1;u>=0;u--)s[u].placeFeatures(r,n);var c=r.serialize(),f=s.filter(i);return{result:{buckets:f.map(o),collisionTile:c.data},transferables:a(f).concat(c.transferables)}}},{"../data/bucket":31,"../data/feature_index":38,"../symbol/collision_box":96,"../symbol/collision_tile":98,"../symbol/symbol_instances":107,"../symbol/symbol_quads":108,"../util/dictionary_coder":135,"../util/util":146}],77:[function(t,e,n){"use strict";function r(){this.n=0,this.times=[]}e.exports=r,r.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},r.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},r.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})}},{}],78:[function(t,e,n){"use strict";function r(t){this.base=t,this.retina=s.devicePixelRatio>1;var e=this.retina?"@2x":"";a.getJSON(u(t,e,".json"),function(t,e){return t?void this.fire("error",{error:t}):(this.data=e,void(this.img&&this.fire("load")))}.bind(this)),a.getImage(u(t,e,".png"),function(t,e){if(t)return void this.fire("error",{error:t});for(var n=e.getData(),r=e.data=new Uint8Array(n.length),i=0;i<n.length;i+=4){var o=n[i+3]/255;r[i+0]=n[i+0]*o,r[i+1]=n[i+1]*o,r[i+2]=n[i+2]*o,r[i+3]=n[i+3]}this.img=e,this.data&&this.fire("load")}.bind(this))}function i(){}var o=t("../util/evented"),a=t("../util/ajax"),s=t("../util/browser"),u=t("../util/mapbox").normalizeSpriteURL;e.exports=r,r.prototype=Object.create(o),r.prototype.toJSON=function(){return this.base},r.prototype.loaded=function(){return!(!this.data||!this.img)},r.prototype.resize=function(){if(s.devicePixelRatio>1!==this.retina){var t=new r(this.base);t.on("load",function(){this.img=t.img,this.data=t.data,this.retina=t.retina}.bind(this))}},i.prototype={x:0,y:0,width:0,height:0,pixelRatio:1,sdf:!1},r.prototype.getSpritePosition=function(t){if(!this.loaded())return new i;var e=this.data&&this.data[t];return e&&this.img?e:new i}},{"../util/ajax":128,"../util/browser":129,"../util/evented":137,"../util/mapbox":143}],79:[function(t,e,n){"use strict";var r=t("csscolorparser").parseCSSColor,i=t("../util/util"),o=t("./style_function"),a={};e.exports=function s(t){if(o.isFunctionDefinition(t))return i.extend({},t,{stops:t.stops.map(function(t){return[t[0],s(t[1])]})});if("string"==typeof t){if(!a[t]){var e=r(t);if(!e)throw new Error("Invalid color "+t);a[t]=[e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]]}return a[t]}throw new Error("Invalid color "+t)}},{"../util/util":146,"./style_function":82,csscolorparser:149}],80:[function(t,e,n){"use strict";function r(t,e){this.animationLoop=e||new m,this.dispatcher=new d(w(),this),this.spriteAtlas=new u(1024,1024),this.lineAtlas=new l(256,512),this._layers={},this._order=[],this._groups=[],this.sources={},this.zoomHistory={},c.bindAll(["_forwardSourceEvent","_forwardTileEvent","_forwardLayerEvent","_redoPlacement"],this),this._resetUpdates();var n=function(t,e){if(t)return void this.fire("error",{error:t});if(!v.emitErrors(this,v(e))){this._loaded=!0,this.stylesheet=e,this.updateClasses();
var n=e.sources;for(var r in n)this.addSource(r,n[r]);e.sprite&&(this.sprite=new a(e.sprite),this.sprite.on("load",this.fire.bind(this,"change"))),this.glyphSource=new s(e.glyphs),this._resolve(),this.fire("load")}}.bind(this);"string"==typeof t?f.getJSON(h(t),n):p.frame(n.bind(this,null,t)),this.on("source.load",function(t){var e=t.source;if(e&&e.vectorLayerIds)for(var n in this._layers){var r=this._layers[n];r.source===e.id&&this._validateLayer(r)}})}var i=t("../util/evented"),o=t("./style_layer"),a=t("./image_sprite"),s=t("../symbol/glyph_source"),u=t("../symbol/sprite_atlas"),l=t("../render/line_atlas"),c=t("../util/util"),f=t("../util/ajax"),h=t("../util/mapbox").normalizeStyleURL,p=t("../util/browser"),d=t("../util/dispatcher"),m=t("./animation_loop"),v=t("./validate_style"),y=t("../source/source"),g=t("../source/query_features"),b=t("../source/source_cache"),_=t("./style_spec"),x=t("./style_function"),w=t("../global_worker_pool");e.exports=r,r.prototype=c.inherit(i,{_loaded:!1,_validateLayer:function(t){var e=this.sources[t.source];t.sourceLayer&&e&&e.vectorLayerIds&&e.vectorLayerIds.indexOf(t.sourceLayer)===-1&&this.fire("error",{error:new Error('Source layer "'+t.sourceLayer+'" does not exist on source "'+e.id+'" as specified by style layer "'+t.id+'"')})},loaded:function(){if(!this._loaded)return!1;if(Object.keys(this._updates.sources).length)return!1;for(var t in this.sources)if(!this.sources[t].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},_resolve:function(){var t,e;this._layers={},this._order=this.stylesheet.layers.map(function(t){return t.id});for(var n=0;n<this.stylesheet.layers.length;n++)e=this.stylesheet.layers[n],e.ref||(t=o.create(e),this._layers[t.id]=t,t.on("error",this._forwardLayerEvent));for(var r=0;r<this.stylesheet.layers.length;r++)if(e=this.stylesheet.layers[r],e.ref){var i=this.getLayer(e.ref);t=o.create(e,i),this._layers[t.id]=t,t.on("error",this._forwardLayerEvent)}this._groupLayers(),this._updateWorkerLayers()},_groupLayers:function(){var t;this._groups=[];for(var e=0;e<this._order.length;++e){var n=this._layers[this._order[e]];t&&n.source===t.source||(t=[],t.source=n.source,this._groups.push(t)),t.push(n)}},_updateWorkerLayers:function(t){this.dispatcher.broadcast(t?"update layers":"set layers",this._serializeLayers(t))},_serializeLayers:function(t){t=t||this._order;for(var e=[],n={includeRefProperties:!0},r=0;r<t.length;r++)e.push(this._layers[t[r]].serialize(n));return e},_applyClasses:function(t,e){if(this._loaded){t=t||[],e=e||{transition:!0};var n=this.stylesheet.transition||{},r=this._updates.allPaintProps?this._layers:this._updates.paintProps;for(var i in r){var o=this._layers[i],a=this._updates.paintProps[i];if(this._updates.allPaintProps||a.all)o.updatePaintTransitions(t,e,n,this.animationLoop);else for(var s in a)this._layers[i].updatePaintTransition(s,t,e,n,this.animationLoop)}}},_recalculate:function(t){for(var e in this.sources)this.sources[e].used=!1;this._updateZoomHistory(t),this.rasterFadeDuration=300;for(var n in this._layers){var r=this._layers[n];r.recalculate(t,this.zoomHistory),!r.isHidden(t)&&r.source&&(this.sources[r.source].used=!0)}var i=300;Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(i),this.z=t,this.fire("zoom")},_updateZoomHistory:function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},_checkLoaded:function(){if(!this._loaded)throw new Error("Style is not done loading")},update:function(t,e){if(!this._updates.changed)return this;if(this._updates.allLayers)this._groupLayers(),this._updateWorkerLayers();else{var n=Object.keys(this._updates.layers);n.length&&this._updateWorkerLayers(n)}var r,i=Object.keys(this._updates.sources);for(r=0;r<i.length;r++)this._reloadSource(i[r]);for(r=0;r<this._updates.events.length;r++){var o=this._updates.events[r];this.fire(o[0],o[1])}return this._applyClasses(t,e),this._updates.changed&&this.fire("change"),this._resetUpdates(),this},_resetUpdates:function(){this._updates={events:[],layers:{},sources:{},paintProps:{}}},addSource:function(t,e){if(this._checkLoaded(),void 0!==this.sources[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e)+".");var n=["vector","raster","geojson","video","image"],r=n.indexOf(e.type)>=0;return r&&this._handleErrors(v.source,"sources."+t,e)?this:(e=new b(t,e,this.dispatcher),this.sources[t]=e,e.style=this,e.on("load",this._forwardSourceEvent).on("error",this._forwardSourceEvent).on("change",this._forwardSourceEvent).on("tile.add",this._forwardTileEvent).on("tile.load",this._forwardTileEvent).on("tile.error",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this._updates.events.push(["source.add",{source:e}]),this._updates.changed=!0,this)},removeSource:function(t){if(this._checkLoaded(),void 0===this.sources[t])throw new Error("There is no source with this ID");var e=this.sources[t];return delete this.sources[t],delete this._updates.sources[t],e.off("load",this._forwardSourceEvent).off("error",this._forwardSourceEvent).off("change",this._forwardSourceEvent).off("tile.add",this._forwardTileEvent).off("tile.load",this._forwardTileEvent).off("tile.error",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent),this._updates.events.push(["source.remove",{source:e}]),this._updates.changed=!0,this},getSource:function(t){return this.sources[t]&&this.sources[t].getSource()},addLayer:function(t,e){if(this._checkLoaded(),!(t instanceof o)){if(this._handleErrors(v.layer,"layers."+t.id,t,!1,{arrayIndex:-1}))return this;var n=t.ref&&this.getLayer(t.ref);t=o.create(t,n)}return this._validateLayer(t),t.on("error",this._forwardLayerEvent),this._layers[t.id]=t,this._order.splice(e?this._order.indexOf(e):1/0,0,t.id),this._updates.allLayers=!0,t.source&&(this._updates.sources[t.source]=!0),this._updates.events.push(["layer.add",{layer:t}]),this.updateClasses(t.id)},removeLayer:function(t){this._checkLoaded();var e=this._layers[t];if(void 0===e)throw new Error("There is no layer with this ID");for(var n in this._layers)this._layers[n].ref===t&&this.removeLayer(n);return e.off("error",this._forwardLayerEvent),delete this._layers[t],delete this._updates.layers[t],delete this._updates.paintProps[t],this._order.splice(this._order.indexOf(t),1),this._updates.allLayers=!0,this._updates.events.push(["layer.remove",{layer:e}]),this._updates.changed=!0,this},getLayer:function(t){return this._layers[t]},getReferentLayer:function(t){var e=this.getLayer(t);return e.ref&&(e=this.getLayer(e.ref)),e},setLayerZoomRange:function(t,e,n){this._checkLoaded();var r=this.getReferentLayer(t);return r.minzoom===e&&r.maxzoom===n?this:(null!=e&&(r.minzoom=e),null!=n&&(r.maxzoom=n),this._updateLayer(r))},setFilter:function(t,e){this._checkLoaded();var n=this.getReferentLayer(t);return null!==e&&this._handleErrors(v.filter,"layers."+n.id+".filter",e)?this:c.deepEqual(n.filter,e)?this:(n.filter=c.clone(e),this._updateLayer(n))},getFilter:function(t){return this.getReferentLayer(t).filter},setLayoutProperty:function(t,e,n){this._checkLoaded();var r=this.getReferentLayer(t);return c.deepEqual(r.getLayoutProperty(e),n)?this:(r.setLayoutProperty(e,n),this._updateLayer(r))},getLayoutProperty:function(t,e){return this.getReferentLayer(t).getLayoutProperty(e)},setPaintProperty:function(t,e,n,r){this._checkLoaded();var i=this.getLayer(t);if(c.deepEqual(i.getPaintProperty(e,r),n))return this;var o=i.isPaintValueFeatureConstant(e);i.setPaintProperty(e,n,r);var a=!(n&&x.isFunctionDefinition(n)&&"$zoom"!==n.property&&void 0!==n.property);return a&&o||(this._updates.layers[t]=!0,i.source&&(this._updates.sources[i.source]=!0)),this.updateClasses(t,e)},getPaintProperty:function(t,e,n){return this.getLayer(t).getPaintProperty(e,n)},updateClasses:function(t,e){if(this._updates.changed=!0,t){var n=this._updates.paintProps;n[t]||(n[t]={}),n[t][e||"all"]=!0}else this._updates.allPaintProps=!0;return this},serialize:function(){return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sources,function(t){return t.serialize()}),layers:this._order.map(function(t){return this._layers[t].serialize()},this)},function(t){return void 0!==t})},_updateLayer:function(t){return this._updates.layers[t.id]=!0,t.source&&(this._updates.sources[t.source]=!0),this._updates.changed=!0,this},_flattenRenderedFeatures:function(t){for(var e=[],n=this._order.length-1;n>=0;n--)for(var r=this._order[n],i=0;i<t.length;i++){var o=t[i][r];if(o)for(var a=0;a<o.length;a++)e.push(o[a])}return e},queryRenderedFeatures:function(t,e,n,r){e&&e.filter&&this._handleErrors(v.filter,"queryRenderedFeatures.filter",e.filter,!0);var i={};if(e&&e.layers)for(var o=0;o<e.layers.length;o++){var a=e.layers[o];i[this._layers[a].source]=!0}var s=[];for(var u in this.sources)if(!e.layers||i[u]){var l=this.sources[u],c=g.rendered(l,this._layers,t,e,n,r);s.push(c)}return this._flattenRenderedFeatures(s)},querySourceFeatures:function(t,e){e&&e.filter&&this._handleErrors(v.filter,"querySourceFeatures.filter",e.filter,!0);var n=this.sources[t];return n?g.source(n,e):[]},addSourceType:function(t,e,n){return y.getType(t)?n(new Error('A source type called "'+t+'" already exists.')):(y.setType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("load worker source",{name:t,url:e.workerSourceURL},n):n(null,null))},_handleErrors:function(t,e,n,r,i){var o=r?v.throwErrors:v.emitErrors,a=t.call(v,c.extend({key:e,style:this.serialize(),value:n,styleSpec:_},i));return o.call(v,this,a)},_remove:function(){this.dispatcher.remove()},_reloadSource:function(t){this.sources[t].reload()},_updateSources:function(t){for(var e in this.sources)this.sources[e].update(t)},_redoPlacement:function(){for(var t in this.sources)this.sources[t].redoPlacement&&this.sources[t].redoPlacement()},_forwardSourceEvent:function(t){this.fire("source."+t.type,c.extend({source:t.target.getSource()},t))},_forwardTileEvent:function(t){this.fire(t.type,c.extend({source:t.target},t))},_forwardLayerEvent:function(t){this.fire("layer."+t.type,c.extend({layer:{id:t.target.id}},t))},"get sprite json":function(t,e,n){var r=this.sprite;r.loaded()?n(null,{sprite:r.data,retina:r.retina}):r.on("load",function(){n(null,{sprite:r.data,retina:r.retina})})},"get icons":function(t,e,n){var r=this.sprite,i=this.spriteAtlas;r.loaded()?(i.setSprite(r),i.addIcons(e.icons,n)):r.on("load",function(){i.setSprite(r),i.addIcons(e.icons,n)})},"get glyphs":function(t,e,n){function r(t,e,r){t&&console.error(t),a[r]=e,o--,0===o&&n(null,a)}var i=e.stacks,o=Object.keys(i).length,a={};for(var s in i)this.glyphSource.getSimpleGlyphs(s,i[s],e.uid,r)}})},{"../global_worker_pool":44,"../render/line_atlas":56,"../source/query_features":66,"../source/source":68,"../source/source_cache":69,"../symbol/glyph_source":101,"../symbol/sprite_atlas":106,"../util/ajax":128,"../util/browser":129,"../util/dispatcher":136,"../util/evented":137,"../util/mapbox":143,"../util/util":146,"./animation_loop":77,"./image_sprite":78,"./style_function":82,"./style_layer":83,"./style_spec":90,"./validate_style":92}],81:[function(t,e,n){"use strict";function r(t,e){this.value=s.clone(e),this.isFunction=o.isFunctionDefinition(e),this.json=JSON.stringify(this.value);var n="color"===t.type&&this.value?a(this.value):e;if(this.calculate=o[t["function"]||"piecewise-constant"](n),this.isFeatureConstant=this.calculate.isFeatureConstant,this.isZoomConstant=this.calculate.isZoomConstant,"piecewise-constant"===t["function"]&&t.transition&&(this.calculate=i(this.calculate)),!this.isFeatureConstant&&!this.isZoomConstant){this.stopZoomLevels=[];for(var r=[],u=this.value.stops,l=0;l<this.value.stops.length;l++){var c=u[l][0].zoom;this.stopZoomLevels.indexOf(c)<0&&(this.stopZoomLevels.push(c),r.push([c,r.length]))}this.calculateInterpolationT=o.interpolated({stops:r,base:e.base})}}function i(t){return function(e,n){var r,i,o,a=e.zoom,s=e.zoomHistory,u=e.duration,l=a%1,c=Math.min((Date.now()-s.lastIntegerZoomTime)/u,1),f=1,h=1;return a>s.lastIntegerZoom?(r=l+(1-l)*c,f*=2,i=t({zoom:a-1},n),o=t({zoom:a},n)):(r=1-(1-c)*l,o=t({zoom:a},n),i=t({zoom:a+1},n),f/=2),void 0===i||void 0===o?void 0:{from:i,fromScale:f,to:o,toScale:h,t:r}}}var o=t("./style_function"),a=t("./parse_color"),s=t("../util/util");e.exports=r},{"../util/util":146,"./parse_color":79,"./style_function":82}],82:[function(t,e,n){"use strict";var r=t("mapbox-gl-function");n.interpolated=function(t){var e=r.interpolated(t),n=function(t,n){return e(t&&t.zoom,n||{})};return n.isFeatureConstant=e.isFeatureConstant,n.isZoomConstant=e.isZoomConstant,n},n["piecewise-constant"]=function(t){var e=r["piecewise-constant"](t),n=function(t,n){return e(t&&t.zoom,n||{})};return n.isFeatureConstant=e.isFeatureConstant,n.isZoomConstant=e.isZoomConstant,n},n.isFunctionDefinition=r.isFunctionDefinition},{"mapbox-gl-function":174}],83:[function(t,e,n){"use strict";function r(t,e){this.set(t,e)}function i(t){return t.value}var o=t("../util/util"),a=t("./style_transition"),s=t("./style_declaration"),u=t("./style_spec"),l=t("./validate_style"),c=t("./parse_color"),f=t("../util/evented");e.exports=r;var h="-transition";r.create=function(e,n){var r={background:t("./style_layer/background_style_layer"),circle:t("./style_layer/circle_style_layer"),fill:t("./style_layer/fill_style_layer"),line:t("./style_layer/line_style_layer"),raster:t("./style_layer/raster_style_layer"),symbol:t("./style_layer/symbol_style_layer")};return new r[(n||e).type](e,n)},r.prototype=o.inherit(f,{set:function(t,e){this.id=t.id,this.ref=t.ref,this.metadata=t.metadata,this.type=(e||t).type,this.source=(e||t).source,this.sourceLayer=(e||t)["source-layer"],this.minzoom=(e||t).minzoom,this.maxzoom=(e||t).maxzoom,this.filter=(e||t).filter,this.paint={},this.layout={},this._paintSpecifications=u["paint_"+this.type],this._layoutSpecifications=u["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var n,r;for(var i in t){var o=i.match(/^paint(?:\.(.*))?$/);if(o){var a=o[1]||"";for(n in t[i])this.setPaintProperty(n,t[i][n],a)}}if(this.ref)this._layoutDeclarations=e._layoutDeclarations;else for(r in t.layout)this.setLayoutProperty(r,t.layout[r]);for(n in this._paintSpecifications)this.paint[n]=this.getPaintValue(n);for(r in this._layoutSpecifications)this._updateLayoutValue(r)},setLayoutProperty:function(t,e){if(null==e)delete this._layoutDeclarations[t];else{var n="layers."+this.id+".layout."+t;if(this._handleErrors(l.layoutProperty,n,t,e))return;this._layoutDeclarations[t]=new s(this._layoutSpecifications[t],e)}this._updateLayoutValue(t)},getLayoutProperty:function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},getLayoutValue:function(t,e,n){var r=this._layoutSpecifications[t],i=this._layoutDeclarations[t];return i?i.calculate(e,n):r["default"]},setPaintProperty:function(t,e,n){var r="layers."+this.id+(n?'["paint.'+n+'"].':".paint.")+t;if(o.endsWith(t,h))if(this._paintTransitionOptions[n||""]||(this._paintTransitionOptions[n||""]={}),null===e||void 0===e)delete this._paintTransitionOptions[n||""][t];else{if(this._handleErrors(l.paintProperty,r,t,e))return;this._paintTransitionOptions[n||""][t]=e}else if(this._paintDeclarations[n||""]||(this._paintDeclarations[n||""]={}),null===e||void 0===e)delete this._paintDeclarations[n||""][t];else{if(this._handleErrors(l.paintProperty,r,t,e))return;this._paintDeclarations[n||""][t]=new s(this._paintSpecifications[t],e)}},getPaintProperty:function(t,e){return e=e||"",o.endsWith(t,h)?this._paintTransitionOptions[e]&&this._paintTransitionOptions[e][t]:this._paintDeclarations[e]&&this._paintDeclarations[e][t]&&this._paintDeclarations[e][t].value},getPaintValue:function(t,e,n){var r=this._paintSpecifications[t],i=this._paintTransitions[t];return i?i.calculate(e,n):"color"===r.type&&r["default"]?c(r["default"]):r["default"]},getPaintValueStopZoomLevels:function(t){var e=this._paintTransitions[t];return e?e.declaration.stopZoomLevels:[]},getPaintInterpolationT:function(t,e){var n=this._paintTransitions[t];return n.declaration.calculateInterpolationT({zoom:e})},isPaintValueFeatureConstant:function(t){var e=this._paintTransitions[t];return!e||e.declaration.isFeatureConstant},isLayoutValueFeatureConstant:function(t){var e=this._layoutDeclarations[t];return!e||e.isFeatureConstant},isPaintValueZoomConstant:function(t){var e=this._paintTransitions[t];return!e||e.declaration.isZoomConstant},isHidden:function(t){return!!(this.minzoom&&t<this.minzoom)||(!!(this.maxzoom&&t>=this.maxzoom)||("none"===this.layout.visibility||(!(!this.isPaintValueFeatureConstant(this.type+"-opacity")||0!==this.paint[this.type+"-opacity"])||!(!this.isPaintValueFeatureConstant(this.type+"-color")||!this.paint[this.type+"-color"]||0!==this.paint[this.type+"-color"][3]))))},updatePaintTransitions:function(t,e,n,r){for(var i=o.extend({},this._paintDeclarations[""]),a=0;a<t.length;a++)o.extend(i,this._paintDeclarations[t[a]]);var s;for(s in i)this._applyPaintDeclaration(s,i[s],e,n,r);for(s in this._paintTransitions)s in i||this._applyPaintDeclaration(s,null,e,n,r)},updatePaintTransition:function(t,e,n,r,i){for(var o=this._paintDeclarations[""][t],a=0;a<e.length;a++){var s=this._paintDeclarations[e[a]];s&&s[t]&&(o=s[t])}this._applyPaintDeclaration(t,o,n,r,i)},recalculate:function(t,e){for(var n in this._paintTransitions)this.paint[n]=this.getPaintValue(n,{zoom:t,zoomHistory:e});for(var r in this._layoutFunctions)this.layout[r]=this.getLayoutValue(r,{zoom:t,zoomHistory:e})},serialize:function(t){var e={id:this.id,ref:this.ref,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom};for(var n in this._paintDeclarations){var r=""===n?"paint":"paint."+n;e[r]=o.mapObject(this._paintDeclarations[n],i)}return(!this.ref||t&&t.includeRefProperties)&&o.extend(e,{type:this.type,source:this.source,"source-layer":this.sourceLayer,filter:this.filter,layout:o.mapObject(this._layoutDeclarations,i)}),o.filterObject(e,function(t,e){return void 0!==t&&!("layout"===e&&!Object.keys(t).length)})},_applyPaintDeclaration:function(t,e,n,r,i){var u=n.transition?this._paintTransitions[t]:void 0,l=this._paintSpecifications[t];if(null!==e&&void 0!==e||(e=new s(l,l["default"])),!u||u.declaration.json!==e.json){var c=o.extend({duration:300,delay:0},r,this.getPaintProperty(t+h)),f=this._paintTransitions[t]=new a(l,e,u,c);f.instant()||(f.loopID=i.set(f.endTime-Date.now())),u&&i.cancel(u.loopID)}},_updateLayoutValue:function(t){var e=this._layoutDeclarations[t];e&&e.isFunction?this._layoutFunctions[t]=!0:(delete this._layoutFunctions[t],this.layout[t]=this.getLayoutValue(t))},_handleErrors:function(t,e,n,r){return l.emitErrors(this,t.call(l,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:u,style:{glyphs:!0,sprite:!0}}))}})},{"../util/evented":137,"../util/util":146,"./parse_color":79,"./style_declaration":81,"./style_layer/background_style_layer":84,"./style_layer/circle_style_layer":85,"./style_layer/fill_style_layer":86,"./style_layer/line_style_layer":87,"./style_layer/raster_style_layer":88,"./style_layer/symbol_style_layer":89,"./style_spec":90,"./style_transition":91,"./validate_style":92}],84:[function(t,e,n){"use strict";function r(){o.apply(this,arguments)}var i=t("../../util/util"),o=t("../style_layer");e.exports=r,r.prototype=i.inherit(o,{})},{"../../util/util":146,"../style_layer":83}],85:[function(t,e,n){"use strict";function r(){o.apply(this,arguments)}var i=t("../../util/util"),o=t("../style_layer");e.exports=r,r.prototype=i.inherit(o,{})},{"../../util/util":146,"../style_layer":83}],86:[function(t,e,n){"use strict";function r(){o.apply(this,arguments)}var i=t("../../util/util"),o=t("../style_layer");r.prototype=i.inherit(o,{getPaintValue:function(t,e,n){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.getPaintValue.call(this,"fill-color",e,n):o.prototype.getPaintValue.call(this,t,e,n)},getPaintValueStopZoomLevels:function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):o.prototype.getPaintValueStopZoomLevels.call(this,arguments)},getPaintInterpolationT:function(t,e){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.getPaintInterpolationT.call(this,"fill-color",e):o.prototype.getPaintInterpolationT.call(this,t,e)},isPaintValueFeatureConstant:function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):o.prototype.isPaintValueFeatureConstant.call(this,t)},isPaintValueZoomConstant:function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.isPaintValueZoomConstant.call(this,"fill-color"):o.prototype.isPaintValueZoomConstant.call(this,t)},isHidden:function(t){if(this.minzoom&&t<this.minzoom)return!0;if(this.maxzoom&&t>=this.maxzoom)return!0;if("none"===this.layout.visibility)return!0;var e=this.isPaintValueFeatureConstant("fill-opacity")&&0===this.paint["fill-opacity"]||this.isPaintValueFeatureConstant("fill-color")&&0===this.paint["fill-color"][3],n=this.isPaintValueFeatureConstant("fill-outline-color")&&0===this.paint["fill-outline-color"][3];return e&&n}}),e.exports=r},{"../../util/util":146,"../style_layer":83}],87:[function(t,e,n){"use strict";function r(){o.apply(this,arguments)}var i=t("../../util/util"),o=t("../style_layer");e.exports=r,r.prototype=i.inherit(o,{getPaintValue:function(t,e,n){var r=o.prototype.getPaintValue.apply(this,arguments);if(r&&"line-dasharray"===t){var i=Math.floor(e.zoom);this._flooredZoom!==i&&(this._flooredZoom=i,this._flooredLineWidth=this.getPaintValue("line-width",e,n)),r.fromScale*=this._flooredLineWidth,r.toScale*=this._flooredLineWidth}return r}})},{"../../util/util":146,"../style_layer":83}],88:[function(t,e,n){"use strict";function r(){o.apply(this,arguments)}var i=t("../../util/util"),o=t("../style_layer");e.exports=r,r.prototype=i.inherit(o,{})},{"../../util/util":146,"../style_layer":83}],89:[function(t,e,n){"use strict";function r(){o.apply(this,arguments)}var i=t("../../util/util"),o=t("../style_layer");e.exports=r,r.prototype=i.inherit(o,{isHidden:function(){if(o.prototype.isHidden.apply(this,arguments))return!0;var t=0===this.paint["text-opacity"]||!this.layout["text-field"],e=0===this.paint["icon-opacity"]||!this.layout["icon-image"];return!(!t||!e)},getLayoutValue:function(t,e,n){return("text-rotation-alignment"!==t||"line"!==this.getLayoutValue("symbol-placement",e,n)||this.getLayoutProperty("text-rotation-alignment"))&&("icon-rotation-alignment"!==t||"line"!==this.getLayoutValue("symbol-placement",e,n)||this.getLayoutProperty("icon-rotation-alignment"))?"text-pitch-alignment"!==t||this.getLayoutProperty("text-pitch-alignment")?o.prototype.getLayoutValue.apply(this,arguments):this.getLayoutValue("text-rotation-alignment"):"map"}})},{"../../util/util":146,"../style_layer":83}],90:[function(t,e,n){"use strict";e.exports=t("mapbox-gl-style-spec/reference/latest.min")},{"mapbox-gl-style-spec/reference/latest.min":197}],91:[function(t,e,n){"use strict";function r(t,e,n,r){this.declaration=e,this.startTime=this.endTime=(new Date).getTime(),"piecewise-constant"===t["function"]&&t.transition?this.interp=i:this.interp=a[t.type],this.oldTransition=n,this.duration=r.duration||0,this.delay=r.delay||0,this.instant()||(this.endTime=this.startTime+this.duration+this.delay,this.ease=o.easeCubicInOut),n&&n.endTime<=this.startTime&&delete n.oldTransition}function i(t,e,n){return void 0===(t&&t.to)||void 0===(e&&e.to)?void 0:{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:n}}var o=t("../util/util"),a=t("../util/interpolate");e.exports=r,r.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},r.prototype.calculate=function(t,e){var n=this.declaration.calculate(o.extend({},t,{duration:this.duration}),e);if(this.instant())return n;var r=t.time||Date.now();if(r<this.endTime){var i=this.oldTransition.calculate(o.extend({},t,{time:this.startTime}),e),a=this.ease((r-this.startTime-this.delay)/this.duration);n=this.interp(i,n,a)}return n}},{"../util/interpolate":140,"../util/util":146}],92:[function(t,e,n){"use strict";e.exports=t("mapbox-gl-style-spec/lib/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var n=0;n<e.length;n++)t.fire("error",{error:new Error(e[n].message)});return!0}return!1},e.exports.throwErrors=function(t,e){if(e)for(var n=0;n<e.length;n++)throw new Error(e[n].message)}},{"mapbox-gl-style-spec/lib/validate_style.min":196}],93:[function(t,e,n){"use strict";function r(t,e,n,r){this.x=t,this.y=e,this.angle=n,void 0!==r&&(this.segment=r)}var i=t("point-geometry");e.exports=r,r.prototype=Object.create(i.prototype),r.prototype.clone=function(){return new r(this.x,this.y,this.angle,this.segment)}},{"point-geometry":203}],94:[function(t,e,n){"use strict";function r(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(a--,a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=t[a-1],f=t[a],h=t[a+1];if(!h)return!1;var p=c.angleTo(f)-f.angleTo(h);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:p}),l+=p;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;a++,s+=f.dist(h)}return!0}e.exports=r},{}],95:[function(t,e,n){"use strict";function r(t,e,n,r,o){for(var a=[],s=0;s<t.length;s++)for(var u,l=t[s],c=0;c<l.length-1;c++){var f=l[c],h=l[c+1];f.x<e&&h.x<e||(f.x<e?f=new i(e,f.y+(h.y-f.y)*((e-f.x)/(h.x-f.x)))._round():h.x<e&&(h=new i(e,f.y+(h.y-f.y)*((e-f.x)/(h.x-f.x)))._round()),f.y<n&&h.y<n||(f.y<n?f=new i(f.x+(h.x-f.x)*((n-f.y)/(h.y-f.y)),n)._round():h.y<n&&(h=new i(f.x+(h.x-f.x)*((n-f.y)/(h.y-f.y)),n)._round()),f.x>=r&&h.x>=r||(f.x>=r?f=new i(r,f.y+(h.y-f.y)*((r-f.x)/(h.x-f.x)))._round():h.x>=r&&(h=new i(r,f.y+(h.y-f.y)*((r-f.x)/(h.x-f.x)))._round()),f.y>=o&&h.y>=o||(f.y>=o?f=new i(f.x+(h.x-f.x)*((o-f.y)/(h.y-f.y)),o)._round():h.y>=o&&(h=new i(f.x+(h.x-f.x)*((o-f.y)/(h.y-f.y)),o)._round()),u&&f.equals(u[u.length-1])||(u=[f],a.push(u)),u.push(h)))))}return a}var i=t("point-geometry");e.exports=r},{"point-geometry":203}],96:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=t("../util/util"),o=t("point-geometry"),a=e.exports=new r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});i.extendAll(a.prototype.StructType.prototype,{get anchorPoint(){return new o(this.anchorPointX,this.anchorPointY)}})},{"../util/struct_array":144,"../util/util":146,"point-geometry":203}],97:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s,u,l,c){var f=a.top*s-u,h=a.bottom*s+u,p=a.left*s-u,d=a.right*s+u;if(this.boxStartIndex=t.length,l){var m=h-f,v=d-p;if(m>0)if(m=Math.max(10*s,m),c){var y=e[n.segment+1].sub(e[n.segment])._unit()._mult(v),g=[n.sub(y),n.add(y)];this._addLineCollisionBoxes(t,g,n,0,v,m,r,i,o)}else this._addLineCollisionBoxes(t,e,n,n.segment,v,m,r,i,o)}else t.emplaceBack(n.x,n.y,p,f,d,h,1/0,r,i,o,0,0,0,0,0);this.boxEndIndex=t.length}e.exports=r,r.prototype._addLineCollisionBoxes=function(t,e,n,r,i,o,a,s,u){var l=o/2,c=Math.floor(i/l),f=-o/2,h=this.boxes,p=n,d=r+1,m=f;do{if(d--,d<0)return h;m-=e[d].dist(p),p=e[d]}while(m>-i/2);for(var v=e[d].dist(e[d+1]),y=0;y<c;y++){for(var g=-i/2+y*l;m+v<g;){if(m+=v,d++,d+1>=e.length)return h;v=e[d].dist(e[d+1])}var b=g-m,_=e[d],x=e[d+1],w=x.sub(_)._unit()._mult(b)._add(_)._round(),M=Math.max(Math.abs(g-f)-l/2,0),E=i/2/M;t.emplaceBack(w.x,w.y,-o/2,-o/2,o/2,o/2,E,a,s,u,0,0,0,0,0)}return h}},{}],98:[function(t,e,n){"use strict";function r(t,e,n){if("object"==typeof t){var r=t;n=e,t=r.angle,e=r.pitch,this.grid=new a(r.grid),this.ignoredGrid=new a(r.ignoredGrid)}else this.grid=new a(o,12,6),this.ignoredGrid=new a(o,12,0);this.angle=t,this.pitch=e;var i=Math.sin(t),s=Math.cos(t);if(this.rotationMatrix=[s,-i,i,s],this.reverseRotationMatrix=[s,i,-i,s],this.yStretch=1/Math.cos(e/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.collisionBoxArray=n,0===n.length){n.emplaceBack();var u=32767;n.emplaceBack(0,0,0,-u,0,u,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(o,0,0,-u,0,u,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,0,-u,0,u,0,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,o,-u,0,u,0,u,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=n.get(0),this.edges=[n.get(1),n.get(2),n.get(3),n.get(4)]}var i=t("point-geometry"),o=t("../data/bucket").EXTENT,a=t("grid-index");e.exports=r,r.prototype.serialize=function(){var t={angle:this.angle,pitch:this.pitch,grid:this.grid.toArrayBuffer(),ignoredGrid:this.ignoredGrid.toArrayBuffer()};return{data:t,transferables:[t.grid,t.ignoredGrid]}},r.prototype.minScale=.25,r.prototype.maxScale=2,r.prototype.placeCollisionFeature=function(t,e,n){for(var r=this.collisionBoxArray,o=this.minScale,a=this.rotationMatrix,s=this.yStretch,u=t.boxStartIndex;u<t.boxEndIndex;u++){var l=r.get(u),c=l.anchorPoint._matMult(a),f=c.x,h=c.y,p=f+l.x1,d=h+l.y1*s,m=f+l.x2,v=h+l.y2*s;if(l.bbox0=p,l.bbox1=d,l.bbox2=m,l.bbox3=v,!e)for(var y=this.grid.query(p,d,m,v),g=0;g<y.length;g++){var b=r.get(y[g]),_=b.anchorPoint._matMult(a);if(o=this.getPlacementScale(o,c,l,_,b),o>=this.maxScale)return o}if(n){var x;if(this.angle){var w=this.reverseRotationMatrix,M=new i(l.x1,l.y1).matMult(w),E=new i(l.x2,l.y1).matMult(w),S=new i(l.x1,l.y2).matMult(w),T=new i(l.x2,l.y2).matMult(w);x=this.tempCollisionBox,x.anchorPointX=l.anchorPoint.x,x.anchorPointY=l.anchorPoint.y,x.x1=Math.min(M.x,E.x,S.x,T.x),x.y1=Math.min(M.y,E.x,S.x,T.x),x.x2=Math.max(M.x,E.x,S.x,T.x),x.y2=Math.max(M.y,E.x,S.x,T.x),x.maxScale=l.maxScale}else x=l;for(var C=0;C<this.edges.length;C++){var P=this.edges[C];if(o=this.getPlacementScale(o,l.anchorPoint,x,P.anchorPoint,P),o>=this.maxScale)return o}}}return o},r.prototype.queryRenderedSymbols=function(t,e,n,r,o){var a={},s=[],u=this.collisionBoxArray,l=this.rotationMatrix,c=new i(t,e)._matMult(l),f=this.tempCollisionBox;f.anchorX=c.x,f.anchorY=c.y,f.x1=0,f.y1=0,f.x2=n-t,f.y2=r-e,f.maxScale=o,o=f.maxScale;for(var h=[c.x+f.x1/o,c.y+f.y1/o*this.yStretch,c.x+f.x2/o,c.y+f.y2/o*this.yStretch],p=this.grid.query(h[0],h[1],h[2],h[3]),d=this.ignoredGrid.query(h[0],h[1],h[2],h[3]),m=0;m<d.length;m++)p.push(d[m]);for(var v=0;v<p.length;v++){var y=u.get(p[v]),g=y.sourceLayerIndex,b=y.featureIndex;if(void 0===a[g]&&(a[g]={}),!a[g][b]){var _=y.anchorPoint.matMult(l),x=this.getPlacementScale(this.minScale,c,f,_,y);x>=o&&(a[g][b]=!0,s.push(p[v]))}}return s},r.prototype.getPlacementScale=function(t,e,n,r,i){var o=e.x-r.x,a=e.y-r.y,s=(i.x1-n.x2)/o,u=(i.x2-n.x1)/o,l=(i.y1-n.y2)*this.yStretch/a,c=(i.y2-n.y1)*this.yStretch/a;(isNaN(s)||isNaN(u))&&(s=u=1),(isNaN(l)||isNaN(c))&&(l=c=1);var f=Math.min(Math.max(s,u),Math.max(l,c)),h=i.maxScale,p=n.maxScale;
return f>h&&(f=h),f>p&&(f=p),f>t&&f>=i.placementScale&&(t=f),t},r.prototype.insertCollisionFeature=function(t,e,n){for(var r=n?this.ignoredGrid:this.grid,i=this.collisionBoxArray,o=t.boxStartIndex;o<t.boxEndIndex;o++){var a=i.get(o);a.placementScale=e,e<this.maxScale&&r.insert(o,a.bbox0,a.bbox1,a.bbox2,a.bbox3)}}},{"../data/bucket":31,"grid-index":173,"point-geometry":203}],99:[function(t,e,n){"use strict";function r(t,e,n,r,o,a,s,u,l){var c=r?.6*a*s:0,f=Math.max(r?r.right-r.left:0,o?o.right-o.left:0),h=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;e-f*s<e/4&&(e=f*s+e/4);var p=2*a,d=h?e/2*u%e:(f/2+p)*s*u%e;return i(t,d,e,c,n,f*s,h,!1,l)}function i(t,e,n,r,u,l,c,f,h){for(var p=l/2,d=0,m=0;m<t.length-1;m++)d+=t[m].dist(t[m+1]);for(var v=0,y=e-n,g=[],b=0;b<t.length-1;b++){for(var _=t[b],x=t[b+1],w=_.dist(x),M=x.angleTo(_);y+n<v+w;){y+=n;var E=(y-v)/w,S=o(_.x,x.x,E),T=o(_.y,x.y,E);if(S>=0&&S<h&&T>=0&&T<h&&y-p>=0&&y+p<=d){var C=new a(S,T,M,b)._round();r&&!s(t,C,l,r,u)||g.push(C)}}v+=w}return f||g.length||c||(g=i(t,v/2,n,r,u,l,c,!0,h)),g}var o=t("../util/interpolate"),a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=r},{"../symbol/anchor":93,"../util/interpolate":140,"./check_max_angle":94}],100:[function(t,e,n){"use strict";function r(){this.width=s,this.height=s,this.bin=new i(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)}var i=t("shelf-pack"),o=t("../util/util"),a=4,s=128,u=2048;e.exports=r,r.prototype.getGlyphs=function(){var t,e,n,r={};for(var i in this.ids)t=i.split("#"),e=t[0],n=t[1],r[e]||(r[e]=[]),r[e].push(n);return r},r.prototype.getRects=function(){var t,e,n,r={};for(var i in this.ids)t=i.split("#"),e=t[0],n=t[1],r[e]||(r[e]={}),r[e][n]=this.index[i];return r},r.prototype.addGlyph=function(t,e,n,r){if(!n)return null;var i=e+"#"+n.id;if(this.index[i])return this.ids[i].indexOf(t)<0&&this.ids[i].push(t),this.index[i];if(!n.bitmap)return null;var a=n.width+2*r,s=n.height+2*r,u=1,l=a+2*u,c=s+2*u;l+=4-l%4,c+=4-c%4;var f=this.bin.packOne(l,c);if(f||(this.resize(),f=this.bin.packOne(l,c)),!f)return o.warnOnce("glyph bitmap overflow"),null;this.index[i]=f,this.ids[i]=[t];for(var h=this.data,p=n.bitmap,d=0;d<s;d++)for(var m=this.width*(f.y+d+u)+f.x+u,v=a*d,y=0;y<a;y++)h[m+y]=p[v+y];return this.dirty=!0,f},r.prototype.resize=function(){var t=this.width,e=this.height;if(!(t>=u||e>=u)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=a,this.height*=a,this.bin.resize(this.width,this.height);for(var n=new ArrayBuffer(this.width*this.height),r=0;r<e;r++){var i=new Uint8Array(this.data.buffer,e*r,t),o=new Uint8Array(n,e*r*a,t);o.set(i)}this.data=new Uint8Array(n)}},r.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},r.prototype.updateTexture=function(t){this.bind(t),this.dirty&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.dirty=!1)}},{"../util/util":146,"shelf-pack":206}],101:[function(t,e,n){"use strict";function r(t){this.url=t&&a(t),this.atlases={},this.stacks={},this.loading={}}function i(t,e,n){var r=1;this.advance=t.advance,this.left=t.left-n-r,this.top=t.top+n+r,this.rect=e}function o(t,e,n,r){return r=r||"abc",n.replace("{s}",r[t.length%r.length]).replace("{fontstack}",t).replace("{range}",e)}var a=t("../util/mapbox").normalizeGlyphsURL,s=t("../util/ajax").getArrayBuffer,u=t("../util/glyphs"),l=t("../symbol/glyph_atlas"),c=t("pbf");e.exports=r,r.prototype.getSimpleGlyphs=function(t,e,n,r){void 0===this.stacks[t]&&(this.stacks[t]={}),void 0===this.atlases[t]&&(this.atlases[t]=new l);for(var o,a={},s=this.stacks[t],u=this.atlases[t],c=3,f={},h=0,p=0;p<e.length;p++){var d=e[p];if(o=Math.floor(d/256),s[o]){var m=s[o].glyphs[d],v=u.addGlyph(n,t,m,c);m&&(a[d]=new i(m,v,c))}else void 0===f[o]&&(f[o]=[],h++),f[o].push(d)}h||r(void 0,a,t);var y=function(e,o,s){if(!e)for(var l=this.stacks[t][o]=s.stacks[0],p=0;p<f[o].length;p++){var d=f[o][p],m=l.glyphs[d],v=u.addGlyph(n,t,m,c);m&&(a[d]=new i(m,v,c))}h--,h||r(void 0,a,t)}.bind(this);for(var g in f)this.loadRange(t,g,y)},r.prototype.loadRange=function(t,e,n){if(256*e>65535)return n("glyphs > 65535 not supported");void 0===this.loading[t]&&(this.loading[t]={});var r=this.loading[t];if(r[e])r[e].push(n);else{r[e]=[n];var i=256*e+"-"+(256*e+255),a=o(t,i,this.url);s(a,function(t,n){for(var i=!t&&new u(new c(new Uint8Array(n))),o=0;o<r[e].length;o++)r[e][o](t,e,i);delete r[e]})}},r.prototype.getGlyphAtlas=function(t){return this.atlases[t]}},{"../symbol/glyph_atlas":100,"../util/ajax":128,"../util/glyphs":139,"../util/mapbox":143,pbf:201}],102:[function(t,e,n){"use strict";e.exports=function(t,e,n){function r(r){c.push(t[r]),f.push(n[r]),h.push(e[r]),p++}function i(t,e,n){var r=l[t];return delete l[t],l[e]=r,f[r][0].pop(),f[r][0]=f[r][0].concat(n[0]),r}function o(t,e,n){var r=u[e];return delete u[e],u[t]=r,f[r][0].shift(),f[r][0]=n[0].concat(f[r][0]),r}function a(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}var s,u={},l={},c=[],f=[],h=[],p=0;for(s=0;s<t.length;s++){var d=n[s],m=e[s];if(m){var v=a(m,d),y=a(m,d,!0);if(v in l&&y in u&&l[v]!==u[y]){var g=o(v,y,d),b=i(v,y,f[g]);delete u[v],delete l[y],l[a(m,f[b],!0)]=b,f[g]=null}else v in l?i(v,y,d):y in u?o(v,y,d):(r(s),u[v]=p-1,l[y]=p-1)}else r(s)}return{features:c,textFeatures:h,geometries:f}}},{}],103:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s,u,l){this.anchorPoint=t,this.tl=e,this.tr=n,this.bl=r,this.br=i,this.tex=o,this.anchorAngle=a,this.glyphAngle=s,this.minScale=u,this.maxScale=l}function i(t,e,n,i,o,a,l,c,f){var h,p,d,m,v=e.image.rect,y=o.layout,g=1,b=e.left-g,_=b+v.w/e.image.pixelRatio,x=e.top-g,w=x+v.h/e.image.pixelRatio;if("none"!==y["icon-text-fit"]&&l){var M=_-b,E=w-x,S=y["text-size"]/24,T=l.left*S,C=l.right*S,P=l.top*S,k=l.bottom*S,A=C-T,I=k-P,O=y["icon-text-fit-padding"][0],R=y["icon-text-fit-padding"][1],D=y["icon-text-fit-padding"][2],N=y["icon-text-fit-padding"][3],j="width"===y["icon-text-fit"]?.5*(I-E):0,L="height"===y["icon-text-fit"]?.5*(A-M):0,z="width"===y["icon-text-fit"]||"both"===y["icon-text-fit"]?A:M,F="height"===y["icon-text-fit"]||"both"===y["icon-text-fit"]?I:E;h=new s(T+L-N,P+j-O),p=new s(T+L+R+z,P+j-O),d=new s(T+L+R+z,P+j+D+F),m=new s(T+L-N,P+j+D+F)}else h=new s(b,x),p=new s(_,x),d=new s(_,w),m=new s(b,w);var U=o.getLayoutValue("icon-rotate",c,f)*Math.PI/180;if(a){var B=i[t.segment];if(t.y===B.y&&t.x===B.x&&t.segment+1<i.length){var V=i[t.segment+1];U+=Math.atan2(t.y-V.y,t.x-V.x)+Math.PI}else U+=Math.atan2(t.y-B.y,t.x-B.x)}if(U){var q=Math.sin(U),H=Math.cos(U),W=[H,-q,q,H];h=h.matMult(W),p=p.matMult(W),m=m.matMult(W),d=d.matMult(W)}return[new r(new s(t.x,t.y),h,p,m,d,e.image.rect,0,0,u,1/0)]}function o(t,e,n,i,o,l){for(var c=o.layout["text-rotate"]*Math.PI/180,f=o.layout["text-keep-upright"],h=e.positionedGlyphs,p=[],d=0;d<h.length;d++){var m=h[d],v=m.glyph,y=v.rect;if(y){var g,b=(m.x+v.advance/2)*n,_=u;l?(g=[],_=a(g,t,b,i,t.segment,!0),f&&(_=Math.min(_,a(g,t,b,i,t.segment,!1)))):g=[{anchorPoint:new s(t.x,t.y),offset:0,angle:0,maxScale:1/0,minScale:u}];for(var x=m.x+v.left,w=m.y-v.top,M=x+y.w,E=w+y.h,S=new s(x,w),T=new s(M,w),C=new s(x,E),P=new s(M,E),k=0;k<g.length;k++){var A=g[k],I=S,O=T,R=C,D=P;if(c){var N=Math.sin(c),j=Math.cos(c),L=[j,-N,N,j];I=I.matMult(L),O=O.matMult(L),R=R.matMult(L),D=D.matMult(L)}var z=Math.max(A.minScale,_),F=(t.angle+A.offset+2*Math.PI)%(2*Math.PI),U=(A.angle+A.offset+2*Math.PI)%(2*Math.PI);p.push(new r(A.anchorPoint,I,O,R,D,y,F,U,z,A.maxScale))}}}return p}function a(t,e,n,r,i,o){var a=!o;n<0&&(o=!o),o&&i++;var l=new s(e.x,e.y),c=r[i],f=1/0;n=Math.abs(n);for(var h=u;;){var p=l.dist(c),d=n/p,m=Math.atan2(c.y-l.y,c.x-l.x);if(o||(m+=Math.PI),t.push({anchorPoint:l,offset:a?Math.PI:0,minScale:d,maxScale:f,angle:(m+2*Math.PI)%(2*Math.PI)}),d<=h)break;for(l=c;l.equals(c);)if(i+=o?1:-1,c=r[i],!c)return d;var v=c.sub(l)._unit();l=l.sub(v._mult(p)),f=d}return h}var s=t("point-geometry");e.exports={getIconQuads:i,getGlyphQuads:o,SymbolQuad:r};var u=.5},{"point-geometry":203}],104:[function(t,e,n){"use strict";function r(t,e,n){for(var r=[],o=0,a=t.length;o<a;o++){var s=i(t[o].properties,e["text-field"]);if(s){s=s.toString();var u=e["text-transform"];"uppercase"===u?s=s.toLocaleUpperCase():"lowercase"===u&&(s=s.toLocaleLowerCase());for(var l=0;l<s.length;l++)n[s.charCodeAt(l)]=!0;r[o]=s}else r[o]=null}return r}var i=t("../util/token");e.exports=r},{"../util/token":145}],105:[function(t,e,n){"use strict";function r(t,e,n,r){this.codePoint=t,this.x=e,this.y=n,this.glyph=r}function i(t,e,n,r,i,o){this.positionedGlyphs=t,this.text=e,this.top=n,this.bottom=r,this.left=i,this.right=o}function o(t,e,n,o,s,u,l,c,f){for(var h=[],p=new i(h,t,f[1],f[1],f[0],f[0]),d=-17,m=0,v=d,y=0;y<t.length;y++){var g=t.charCodeAt(y),b=e[g];b&&(h.push(new r(g,m,v,b)),m+=b.advance+c)}return!!h.length&&(a(p,e,o,n,s,u,l,f),p)}function a(t,e,n,r,i,o,a,l){var c=null,p=0,d=0,m=0,v=0,y=t.positionedGlyphs;if(r)for(var g=0;g<y.length;g++){var b=y[g];if(b.x-=p,b.y+=n*m,b.x>r&&null!==c){var _=y[c+1].x;v=Math.max(_,v);for(var x=c+1;x<=g;x++)y[x].y+=n,y[x].x-=_;if(a){var w=c;f[y[c].codePoint]&&w--,s(y,e,d,w,a)}d=c+1,c=null,p+=_,m++}h[b.codePoint]&&(c=g)}var M=y[y.length-1],E=M.x+e[M.codePoint].advance;v=Math.max(v,E);var S=(m+1)*n;s(y,e,d,y.length-1,a),u(y,a,i,o,v,n,m,l),t.top+=-o*S,t.bottom=t.top+S,t.left+=-i*v,t.right=t.left+v}function s(t,e,n,r,i){for(var o=e[t[r].codePoint].advance,a=(t[r].x+o)*i,s=n;s<=r;s++)t[s].x-=a}function u(t,e,n,r,i,o,a,s){for(var u=(e-n)*i+s[0],l=(-r*(a+1)+.5)*o+s[1],c=0;c<t.length;c++)t[c].x+=u,t[c].y+=l}function l(t,e){if(!t||!t.rect)return null;var n=e["icon-offset"][0],r=e["icon-offset"][1],i=n-t.width/2,o=i+t.width,a=r-t.height/2,s=a+t.height;return new c(t,a,s,i,o)}function c(t,e,n,r,i){this.image=t,this.top=e,this.bottom=n,this.left=r,this.right=i}e.exports={shapeText:o,shapeIcon:l};var f={32:!0,8203:!0},h={32:!0,38:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0}},{}],106:[function(t,e,n){"use strict";function r(t,e){this.width=t,this.height=e,this.bin=new a(t,e),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0}function i(t,e,n,r,i,o,a,s,u,l,c){var f,h,p=r*e+n,d=s*o+a;if(c)for(d-=o,h=-1;h<=l;h++,p=((h+l)%l+r)*e+n,d+=o)for(f=-1;f<=u;f++)i[d+f]=t[p+(f+u)%u];else for(h=0;h<l;h++,p+=e,d+=o)for(f=0;f<u;f++)i[d+f]=t[p+f]}function o(t,e,n,r,i){this.rect=t,this.width=e,this.height=n,this.sdf=r,this.pixelRatio=i}var a=t("shelf-pack"),s=t("../util/browser"),u=t("../util/util");e.exports=r,r.prototype.allocateImage=function(t,e){t/=this.pixelRatio,e/=this.pixelRatio;var n=2,r=t+n+(4-(t+n)%4),i=e+n+(4-(e+n)%4),o=this.bin.packOne(r,i);return o?o:(u.warnOnce("SpriteAtlas out of space."),null)},r.prototype.getImage=function(t,e){if(this.images[t])return this.images[t];if(!this.sprite)return null;var n=this.sprite.getSpritePosition(t);if(!n.width||!n.height)return null;var r=this.allocateImage(n.width,n.height);if(!r)return null;var i=new o(r,n.width/n.pixelRatio,n.height/n.pixelRatio,n.sdf,n.pixelRatio/this.pixelRatio);return this.images[t]=i,this.copy(r,n,e),i},r.prototype.getPosition=function(t,e){var n=this.getImage(t,e),r=n&&n.rect;if(!r)return null;var i=n.width*n.pixelRatio,o=n.height*n.pixelRatio,a=1;return{size:[n.width,n.height],tl:[(r.x+a)/this.width,(r.y+a)/this.height],br:[(r.x+a+i)/this.width,(r.y+a+o)/this.height]}},r.prototype.allocate=function(){if(!this.data){var t=Math.floor(this.width*this.pixelRatio),e=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(t*e);for(var n=0;n<this.data.length;n++)this.data[n]=0}},r.prototype.copy=function(t,e,n){if(this.sprite.img.data){var r=new Uint32Array(this.sprite.img.data.buffer);this.allocate();var o=this.data,a=1;i(r,this.sprite.img.width,e.x,e.y,o,this.width*this.pixelRatio,(t.x+a)*this.pixelRatio,(t.y+a)*this.pixelRatio,e.width,e.height,n),this.dirty=!0}},r.prototype.setSprite=function(t){t&&(this.pixelRatio=s.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=t},r.prototype.addIcons=function(t,e){for(var n=0;n<t.length;n++)this.getImage(t[n]);e(null,this.images)},r.prototype.bind=function(t,e){var n=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n=!0);var r=e?t.LINEAR:t.NEAREST;r!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r),this.filter=r),this.dirty&&(this.allocate(),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)}},{"../util/browser":129,"../util/util":146,"shelf-pack":206}],107:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=t("../util/util"),o=t("point-geometry"),a=e.exports=new r({members:[{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"glyphQuadStartIndex"},{type:"Uint16",name:"glyphQuadEndIndex"},{type:"Uint16",name:"iconQuadStartIndex"},{type:"Uint16",name:"iconQuadEndIndex"},{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int8",name:"index"}]});i.extendAll(a.prototype.StructType.prototype,{get anchorPoint(){return new o(this.anchorPointX,this.anchorPointY)}})},{"../util/struct_array":144,"../util/util":146,"point-geometry":203}],108:[function(t,e,n){"use strict";var r=t("../util/struct_array"),i=t("../util/util"),o=t("point-geometry"),a=t("./quads").SymbolQuad,s=e.exports=new r({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"tlX"},{type:"Float32",name:"tlY"},{type:"Float32",name:"trX"},{type:"Float32",name:"trY"},{type:"Float32",name:"blX"},{type:"Float32",name:"blY"},{type:"Float32",name:"brX"},{type:"Float32",name:"brY"},{type:"Int16",name:"texH"},{type:"Int16",name:"texW"},{type:"Int16",name:"texX"},{type:"Int16",name:"texY"},{type:"Float32",name:"anchorAngle"},{type:"Float32",name:"glyphAngle"},{type:"Float32",name:"maxScale"},{type:"Float32",name:"minScale"}]});i.extendAll(s.prototype.StructType.prototype,{get anchorPoint(){return new o(this.anchorPointX,this.anchorPointY)},get SymbolQuad(){return new a(this.anchorPoint,new o(this.tlX,this.tlY),new o(this.trX,this.trY),new o(this.blX,this.blY),new o(this.brX,this.brY),{x:this.texX,y:this.texY,h:this.texH,w:this.texW,height:this.texH,width:this.texW},this.anchorAngle,this.glyphAngle,this.minScale,this.maxScale)}})},{"../util/struct_array":144,"../util/util":146,"./quads":103,"point-geometry":203}],109:[function(t,e,n){"use strict";var r=t("../util/dom"),i=t("point-geometry"),o={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function n(t){y("mouseout",t)}function a(e){t.stop(),x=r.mousePos(b,e),y("mousedown",e)}function s(e){var n=t.dragRotate&&t.dragRotate.isActive();_&&!n&&y("contextmenu",_),_=null,y("mouseup",e)}function u(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var n=e.toElement||e.target;n&&n!==b;)n=n.parentNode;n===b&&y("mousemove",e)}}function l(e){t.stop(),g("touchstart",e),!e.touches||e.touches.length>1||(w?(clearTimeout(w),w=null,y("dblclick",e)):w=setTimeout(p,300))}function c(t){g("touchmove",t)}function f(t){g("touchend",t)}function h(t){g("touchcancel",t)}function p(){w=null}function d(t){var e=r.mousePos(b,t);e.equals(x)&&y("click",t)}function m(t){y("dblclick",t),t.preventDefault()}function v(t){_=t,t.preventDefault()}function y(e,n){var i=r.mousePos(b,n);return t.fire(e,{lngLat:t.unproject(i),point:i,originalEvent:n})}function g(e,n){var o=r.touchPos(b,n),a=o.reduce(function(t,e,n,r){return t.add(e.div(r.length))},new i(0,0));return t.fire(e,{lngLat:t.unproject(a),point:a,lngLats:o.map(function(e){return t.unproject(e)},this),points:o,originalEvent:n})}var b=t.getCanvasContainer(),_=null,x=null,w=null;for(var M in o)t[M]=new o[M](t,e),e.interactive&&e[M]&&t[M].enable();b.addEventListener("mouseout",n,!1),b.addEventListener("mousedown",a,!1),b.addEventListener("mouseup",s,!1),b.addEventListener("mousemove",u,!1),b.addEventListener("touchstart",l,!1),b.addEventListener("touchend",f,!1),b.addEventListener("touchmove",c,!1),b.addEventListener("touchcancel",h,!1),b.addEventListener("click",d,!1),b.addEventListener("dblclick",m,!1),b.addEventListener("contextmenu",v,!1)}},{"../util/dom":131,"./handler/box_zoom":116,"./handler/dblclick_zoom":117,"./handler/drag_pan":118,"./handler/drag_rotate":119,"./handler/keyboard":120,"./handler/scroll_zoom":121,"./handler/touch_zoom_rotate":122,"point-geometry":203}],110:[function(t,e,n){"use strict";var r=t("../util/util"),i=t("../util/interpolate"),o=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),u=t("point-geometry"),l=e.exports=function(){};r.extend(l.prototype,{getCenter:function(){return this.transform.center},setCenter:function(t,e){return this.jumpTo({center:t},e),this},panBy:function(t,e,n){return this.panTo(this.transform.center,r.extend({offset:u.convert(t).mult(-1)},e),n),this},panTo:function(t,e,n){return this.easeTo(r.extend({center:t},e),n)},getZoom:function(){return this.transform.zoom},setZoom:function(t,e){return this.jumpTo({zoom:t},e),this},zoomTo:function(t,e,n){return this.easeTo(r.extend({zoom:t},e),n)},zoomIn:function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},zoomOut:function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},getBearing:function(){return this.transform.bearing},setBearing:function(t,e){return this.jumpTo({bearing:t},e),this},rotateTo:function(t,e,n){return this.easeTo(r.extend({bearing:t},e),n)},resetNorth:function(t,e){return this.rotateTo(0,r.extend({duration:1e3},t),e),this},snapToNorth:function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},getPitch:function(){return this.transform.pitch},setPitch:function(t,e){return this.jumpTo({pitch:t},e),this},fitBounds:function(t,e,n){e=r.extend({padding:0,offset:[0,0],maxZoom:1/0},e),t=s.convert(t);var i=u.convert(e.offset),o=this.transform,a=o.project(t.getNorthWest()),l=o.project(t.getSouthEast()),c=l.sub(a),f=(o.width-2*e.padding-2*Math.abs(i.x))/c.x,h=(o.height-2*e.padding-2*Math.abs(i.y))/c.y;return e.center=o.unproject(a.add(l).div(2)),e.zoom=Math.min(o.scaleZoom(o.scale*Math.min(f,h)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,n):this.flyTo(e,n)},jumpTo:function(t,e){this.stop();var n=this.transform,r=!1,i=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),"center"in t&&(n.center=a.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),r&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),i&&this.fire("rotate",e),o&&this.fire("pitch",e),this.fire("moveend",e)},easeTo:function(t,e){this.stop(),t=r.extend({offset:[0,0],duration:500,easing:r.ease},t);var n,o,s=this.transform,l=u.convert(t.offset),c=this.getZoom(),f=this.getBearing(),h=this.getPitch(),p="zoom"in t?+t.zoom:c,d="bearing"in t?this._normalizeBearing(t.bearing,f):f,m="pitch"in t?+t.pitch:h;"center"in t?(n=a.convert(t.center),o=s.centerPoint.add(l)):"around"in t?(n=a.convert(t.around),o=s.locationPoint(n)):(o=s.centerPoint.add(l),n=s.pointLocation(o));var v=s.locationPoint(n);return t.animate===!1&&(t.duration=0),this.zooming=p!==c,this.rotating=f!==d,this.pitching=m!==h,t.noMoveStart||this.fire("movestart",e),this.zooming&&this.fire("zoomstart",e),clearTimeout(this._onEaseEnd),this._ease(function(t){this.zooming&&(s.zoom=i(c,p,t)),this.rotating&&(s.bearing=i(f,d,t)),this.pitching&&(s.pitch=i(h,m,t)),s.setLocationAtPoint(n,v.add(o.sub(v)._mult(t))),this.fire("move",e),this.zooming&&this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){t.delayEndEvents?this._onEaseEnd=setTimeout(this._easeToEnd.bind(this,e),t.delayEndEvents):this._easeToEnd(e)}.bind(this),t),this},_easeToEnd:function(t){var e=this.zooming;this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),this.fire("moveend",t)},flyTo:function(t,e){function n(t){var e=(S*S-E*E+(t?-1:1)*k*k*T*T)/(2*(t?S:E)*k*T);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return o(t)/s(t)}this.stop(),t=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},t);var c=this.transform,f=u.convert(t.offset),h=this.getZoom(),p=this.getBearing(),d=this.getPitch(),m="center"in t?a.convert(t.center):this.getCenter(),v="zoom"in t?+t.zoom:h,y="bearing"in t?this._normalizeBearing(t.bearing,p):p,g="pitch"in t?+t.pitch:d;Math.abs(c.center.lng)+Math.abs(m.lng)>180&&(c.center.lng>0&&m.lng<0?m.lng+=360:c.center.lng<0&&m.lng>0&&(m.lng-=360));var b=c.zoomScale(v-h),_=c.point,x="center"in t?c.project(m).sub(f.div(b)):_,w=c.worldSize,M=t.curve,E=Math.max(c.width,c.height),S=E/b,T=x.sub(_).mag();if("minZoom"in t){var C=r.clamp(Math.min(t.minZoom,h,v),c.minZoom,c.maxZoom),P=E/c.zoomScale(C-h);M=Math.sqrt(P/T*2)}var k=M*M,A=n(0),I=function(t){return s(A)/s(A+M*t)},O=function(t){return E*((s(A)*l(A+M*t)-o(A))/k)/T},R=(n(1)-A)/M;if(Math.abs(T)<1e-6){if(Math.abs(E-S)<1e-6)return this.easeTo(t);var D=S<E?-1:1;R=Math.abs(Math.log(S/E))/M,O=function(){return 0},I=function(t){return Math.exp(D*M*t)}}if("duration"in t)t.duration=+t.duration;else{var N="screenSpeed"in t?+t.screenSpeed/M:+t.speed;t.duration=1e3*R/N}return this.zooming=!0,p!==y&&(this.rotating=!0),d!==g&&(this.pitching=!0),this.fire("movestart",e),this.fire("zoomstart",e),this._ease(function(t){var n=t*R,r=O(n);c.zoom=h+c.scaleZoom(1/I(n)),c.center=c.unproject(_.add(x.sub(_).mult(r)),w),this.rotating&&(c.bearing=i(p,y,t)),this.pitching&&(c.pitch=i(d,g,t)),this.fire("move",e),this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},function(){this.zooming=!1,this.rotating=!1,this.pitching=!1,this.fire("zoomend",e),this.fire("moveend",e)},t),this},isEasing:function(){return!!this._abortFn},stop:function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},_ease:function(t,e,n){this._finishFn=e,this._abortFn=o.timed(function(e){t.call(this,n.easing(e)),1===e&&this._finishEase()},n.animate===!1?0:n.duration,this)},_finishEase:function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},_normalizeBearing:function(t,e){t=r.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},_updateEasing:function(t,e,n){var i;if(this.ease){var o=this.ease,a=(Date.now()-o.start)/o.duration,s=o.easing(a+.01)-o.easing(a),u=.27/Math.sqrt(s*s+1e-4)*.01,l=Math.sqrt(.0729-u*u);i=r.bezier(u,l,.25,1)}else i=n?r.bezier.apply(r,n):r.ease;return this.ease={start:(new Date).getTime(),to:Math.pow(2,e),duration:t,easing:i},i}})},{"../geo/lng_lat":41,"../geo/lng_lat_bounds":42,"../util/browser":129,"../util/interpolate":140,"../util/util":146,"point-geometry":203}],111:[function(t,e,n){"use strict";function r(t){a.setOptions(this,t)}var i=t("./control"),o=t("../../util/dom"),a=t("../../util/util");e.exports=r,r.createAttributionString=function(t){var e=[];for(var n in t){var r=t[n];r.attribution&&e.indexOf(r.attribution)<0&&e.push(r.attribution)}return e.sort(function(t,e){return t.length-e.length}),e=e.filter(function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}),e.join(" | ")},r.prototype=a.inherit(i,{options:{position:"bottom-right"},onAdd:function(t){var e="mapboxgl-ctrl-attrib",n=this._container=o.create("div",e,t.getContainer());return this._update(),t.on("source.load",this._update.bind(this)),t.on("source.change",this._update.bind(this)),t.on("source.remove",this._update.bind(this)),t.on("moveend",this._updateEditLink.bind(this)),n},_update:function(){this._map.style&&(this._container.innerHTML=r.createAttributionString(this._map.style.sources)),this._editLink=this._container.getElementsByClassName("mapbox-improve-map")[0],this._updateEditLink()},_updateEditLink:function(){if(this._editLink){var t=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+t.lng+"/"+t.lat+"/"+Math.round(this._map.getZoom()+1)}}})},{"../../util/dom":131,"../../util/util":146,"./control":112}],112:[function(t,e,n){"use strict";function r(){}var i=t("../../util/util"),o=t("../../util/evented");e.exports=r,r.prototype={addTo:function(t){this._map=t;var e=this._container=this.onAdd(t);if(this.options&&this.options.position){var n=this.options.position,r=t._controlCorners[n];e.className+=" mapboxgl-ctrl",n.indexOf("bottom")!==-1?r.insertBefore(e,r.firstChild):r.appendChild(e)}return this},remove:function(){return this._container.parentNode.removeChild(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this}},i.extend(r.prototype,o)},{"../../util/evented":137,"../../util/util":146}],113:[function(t,e,n){"use strict";function r(t){s.setOptions(this,t)}var i=t("./control"),o=t("../../util/browser"),a=t("../../util/dom"),s=t("../../util/util");e.exports=r;var u={enableHighAccuracy:!1,timeout:6e3};r.prototype=s.inherit(i,{options:{position:"top-right"},onAdd:function(t){var e="mapboxgl-ctrl",n=this._container=a.create("div",e+"-group",t.getContainer());return o.supportsGeolocation?(this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._geolocateButton=a.create("button",e+"-icon "+e+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),n):n},_onContextMenu:function(t){t.preventDefault()},_onClickGeolocate:function(){navigator.geolocation.getCurrentPosition(this._success.bind(this),this._error.bind(this),u),this._timeoutId=setTimeout(this._finish.bind(this),1e4)},_success:function(t){this._map.jumpTo({center:[t.coords.longitude,t.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire("geolocate",t),this._finish()},_error:function(t){this.fire("error",t),this._finish()},_finish:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}})},{"../../util/browser":129,"../../util/dom":131,"../../util/util":146,"./control":112}],114:[function(t,e,n){"use strict";function r(t){s.setOptions(this,t)}function i(t){return new MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var o=t("./control"),a=t("../../util/dom"),s=t("../../util/util");e.exports=r,r.prototype=s.inherit(o,{options:{position:"top-right"},onAdd:function(t){var e="mapboxgl-ctrl",n=this._container=a.create("div",e+"-group",t.getContainer());return this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(e+"-icon "+e+"-zoom-in",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(e+"-icon "+e+"-zoom-out",t.zoomOut.bind(t)),this._compass=this._createButton(e+"-icon "+e+"-compass",t.resetNorth.bind(t)),this._compassArrow=a.create("div","arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),t.on("rotate",this._rotateCompassArrow.bind(this)),this._rotateCompassArrow(),this._el=t.getCanvasContainer(),n},_onContextMenu:function(t){t.preventDefault()},_onCompassDown:function(t){0===t.button&&(a.disableDrag(),document.addEventListener("mousemove",this._onCompassMove),document.addEventListener("mouseup",this._onCompassUp),this._el.dispatchEvent(i(t)),t.stopPropagation())},_onCompassMove:function(t){0===t.button&&(this._el.dispatchEvent(i(t)),t.stopPropagation())},_onCompassUp:function(t){0===t.button&&(document.removeEventListener("mousemove",this._onCompassMove),document.removeEventListener("mouseup",this._onCompassUp),a.enableDrag(),this._el.dispatchEvent(i(t)),t.stopPropagation())},_createButton:function(t,e){var n=a.create("button",t,this._container);return n.type="button",n.addEventListener("click",function(){e()}),n},_rotateCompassArrow:function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t}})},{"../../util/dom":131,"../../util/util":146,"./control":112}],115:[function(t,e,n){"use strict";function r(t){s.setOptions(this,t)}function i(t,e,n){var r=n&&n.maxWidth||100,i=t._container.clientHeight/2,s=o(t.unproject([0,i]),t.unproject([r,i])),u=a(s),l=u/s;e.style.width=r*l+"px",e.innerHTML=u<1e3?u+" m":u/1e3+" km"}function o(t,e){var n=6371e3,r=Math.PI/180,i=t.lat*r,o=e.lat*r,a=Math.sin(i)*Math.sin(o)+Math.cos(i)*Math.cos(o)*Math.cos((e.lng-t.lng)*r),s=n*Math.acos(Math.min(a,1));return s}function a(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}var s=t("../../util/util"),u=t("./control"),l=t("../../util/dom");e.exports=r,r.prototype=s.inherit(u,{options:{position:"bottom-left"},onAdd:function(t){var e="mapboxgl-ctrl-scale",n=this._container=l.create("div",e,t.getContainer()),r=this.options;return i(t,n,r),t.on("move",function(){i(t,n,r)}),n}})},{"../../util/dom":131,"../../util/util":146,"./control":112}],116:[function(t,e,n){"use strict";function r(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),a.bindHandlers(this)}var i=t("../../util/dom"),o=t("../../geo/lng_lat_bounds"),a=t("../../util/util");e.exports=r,r.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onMouseDown,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},_onMouseDown:function(t){t.shiftKey&&0===t.button&&(document.addEventListener("mousemove",this._onMouseMove,!1),document.addEventListener("keydown",this._onKeyDown,!1),document.addEventListener("mouseup",this._onMouseUp,!1),i.disableDrag(),this._startPos=i.mousePos(this._el,t),this._active=!0)},_onMouseMove:function(t){var e=this._startPos,n=i.mousePos(this._el,t);this._box||(this._box=i.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(e.x,n.x),o=Math.max(e.x,n.x),a=Math.min(e.y,n.y),s=Math.max(e.y,n.y);i.setTransform(this._box,"translate("+r+"px,"+a+"px)"),this._box.style.width=o-r+"px",this._box.style.height=s-a+"px"},_onMouseUp:function(t){if(0===t.button){var e=this._startPos,n=i.mousePos(this._el,t),r=new o(this._map.unproject(e),this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(r,{
linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:r})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},_finish:function(){this._active=!1,document.removeEventListener("mousemove",this._onMouseMove,!1),document.removeEventListener("keydown",this._onKeyDown,!1),document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),i.enableDrag()},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})}}},{"../../geo/lng_lat_bounds":42,"../../util/dom":131,"../../util/util":146}],117:[function(t,e,n){"use strict";function r(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)}e.exports=r,r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},_onDblClick:function(t){this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)}}},{}],118:[function(t,e,n){"use strict";function r(t){this._map=t,this._el=t.getCanvasContainer(),o.bindHandlers(this)}var i=t("../../util/dom"),o=t("../../util/util");e.exports=r;var a=.3,s=o.bezier(0,0,a,1),u=1400,l=2500;r.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},_onDown:function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(document.addEventListener("touchmove",this._onMove),document.addEventListener("touchend",this._onTouchEnd)):(document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onMouseUp)),this._active=!1,this._startPos=this._pos=i.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},_onMove:function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=i.mousePos(this._el,t),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},_onUp:function(t){if(this.isActive()){this._active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=function(){this._fireEvent("moveend",t)}.bind(this),n=this._inertia;if(n.length<2)return void e();var r=n[n.length-1],i=n[0],o=r[1].sub(i[1]),c=(r[0]-i[0])/1e3;if(0===c||r[1].equals(i[1]))return void e();var f=o.mult(a/c),h=f.mag();h>u&&(h=u,f._unit()._mult(h));var p=h/(l*a),d=f.mult(-p/2);this._map.panBy(d,{duration:1e3*p,easing:s,noMoveStart:!0},{originalEvent:t})}},_onMouseUp:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onMouseUp))},_onTouchEnd:function(t){this._ignoreEvent(t)||(this._onUp(t),document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onTouchEnd))},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragRotate&&e.dragRotate.isActive())return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var n=1,r=0;return"mousemove"===t.type?t.buttons&0===n:t.button!==r},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()}}},{"../../util/dom":131,"../../util/util":146}],119:[function(t,e,n){"use strict";function r(t,e){this._map=t,this._el=t.getCanvasContainer(),this._bearingSnap=e.bearingSnap,a.bindHandlers(this)}var i=t("../../util/dom"),o=t("point-geometry"),a=t("../../util/util");e.exports=r;var s=.25,u=a.bezier(0,0,s,1),l=180,c=720;r.prototype={_enabled:!1,_active:!1,isEnabled:function(){return this._enabled},isActive:function(){return this._active},enable:function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},_onDown:function(t){if(!this._ignoreEvent(t)&&!this.isActive()){document.addEventListener("mousemove",this._onMove),document.addEventListener("mouseup",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=i.mousePos(this._el,t),this._center=this._map.transform.centerPoint;var e=this._startPos.sub(this._center),n=e.mag();n<200&&(this._center=this._startPos.add(new o((-200),0)._rotate(e.angle()))),t.preventDefault()}},_onMove:function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t));var e=this._map;e.stop();var n=this._pos,r=i.mousePos(this._el,t),o=this._center,a=n.sub(o).angleWith(r.sub(o))/Math.PI*180,s=e.getBearing()-a,u=this._inertia,l=u[u.length-1];this._drainInertiaBuffer(),u.push([Date.now(),e._normalizeBearing(s,l[1])]),e.transform.bearing=s,this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=r}},_onUp:function(t){if(!this._ignoreEvent(t)&&(document.removeEventListener("mousemove",this._onMove),document.removeEventListener("mouseup",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var e=this._map,n=e.getBearing(),r=this._inertia,i=function(){Math.abs(n)<this._bearingSnap?e.resetNorth({noMoveStart:!0},{originalEvent:t}):this._fireEvent("moveend",t)}.bind(this);if(r.length<2)return void i();var o=r[0],a=r[r.length-1],f=r[r.length-2],h=e._normalizeBearing(n,f[1]),p=a[1]-o[1],d=p<0?-1:1,m=(a[0]-o[0])/1e3;if(0===p||0===m)return void i();var v=Math.abs(p*(s/m));v>l&&(v=l);var y=v/(c*s),g=d*v*(y/2);h+=g,Math.abs(e._normalizeBearing(h,0))<this._bearingSnap&&(h=e._normalizeBearing(0,h)),e.rotateTo(h,{duration:1e3*y,easing:u,noMoveStart:!0},{originalEvent:t})}},_fireEvent:function(t,e){return this._map.fire(t,{originalEvent:e})},_ignoreEvent:function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragPan&&e.dragPan.isActive())return!0;if(t.touches)return t.touches.length>1;var n=t.ctrlKey?1:2,r=t.ctrlKey?0:2;return"mousemove"===t.type?t.buttons&0===n:t.button!==r},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()}}},{"../../util/dom":131,"../../util/util":146,"point-geometry":203}],120:[function(t,e,n){"use strict";function r(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)}e.exports=r;var i=80,o=2,a=5;r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=this._map,n={originalEvent:t};if(!e.isEasing())switch(t.keyCode){case 61:case 107:case 171:case 187:e.zoomTo(Math.round(e.getZoom())+(t.shiftKey?2:1),n);break;case 189:case 109:case 173:e.zoomTo(Math.round(e.getZoom())-(t.shiftKey?2:1),n);break;case 37:t.shiftKey?e.easeTo({bearing:e.getBearing()-o},n):(t.preventDefault(),e.panBy([-i,0],n));break;case 39:t.shiftKey?e.easeTo({bearing:e.getBearing()+o},n):(t.preventDefault(),e.panBy([i,0],n));break;case 38:t.shiftKey?e.easeTo({pitch:e.getPitch()+a},n):(t.preventDefault(),e.panBy([0,-i],n));break;case 40:t.shiftKey?e.easeTo({pitch:Math.max(e.getPitch()-a,0)},n):(t.preventDefault(),e.panBy([0,i],n))}}}}},{}],121:[function(t,e,n){"use strict";function r(t){this._map=t,this._el=t.getCanvasContainer(),a.bindHandlers(this)}var i=t("../../util/dom"),o=t("../../util/browser"),a=t("../../util/util");e.exports=r;var s="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",u=s.indexOf("firefox")!==-1,l=s.indexOf("safari")!==-1&&s.indexOf("chrom")===-1;r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},_onWheel:function(t){var e;"wheel"===t.type?(e=t.deltaY,u&&t.deltaMode===window.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===window.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,l&&(e/=3));var n=o.now(),r=n-(this._time||0);this._pos=i.mousePos(this._el,t),this._time=n,0!==e&&e%4.000244140625===0?(this._type="wheel",e=Math.floor(e/4)):0!==e&&Math.abs(e)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(r*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},_onTimeout:function(){this._type="wheel",this._zoom(-this._lastValue)},_zoom:function(t,e){if(0!==t){var n=this._map,r=2/(1+Math.exp(-Math.abs(t/100)));t<0&&0!==r&&(r=1/r);var i=n.ease?n.ease.to:n.transform.scale,o=n.transform.scaleZoom(i*r);n.zoomTo(o,{duration:0,around:n.unproject(this._pos),delayEndEvents:200},{originalEvent:e})}}}},{"../../util/browser":129,"../../util/dom":131,"../../util/util":146}],122:[function(t,e,n){"use strict";function r(t){this._map=t,this._el=t.getCanvasContainer(),o.bindHandlers(this)}var i=t("../../util/dom"),o=t("../../util/util");e.exports=r;var a=.15,s=o.bezier(0,0,a,1),u=12,l=2.5,c=.15,f=4;r.prototype={_enabled:!1,isEnabled:function(){return this._enabled},enable:function(){this.isEnabled()||(this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0)},disable:function(){this.isEnabled()&&(this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},disableRotation:function(){this._rotationDisabled=!0},enableRotation:function(){this._rotationDisabled=!1},_onStart:function(t){if(2===t.touches.length){var e=i.mousePos(this._el,t.touches[0]),n=i.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],document.addEventListener("touchmove",this._onMove,!1),document.addEventListener("touchend",this._onEnd,!1)}},_onMove:function(t){if(2===t.touches.length){var e=i.mousePos(this._el,t.touches[0]),n=i.mousePos(this._el,t.touches[1]),r=e.add(n).div(2),o=e.sub(n),a=o.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var l={duration:0,around:u.unproject(r)};"rotate"===this._gestureIntent&&(l.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(l.zoom=u.transform.scaleZoom(this._startScale*a)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),a,r]),u.easeTo(l,{originalEvent:t})}else{var h=Math.abs(1-a)>c,p=Math.abs(s)>f;p?this._gestureIntent="rotate":h&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}t.preventDefault()}},_onEnd:function(t){document.removeEventListener("touchmove",this._onMove),document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,n=this._map;if(e.length<2)return void n.snapToNorth({},{originalEvent:t});var r=e[e.length-1],i=e[0],o=n.transform.scaleZoom(this._startScale*r[1]),c=n.transform.scaleZoom(this._startScale*i[1]),f=o-c,h=(r[0]-i[0])/1e3,p=r[2];if(0===h||o===c)return void n.snapToNorth({},{originalEvent:t});var d=f*a/h;Math.abs(d)>l&&(d=d>0?l:-l);var m=1e3*Math.abs(d/(u*a)),v=o+d*m/2e3;v<0&&(v=0),n.easeTo({zoom:v,duration:m,easing:s,around:n.unproject(p)},{originalEvent:t})},_drainInertiaBuffer:function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>2&&e-t[0][0]>n;)t.shift()}}},{"../../util/dom":131,"../../util/util":146}],123:[function(t,e,n){"use strict";function r(){i.bindAll(["_onHashChange","_updateHash"],this)}e.exports=r;var i=t("../util/util");r.prototype={addTo:function(t){return this._map=t,window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},remove:function(){return window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},_onHashChange:function(){var t=location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0)}),!0)},_updateHash:function(){var t=this._map.getCenter(),e=this._map.getZoom(),n=this._map.getBearing(),r=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),i="#"+Math.round(100*e)/100+"/"+t.lat.toFixed(r)+"/"+t.lng.toFixed(r)+(n?"/"+Math.round(10*n)/10:"");window.history.replaceState("","",i)}}},{"../util/util":146}],124:[function(t,e,n){"use strict";function r(t){t.parentNode&&t.parentNode.removeChild(t)}var i=t("../util/canvas"),o=t("../util/util"),a=t("../util/browser"),s=t("../util/browser").window,u=t("../util/evented"),l=t("../util/dom"),c=t("../style/style"),f=t("../style/animation_loop"),h=t("../render/painter"),p=t("../geo/transform"),d=t("./hash"),m=t("./bind_handlers"),v=t("./camera"),y=t("../geo/lng_lat"),g=t("../geo/lng_lat_bounds"),b=t("point-geometry"),_=t("./control/attribution"),x=0,w=20,M={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:x,maxZoom:w,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0},E=e.exports=function(t){t=o.extend({},M,t),this._interactive=t.interactive,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,"string"==typeof t.container?this._container=document.getElementById(t.container):this._container=t.container,this.animationLoop=new f,this.transform=new p(t.minZoom,t.maxZoom),t.maxBounds&&this.setMaxBounds(t.maxBounds),o.bindAll(["_forwardStyleEvent","_forwardSourceEvent","_forwardLayerEvent","_forwardTileEvent","_onStyleLoad","_onStyleChange","_onSourceAdd","_onSourceRemove","_onSourceUpdate","_onWindowOnline","_onWindowResize","_update","_render"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){this.animationLoop.set(300),this._rerender()}.bind(this)),"undefined"!=typeof s&&(s.addEventListener("online",this._onWindowOnline,!1),s.addEventListener("resize",this._onWindowResize,!1)),m(this,t),this._hash=t.hash&&(new d).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this.stacks={},this._classes=[],this.resize(),t.classes&&this.setClasses(t.classes),t.style&&this.setStyle(t.style),t.attributionControl&&this.addControl(new _(t.attributionControl));var e=this.fire.bind(this,"error");this.on("style.error",e),this.on("source.error",e),this.on("tile.error",e),this.on("layer.error",e)};o.extend(E.prototype,u),o.extend(E.prototype,v.prototype),o.extend(E.prototype,{addControl:function(t){return t.addTo(this),this},addClass:function(t,e){return this._classes.indexOf(t)>=0||""===t?this:(this._classes.push(t),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},removeClass:function(t,e){var n=this._classes.indexOf(t);return n<0||""===t?this:(this._classes.splice(n,1),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},setClasses:function(t,e){for(var n={},r=0;r<t.length;r++)""!==t[r]&&(n[t[r]]=!0);return this._classes=Object.keys(n),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0)},hasClass:function(t){return this._classes.indexOf(t)>=0},getClasses:function(){return this._classes},resize:function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),this._canvas.resize(t,e),this.transform.resize(t,e),this.painter.resize(t,e),this.fire("movestart").fire("move").fire("resize").fire("moveend")},getBounds:function(){var t=new g(this.transform.pointLocation(new b(0,0)),this.transform.pointLocation(this.transform.size));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new b(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new b(0,this.transform.size.y)))),t},setMaxBounds:function(t){if(t){var e=g.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},setMinZoom:function(t){if(t=null===t||void 0===t?x:t,t>=x&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between "+x+" and the current maxZoom, inclusive")},setMaxZoom:function(t){if(t=null===t||void 0===t?w:t,t>=this.transform.minZoom&&t<=w)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be between the current minZoom and "+w+", inclusive")},project:function(t){return this.transform.locationPoint(y.convert(t))},unproject:function(t){return this.transform.pointLocation(b.convert(t))},queryRenderedFeatures:function(){function t(t){return t instanceof b||Array.isArray(t)}var e,n={};return 2===arguments.length?(e=arguments[0],n=arguments[1]):1===arguments.length&&t(arguments[0])?e=arguments[0]:1===arguments.length&&(n=arguments[0]),this.style.queryRenderedFeatures(this._makeQueryGeometry(e),n,this.transform.zoom,this.transform.angle)},_makeQueryGeometry:function(t){void 0===t&&(t=[b.convert([0,0]),b.convert([this.transform.width,this.transform.height])]);var e,n=t instanceof b||"number"==typeof t[0];if(n){var r=b.convert(t);e=[r]}else{var i=[b.convert(t[0]),b.convert(t[1])];e=[i[0],new b(i[1].x,i[0].y),i[1],new b(i[0].x,i[1].y),i[0]]}return e=e.map(function(t){return this.transform.pointCoordinate(t)}.bind(this))},querySourceFeatures:function(t,e){return this.style.querySourceFeatures(t,e)},setStyle:function(t){return this.style&&(this.style.off("load",this._onStyleLoad).off("error",this._forwardStyleEvent).off("change",this._onStyleChange).off("source.add",this._onSourceAdd).off("source.remove",this._onSourceRemove).off("source.load",this._onSourceUpdate).off("source.error",this._forwardSourceEvent).off("source.change",this._onSourceUpdate).off("layer.add",this._forwardLayerEvent).off("layer.remove",this._forwardLayerEvent).off("layer.error",this._forwardLayerEvent).off("tile.add",this._forwardTileEvent).off("tile.remove",this._forwardTileEvent).off("tile.load",this._update).off("tile.error",this._forwardTileEvent).off("tile.stats",this._forwardTileEvent)._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),t?(t instanceof c?this.style=t:this.style=new c(t,this.animationLoop),this.style.on("load",this._onStyleLoad).on("error",this._forwardStyleEvent).on("change",this._onStyleChange).on("source.add",this._onSourceAdd).on("source.remove",this._onSourceRemove).on("source.load",this._onSourceUpdate).on("source.error",this._forwardSourceEvent).on("source.change",this._onSourceUpdate).on("layer.add",this._forwardLayerEvent).on("layer.remove",this._forwardLayerEvent).on("layer.error",this._forwardLayerEvent).on("tile.add",this._forwardTileEvent).on("tile.remove",this._forwardTileEvent).on("tile.load",this._update).on("tile.error",this._forwardTileEvent).on("tile.stats",this._forwardTileEvent),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},getStyle:function(){if(this.style)return this.style.serialize()},addSource:function(t,e){return this.style.addSource(t,e),this._update(!0),this},addSourceType:function(t,e,n){return this.style.addSourceType(t,e,n)},removeSource:function(t){return this.style.removeSource(t),this._update(!0),this},getSource:function(t){return this.style.getSource(t)},addLayer:function(t,e){return this.style.addLayer(t,e),this._update(!0),this},removeLayer:function(t){return this.style.removeLayer(t),this._update(!0),this},getLayer:function(t){return this.style.getLayer(t)},setFilter:function(t,e){return this.style.setFilter(t,e),this._update(!0),this},setLayerZoomRange:function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},getFilter:function(t){return this.style.getFilter(t)},setPaintProperty:function(t,e,n,r){return this.style.setPaintProperty(t,e,n,r),this._update(!0),this},getPaintProperty:function(t,e,n){return this.style.getPaintProperty(t,e,n)},setLayoutProperty:function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},getLayoutProperty:function(t,e){return this.style.getLayoutProperty(t,e)},getContainer:function(){return this._container},getCanvasContainer:function(){return this._canvasContainer},getCanvas:function(){return this._canvas.getElement()},_setupContainer:function(){var t=this._container;t.classList.add("mapboxgl-map");var e=this._canvasContainer=l.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=new i(this,e);var n=this._controlContainer=l.create("div","mapboxgl-control-container",t),r=this._controlCorners={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){r[t]=l.create("div","mapboxgl-ctrl-"+t,n)})},_setupPainter:function(){var t=this._canvas.getWebGLContext({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer});return t?void(this.painter=new h(t,this.transform)):void this.fire("error",{error:new Error("Failed to initialize WebGL")})},_contextLost:function(t){t.preventDefault(),this._frameId&&a.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:t})},_contextRestored:function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},loaded:function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},_update:function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},_render:function(){try{this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{debug:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,vertices:this.vertices,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender()}catch(t){this.fire("error",{error:t})}return this},remove:function(){this._hash&&this._hash.remove(),a.cancelFrame(this._frameId),this.setStyle(null),"undefined"!=typeof s&&s.removeEventListener("resize",this._onWindowResize,!1);var t=this.painter.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),r(this._canvasContainer),r(this._controlContainer),this._container.classList.remove("mapboxgl-map")},_rerender:function(){this.style&&!this._frameId&&(this._frameId=a.frame(this._render))},_forwardStyleEvent:function(t){this.fire("style."+t.type,o.extend({style:t.target},t))},_forwardSourceEvent:function(t){this.fire(t.type,o.extend({style:t.target},t))},_forwardLayerEvent:function(t){this.fire(t.type,o.extend({style:t.target},t))},_forwardTileEvent:function(t){this.fire(t.type,o.extend({style:t.target},t))},_onStyleLoad:function(t){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1}),this._forwardStyleEvent(t)},_onStyleChange:function(t){this._update(!0),this._forwardStyleEvent(t)},_onSourceAdd:function(t){var e=t.source;e.onAdd&&e.onAdd(this),this._forwardSourceEvent(t)},_onSourceRemove:function(t){var e=t.source;e.onRemove&&e.onRemove(this),this._forwardSourceEvent(t)},_onSourceUpdate:function(t){this._update(),this._forwardSourceEvent(t)},_onWindowOnline:function(){this._update()},_onWindowResize:function(){this._trackResize&&this.stop().resize()._update()}}),o.extendAll(E.prototype,{_showTileBoundaries:!1,get showTileBoundaries(){return this._showTileBoundaries},set showTileBoundaries(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},_showCollisionBoxes:!1,get showCollisionBoxes(){return this._showCollisionBoxes},set showCollisionBoxes(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,this.style._redoPlacement())},_showOverdrawInspector:!1,get showOverdrawInspector(){return this._showOverdrawInspector},set showOverdrawInspector(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},_repaint:!1,get repaint(){return this._repaint},set repaint(t){this._repaint=t,this._update()},_vertices:!1,get vertices(){return this._vertices},set vertices(t){this._vertices=t,this._update()}})},{"../geo/lng_lat":41,"../geo/lng_lat_bounds":42,"../geo/transform":43,"../render/painter":57,"../style/animation_loop":77,"../style/style":80,"../util/browser":129,"../util/canvas":130,"../util/dom":131,"../util/evented":137,"../util/util":146,"./bind_handlers":109,"./camera":110,"./control/attribution":111,"./hash":123,"point-geometry":203}],125:[function(t,e,n){"use strict";function r(t,e){t||(t=i.create("div")),t.classList.add("mapboxgl-marker"),this._el=t,this._offset=s.convert(e&&e.offset||[0,0]),this._update=this._update.bind(this)}e.exports=r;var i=t("../util/dom"),o=t("../util/util"),a=t("../geo/lng_lat"),s=t("point-geometry"),u=t("./popup");r.prototype={addTo:function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._el),t.on("move",this._update),this._update(),this},remove:function(){this._map&&(this._map.off("move",this._update),this._map=null);var t=this._el.parentNode;return t&&t.removeChild(this._el),this._popup&&this._closePopup(),this},getLngLat:function(){return this._lngLat},setLngLat:function(t){return this._lngLat=a.convert(t),this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},getElement:function(){return this._el},setPopup:function(t){return null==t?(this._closePopup(),delete this._popupHandlersAdded,delete this._popup):t instanceof u?this._popup=t:o.warnOnce("Marker.setPopup only accepts an instance of the Popup class as an argument. If no argument is provided, the popup is unset from this Marker instance"),this._popup&&this._lngLat&&this._popup.setLngLat(this._lngLat),this._popupHandlersAdded||(this.getElement().addEventListener("click",this._openPopup.bind(this)),this._popupHandlersAdded=!0),this},getPopup:function(){return this._popup},togglePopup:function(){this._popup&&(this._popup._map?this._closePopup():this._openPopup())},_openPopup:function(t){if(t.stopPropagation(),this._popup&&this._map)return this._popup._map||this._popup.addTo(this._map),this},_closePopup:function(){return this._popup&&this._popup.remove(),this},_update:function(){if(this._map){var t=this._map.project(this._lngLat)._add(this._offset);i.setTransform(this._el,"translate("+t.x+"px,"+t.y+"px)")}}}},{"../geo/lng_lat":41,"../util/dom":131,"../util/util":146,"./popup":126,"point-geometry":203}],126:[function(t,e,n){"use strict";function r(t){a.setOptions(this,t),a.bindAll(["_update","_onClickClose"],this)}function i(t){if(t){if("number"==typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new c(0,t),"top-left":new c(e,e),"top-right":new c((-e),e),bottom:new c(0,(-t)),"bottom-left":new c(e,(-e)),"bottom-right":new c((-e),(-e)),left:new c(t,0),right:new c((-t),0)}}if(o(t)){var n=c.convert(t);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:c.convert(t.top),"top-left":c.convert(t["top-left"]),"top-right":c.convert(t["top-right"]),bottom:c.convert(t.bottom),"bottom-left":c.convert(t["bottom-left"]),"bottom-right":c.convert(t["bottom-right"]),left:c.convert(t.left),right:c.convert(t.right)}}return i(new c(0,0))}function o(t){return t instanceof c||Array.isArray(t)}e.exports=r;var a=t("../util/util"),s=t("../util/evented"),u=t("../util/dom"),l=t("../geo/lng_lat"),c=t("point-geometry");r.prototype=a.inherit(s,{options:{closeButton:!0,closeOnClick:!0},addTo:function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},remove:function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},getLngLat:function(){return this._lngLat},setLngLat:function(t){return this._lngLat=l.convert(t),this._update(),this},setText:function(t){return this.setDOMContent(document.createTextNode(t))},setHTML:function(t){var e,n=document.createDocumentFragment(),r=document.createElement("body");for(r.innerHTML=t;;){if(e=r.firstChild,!e)break;n.appendChild(e)}return this.setDOMContent(n)},setDOMContent:function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},_createContent:function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=u.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=u.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},_update:function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=u.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=u.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content));var t=this.options.anchor,e=i(this.options.offset),n=this._map.project(this._lngLat).round();if(!t){var r=this._container.offsetWidth,o=this._container.offsetHeight;t=n.y+e.bottom[1]-o<0?["top"]:n.y+e.top[1]+o>this._map.transform.height?["bottom"]:[],n.x<r/2?t.push("left"):n.x>this._map.transform.width-r/2&&t.push("right"),t=0===t.length?"bottom":t.join("-")}var a=n.add(e[t]),s={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},l=this._container.classList;for(var c in s)l.remove("mapboxgl-popup-anchor-"+c);l.add("mapboxgl-popup-anchor-"+t),u.setTransform(this._container,s[t]+" translate("+a.x+"px,"+a.y+"px)")}},_onClickClose:function(){this.remove()}})},{
"../geo/lng_lat":41,"../util/dom":131,"../util/evented":137,"../util/util":146,"point-geometry":203}],127:[function(t,e,n){"use strict";function r(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)}e.exports=r,r.prototype.receive=function(t){function e(t,e,n){this.postMessage({mapId:this.mapId,type:"<response>",id:String(i),error:t?String(t):null,data:e},n)}var n,r=t.data,i=r.id;if("<response>"===r.type)n=this.callbacks[r.id],delete this.callbacks[r.id],n&&n(r.error||null,r.data);else if("undefined"!=typeof r.id&&this.parent[r.type])this.parent[r.type](r.mapId,r.data,e.bind(this));else if("undefined"!=typeof r.id&&this.parent.getWorkerSource){var o=r.type.split("."),a=this.parent.getWorkerSource(r.mapId,o[0]);a[o[1]](r.data,e.bind(this))}else this.parent[r.type](r.data)},r.prototype.send=function(t,e,n,r){var i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n),this.postMessage({mapId:this.mapId,type:t,id:String(i),data:e},r)},r.prototype.postMessage=function(t,e){this.target.postMessage(t,e)}},{}],128:[function(t,e,n){"use strict";function r(t){var e=document.createElement("a");return e.href=t,e.protocol===document.location.protocol&&e.host===document.location.host}n.getJSON=function(t,e){var n=new XMLHttpRequest;return n.open("GET",t,!0),n.setRequestHeader("Accept","application/json"),n.onerror=function(t){e(t)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(r){return e(r)}e(null,t)}else e(new Error(n.statusText))},n.send(),n},n.getArrayBuffer=function(t,e){var n=new XMLHttpRequest;return n.open("GET",t,!0),n.responseType="arraybuffer",n.onerror=function(t){e(t)},n.onload=function(){n.status>=200&&n.status<300&&n.response?e(null,n.response):e(new Error(n.statusText))},n.send(),n},n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)return e(t);var r=new Image;r.onload=function(){e(null,r),(window.URL||window.webkitURL).revokeObjectURL(r.src)};var i=new Blob([new Uint8Array(n)],{type:"image/png"});return r.src=(window.URL||window.webkitURL).createObjectURL(i),r.getData=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return t.width=r.width,t.height=r.height,e.drawImage(r,0,0),e.getImageData(0,0,r.width,r.height).data},r})},n.getVideo=function(t,e){var n=document.createElement("video");n.onloadstart=function(){e(null,n)};for(var i=0;i<t.length;i++){var o=document.createElement("source");r(t[i])||(n.crossOrigin="Anonymous"),o.src=t[i],n.appendChild(o)}return n.getData=function(){return n},n}},{}],129:[function(t,e,n){"use strict";n.window=window,e.exports.now=function(){return window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date)}();var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;n.frame=function(t){return r(t)};var i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;n.cancelFrame=function(t){i(t)},n.timed=function(t,r,i){function o(u){a||(u=e.exports.now(),u>=s+r?t.call(i,1):(t.call(i,(u-s)/r),n.frame(o)))}if(!r)return t.call(i,1),null;var a=!1,s=e.exports.now();return n.frame(o),function(){a=!0}},n.supported=t("mapbox-gl-supported"),n.hardwareConcurrency=navigator.hardwareConcurrency||4,Object.defineProperty(n,"devicePixelRatio",{get:function(){return window.devicePixelRatio}}),n.supportsWebp=!1;var o=document.createElement("img");o.onload=function(){n.supportsWebp=!0},o.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=",n.supportsGeolocation=!!navigator.geolocation},{"mapbox-gl-supported":199}],130:[function(t,e,n){"use strict";function r(t,e){this.canvas=document.createElement("canvas"),t&&e&&(this.canvas.style.position="absolute",this.canvas.classList.add("mapboxgl-canvas"),this.canvas.addEventListener("webglcontextlost",t._contextLost.bind(t),!1),this.canvas.addEventListener("webglcontextrestored",t._contextRestored.bind(t),!1),this.canvas.setAttribute("tabindex",0),e.appendChild(this.canvas))}var i=t("../util"),o=t("mapbox-gl-supported");e.exports=r,r.prototype.resize=function(t,e){var n=window.devicePixelRatio||1;this.canvas.width=n*t,this.canvas.height=n*e,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px"},r.prototype.getWebGLContext=function(t){return t=i.extend({},t,o.webGLContextAttributes),this.canvas.getContext("webgl",t)||this.canvas.getContext("experimental-webgl",t)},r.prototype.getElement=function(){return this.canvas}},{"../util":146,"mapbox-gl-supported":199}],131:[function(t,e,n){"use strict";function r(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e]}function i(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",i,!0)}var o=t("point-geometry");n.create=function(t,e,n){var r=document.createElement(t);return e&&(r.className=e),n&&n.appendChild(r),r};var a,s=document.documentElement.style,u=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){u&&(a=s[u],s[u]="none")},n.enableDrag=function(){u&&(s[u]=a)};var l=r(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[l]=e},n.suppressClick=function(){window.addEventListener("click",i,!0),window.setTimeout(function(){window.removeEventListener("click",i,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new o(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},n.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),r=[],i=0;i<e.touches.length;i++)r.push(new o(e.touches[i].clientX-n.left-t.clientLeft,e.touches[i].clientY-n.top-t.clientTop));return r}},{"point-geometry":203}],132:[function(t,e,n){"use strict";var r=t("webworkify");e.exports=function(){return new r(t("../../source/worker"))}},{"../../source/worker":75,webworkify:221}],133:[function(t,e,n){"use strict";function r(t,e){return e.area-t.area}var i=t("quickselect"),o=t("./util").calculateSignedArea;e.exports=function(t,e){var n=t.length;if(n<=1)return[t];for(var a,s,u=[],l=0;l<n;l++){var c=o(t[l]);0!==c&&(t[l].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&u.push(a),a=[t[l]]):a.push(t[l]))}if(a&&u.push(a),e>1)for(var f=0;f<u.length;f++)u[f].length<=e||(i(u[f],e,1,u[f].length-1,r),u[f]=u[f].slice(0,e));return u}},{"./util":146,quickselect:204}],134:[function(t,e,n){"use strict";e.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0}},{}],135:[function(t,e,n){"use strict";function r(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}}var i=t("assert");e.exports=r,r.prototype.encode=function(t){return i(t in this._stringToNumber),this._stringToNumber[t]},r.prototype.decode=function(t){return i(t<this._numberToString.length),this._numberToString[t]}},{assert:1}],136:[function(t,e,n){"use strict";function r(t,e){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var n=this.workerPool.acquire(this.id),r=0;r<n.length;r++){var a=n[r],s=new o(a,e,this.id);s.name="Worker "+r,this.actors.push(s)}}var i=t("./util"),o=t("./actor");e.exports=r,r.prototype={broadcast:function(t,e,n){n=n||function(){},i.asyncAll(this.actors,function(n,r){n.send(t,e,r)},n)},send:function(t,e,n,r,i){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n,i),r},remove:function(){this.workerPool.release(this.id),this.actors=[]}}},{"./actor":127,"./util":146}],137:[function(t,e,n){"use strict";var r=t("./util"),i={on:function(t,e){return this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e),this},off:function(t,e){if(!t)return delete this._events,this;if(!this.listens(t))return this;if(e){var n=this._events[t].indexOf(e);n>=0&&this._events[t].splice(n,1),this._events[t].length||delete this._events[t]}else delete this._events[t];return this},once:function(t,e){var n=function(r){this.off(t,n),e.call(this,r)}.bind(this);return this.on(t,n),this},fire:function(t,e){if(!this.listens(t))return r.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event"),this;e=r.extend({},e),r.extend(e,{type:t,target:this});for(var n=this._events[t].slice(),i=0;i<n.length;i++)n[i].call(this,e);return this},listens:function(t){return!(!this._events||!this._events[t])}};e.exports=i},{"./util":146}],138:[function(t,e,n){"use strict";function r(t,e){return e.max-t.max}function i(t,e,n,r){this.p=new u(t,e),this.h=n,this.d=o(this.p,r),this.max=this.d+this.h*Math.SQRT2}function o(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,u=s-1;a<s;u=a++){var c=o[a],f=o[u];c.y>t.y!=f.y>t.y&&t.x<(f.x-c.x)*(t.y-c.y)/(f.y-c.y)+c.x&&(n=!n),r=Math.min(r,l(t,c,f))}return(n?1:-1)*Math.sqrt(r)}function a(t){for(var e=0,n=0,r=0,o=t[0],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u],f=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*f,r+=(l.y+c.y)*f,e+=3*f}return new i(n/e,r/e,0,t)}var s=t("tinyqueue"),u=t("point-geometry"),l=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,n){e=e||1;for(var o,u,l,c,f=t[0],h=0;h<f.length;h++){var p=f[h];(!h||p.x<o)&&(o=p.x),(!h||p.y<u)&&(u=p.y),(!h||p.x>l)&&(l=p.x),(!h||p.y>c)&&(c=p.y)}for(var d=l-o,m=c-u,v=Math.min(d,m),y=v/2,g=new s(null,r),b=o;b<l;b+=v)for(var _=u;_<c;_+=v)g.push(new i(b+y,_+y,y,t));for(var x=a(t),w=g.length;g.length;){var M=g.pop();M.d>x.d&&(x=M,n&&console.log("found best %d after %d probes",Math.round(1e4*M.d)/1e4,w)),M.max-x.d<=e||(y=M.h/2,g.push(new i(M.p.x-y,M.p.y-y,y,t)),g.push(new i(M.p.x+y,M.p.y-y,y,t)),g.push(new i(M.p.x-y,M.p.y+y,y,t)),g.push(new i(M.p.x+y,M.p.y+y,y,t)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+x.d)),x.p}},{"./intersection_tests":141,"point-geometry":203,tinyqueue:212}],139:[function(t,e,n){"use strict";function r(t,e){this.stacks=t.readFields(i,[],e)}function i(t,e,n){if(1===t){var r=n.readMessage(o,{glyphs:{}});e.push(r)}}function o(t,e,n){if(1===t)e.name=n.readString();else if(2===t)e.range=n.readString();else if(3===t){var r=n.readMessage(a,{});e.glyphs[r.id]=r}}function a(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}e.exports=r},{}],140:[function(t,e,n){"use strict";function r(t,e,n){return t*(1-n)+e*n}e.exports=r,r.number=r,r.vec2=function(t,e,n){return[r(t[0],e[0],n),r(t[1],e[1],n)]},r.color=function(t,e,n){return[r(t[0],e[0],n),r(t[1],e[1],n),r(t[2],e[2],n),r(t[3],e[3],n)]},r.array=function(t,e,n){return t.map(function(t,i){return r(t,e[i],n)})}},{}],141:[function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var u=a[s];if(h(i,u))return!0;if(l(u,i,n))return!0}return!1}function i(t,e){if(1===t.length&&1===t[0].length)return f(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(f(t,r[i]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],u=0;u<a.length;u++)if(f(e,a[u]))return!0;for(var l=0;l<e.length;l++)if(s(a,e[l]))return!0}return!1}function o(t,e,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var s=t[o];if(s.length>=3)for(var u=0;u<i.length;u++)if(h(s,i[u]))return!0;if(a(s,i,n))return!0}return!1}function a(t,e,n){if(t.length>1){if(s(t,e))return!0;for(var r=0;r<e.length;r++)if(l(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(l(t[i],e,n))return!0;return!1}function s(t,e){for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++){var a=e[o],s=e[o+1];if(u(r,i,a,s))return!0}return!1}function u(t,e,n,r){return p(t,n,r)!==p(e,n,r)&&p(t,e,n)!==p(t,e,r)}function l(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++){var o=e[i-1],a=e[i];if(c(t,o,a)<r)return!0}return!1}function c(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i<0?t.distSqr(e):i>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(i)._add(e))}function f(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++){n=t[a];for(var s=0,u=n.length-1;s<n.length;u=s++)r=n[s],i=n[u],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function h(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}var p=t("./util").isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:r,multiPolygonIntersectsMultiPolygon:i,multiPolygonIntersectsBufferedMultiLine:o,distToSegmentSquared:c}},{"./util":146}],142:[function(t,e,n){"use strict";function r(t,e){this.max=t,this.onRemove=e,this.reset()}e.exports=r,r.prototype.reset=function(){for(var t in this.data)this.onRemove(this.data[t]);return this.data={},this.order=[],this},r.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(t){return t in this.data},r.prototype.keys=function(){return this.order},r.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},r.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this.get(this.order[0]);e&&this.onRemove(e)}return this}},{}],143:[function(t,e,n){"use strict";function r(t,e,n){if(n=n||a.ACCESS_TOKEN,!n&&a.REQUIRE_ACCESS_TOKEN)throw new Error("An API access token is required to use Mapbox GL. See https://www.mapbox.com/developers/api/#access-tokens");if(t=t.replace(/^mapbox:\/\//,a.API_URL+e),t+=t.indexOf("?")!==-1?"&access_token=":"?access_token=",a.REQUIRE_ACCESS_TOKEN){if("s"===n[0])throw new Error("Use a public access token (pk.*) with Mapbox GL JS, not a secret access token (sk.*). See https://www.mapbox.com/developers/api/#access-tokens");t+=n}return t}function i(t){return t?"?"+t:""}function o(t){return t.access_token&&"tk."===t.access_token.slice(0,3)?l.extend({},t,{access_token:a.ACCESS_TOKEN}):t}var a=t("./config"),s=t("./browser"),u=t("url"),l=t("./util");e.exports.normalizeStyleURL=function(t,e){var n=u.parse(t);return"mapbox:"!==n.protocol?t:r("mapbox:/"+n.pathname+i(n.query),"/styles/v1/",e)},e.exports.normalizeSourceURL=function(t,e){var n=u.parse(t);return"mapbox:"!==n.protocol?t:r(t+".json","/v4/",e)+"&secure"},e.exports.normalizeGlyphsURL=function(t,e){var n=u.parse(t);if("mapbox:"!==n.protocol)return t;var o=n.pathname.split("/")[1];return r("mapbox://"+o+"/{fontstack}/{range}.pbf"+i(n.query),"/fonts/v1/",e)},e.exports.normalizeSpriteURL=function(t,e,n,o){var a=u.parse(t);return"mapbox:"!==a.protocol?(a.pathname+=e+n,u.format(a)):r("mapbox:/"+a.pathname+"/sprite"+e+n+i(a.query),"/styles/v1/",o)},e.exports.normalizeTileURL=function(t,e,n){var r=u.parse(t,!0);if(!e)return t;var i=u.parse(e);if("mapbox:"!==i.protocol)return t;var a=s.supportsWebp?".webp":"$1",l=s.devicePixelRatio>=2||512===n?"@2x":"";return u.format({protocol:r.protocol,hostname:r.hostname,pathname:r.pathname.replace(/(\.(?:png|jpg)\d*)/,l+a),query:o(r.query)})}},{"./browser":129,"./config":134,"./util":146,url:8}],144:[function(t,e,n){"use strict";function r(t){function e(){h.apply(this,arguments)}function n(){p.apply(this,arguments),this.members=e.prototype.members}var r=JSON.stringify(t);if(v[r])return v[r];void 0===t.alignment&&(t.alignment=1),e.prototype=Object.create(h.prototype);var s=0,l=0,y=["Uint8"];return e.prototype.members=t.members.map(function(n){n={name:n.name,type:n.type,components:n.components||1},d(n.name.length),d(n.type in m),y.indexOf(n.type)<0&&y.push(n.type);var r=a(n.type);l=Math.max(l,r),n.offset=s=o(s,Math.max(t.alignment,r));for(var i=0;i<n.components;i++)Object.defineProperty(e.prototype,n.name+(1===n.components?"":i),{get:c(n,i),set:f(n,i)});return s+=r*n.components,n}),e.prototype.alignment=t.alignment,e.prototype.size=o(s,Math.max(l,t.alignment)),n.serialize=i,n.prototype=Object.create(p.prototype),n.prototype.StructType=e,n.prototype.bytesPerElement=e.prototype.size,n.prototype.emplaceBack=u(e.prototype.members,e.prototype.size),n.prototype._usedTypes=y,v[r]=n,n}function i(){return{members:this.prototype.StructType.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}}function o(t,e){return Math.ceil(t/e)*e}function a(t){return m[t].BYTES_PER_ELEMENT}function s(t){return t.toLowerCase()}function u(t,e){for(var n=[],r=[],i="var i = this.length;\nthis.resize(this.length + 1);\n",o=0;o<t.length;o++){var u=t[o],l=a(u.type);n.indexOf(l)<0&&(n.push(l),i+="var o"+l.toFixed(0)+" = i * "+(e/l).toFixed(0)+";\n");for(var c=0;c<u.components;c++){var f="v"+r.length,h="o"+l.toFixed(0)+" + "+(u.offset/l+c).toFixed(0);i+="this."+s(u.type)+"["+h+"] = "+f+";\n",r.push(f)}}return i+="return i;",new Function(r,i)}function l(t,e){var n="this._pos"+a(t.type).toFixed(0),r=(t.offset/a(t.type)+e).toFixed(0),i=n+" + "+r;return"this._structArray."+s(t.type)+"["+i+"]"}function c(t,e){return new Function([],"return "+l(t,e)+";")}function f(t,e){return new Function(["x"],l(t,e)+" = x;")}function h(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}function p(t){void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))}var d=t("assert");e.exports=r;var m={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},v={};p.prototype.DEFAULT_CAPACITY=128,p.prototype.RESIZE_MULTIPLIER=5,p.prototype.serialize=function(){return this.trim(),{length:this.length,arrayBuffer:this.arrayBuffer}},p.prototype.get=function(t){return new this.StructType(this,t)},p.prototype.trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},p.prototype.resize=function(t){if(this.length=t,t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*this.RESIZE_MULTIPLIER),this.DEFAULT_CAPACITY),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},p.prototype._refreshViews=function(){for(var t=0;t<this._usedTypes.length;t++){var e=this._usedTypes[t];this[s(e)]=new m[e](this.arrayBuffer)}},p.prototype.toArray=function(t,e){for(var n=[],r=t;r<e;r++){var i=this.get(r);n.push(i)}return n}},{assert:1}],145:[function(t,e,n){"use strict";function r(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?t[n]:""})}e.exports=r},{}],146:[function(t,e,n){"use strict";var r=t("unitbezier"),i=t("../geo/coordinate");n.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,i){var o=new r(t,e,n,i);return function(t){return o.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i},n.coalesce=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!==e&&void 0!==e)return e}},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),i[a]=e,0===--r&&n(o,i)})})},n.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},n.extend=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t},n.extendAll=function(t,e){for(var n in e)Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t},n.inherit=function(t,e){var r="function"==typeof t?t.prototype:t,i=Object.create(r);return n.extendAll(i,e),i},n.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n};var o=1;n.uniqueId=function(){return o++},n.debounce=function(t,e){var n,r;return function(){r=arguments,clearTimeout(n),n=setTimeout(function(){t.apply(null,r)},e)}},n.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},n.bindHandlers=function(t){for(var e in t)"function"==typeof t[e]&&0===e.indexOf("_on")&&(t[e]=t[e].bind(t))},n.setOptions=function(t,e){t.hasOwnProperty("options")||(t.options=t.options?Object.create(t.options):{});for(var n in e)t.options[n]=e[n];return t.options},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-(1/0),o=-(1/0),a=0;a<t.length;a++)e=Math.min(e,t[a].column),n=Math.min(n,t[a].row),r=Math.max(r,t[a].column),o=Math.max(o,t[a].row);var s=r-e,u=o-n,l=Math.max(s,u);return new i((e+r)/2,(n+o)/2,0).zoomTo(Math.floor(-Math.log(l)/Math.LN2))},n.endsWith=function(t,e){return t.indexOf(e,t.length-e.length)!==-1},n.startsWith=function(t,e){return 0===t.indexOf(e)},n.mapObject=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r},n.filterObject=function(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r},n.deepEqual=function s(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!s(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(var i in t)if(!s(t[i],e[i]))return!1;return!0}return t===e},n.clone=function(t){return Array.isArray(t)?t.map(n.clone):"object"==typeof t?n.mapObject(t,n.clone):t},n.arraysIntersect=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1};var a={};n.warnOnce=function(t){a[t]||("undefined"!=typeof console&&console.warn(t),a[t]=!0)},n.isCounterClockwise=function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)},n.calculateSignedArea=function(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],n=t[a],r+=(n.x-e.x)*(e.y+n.y);return r},n.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],r=t[t.length-1];return!(Math.abs(e.x-r.x)>0||Math.abs(e.y-r.y)>0)&&Math.abs(n.calculateSignedArea(t))>.01}},{"../geo/coordinate":40,unitbezier:213}],147:[function(t,e,n){"use strict";function r(t,e,n,r){this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)}e.exports=r,r.prototype={type:"Feature",get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},set geometry(t){this._geometry=t},toJSON:function(){var t={};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&"toJSON"!==e&&(t[e]=this[e]);return t}}},{}],148:[function(t,e,n){"use strict";function r(){this.active={}}var i=t("assert"),o=t("./web_worker");e.exports=r,r.prototype={acquire:function(e){if(!this.workers){var n=t("../mapbox-gl").workerCount;for(i("number"==typeof n&&n<1/0),this.workers=[];this.workers.length<n;)this.workers.push(new o)}return this.active[e]=!0,this.workers.slice()},release:function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)}}},{"../mapbox-gl":"mapbox-gl","./web_worker":132,assert:1}],149:[function(t,e,n){function r(t){return t=Math.round(t),t<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return i("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function u(t){var e=t.replace(/ /g,"").toLowerCase();if(e in l)return l[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var i=e.indexOf("("),u=e.indexOf(")");if(i!==-1&&u+1===e.length){var c=e.substr(0,i),f=e.substr(i+1,u-(i+1)).split(","),h=1;switch(c){case"rgba":if(4!==f.length)return null;h=a(f.pop());case"rgb":return 3!==f.length?null:[o(f[0]),o(f[1]),o(f[2]),h];case"hsla":if(4!==f.length)return null;h=a(f.pop());case"hsl":if(3!==f.length)return null;var p=(parseFloat(f[0])%360+360)%360/360,d=a(f[1]),m=a(f[2]),v=m<=.5?m*(d+1):m+d-m*d,y=2*m-v;return[r(255*s(y,v,p+1/3)),r(255*s(y,v,p)),r(255*s(y,v,p-1/3)),h];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=u}catch(c){}},{}],150:[function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r=e&&e.length,o=r?e[0]*n:t.length,s=i(t,0,o,n,!0),u=[];if(!s)return u;var l,c,h,p,d,m,v;if(r&&(s=f(t,e,s,n)),t.length>80*n){l=h=t[0],c=p=t[1];for(var y=n;y<o;y+=n)d=t[y],m=t[y+1],d<l&&(l=d),m<c&&(c=m),d>h&&(h=d),m>p&&(p=m);v=Math.max(h-l,p-c)}return a(s,u,n,l,c,v),u}function i(t,e,n,r,i){var o,a;if(i===I(t,e,n,r)>0)for(o=e;o<n;o+=r)a=P(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=P(o,t[o],t[o+1],a);return a&&w(a,a.next)&&(k(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do if(n=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(k(r),r=e=r.prev,r===r.next)return null;n=!0}while(n||r!==e);return e}function a(t,e,n,r,i,f,h){if(t){!h&&f&&m(t,r,i,f);for(var p,d,v=t;t.prev!==t.next;)if(p=t.prev,d=t.next,f?u(t,r,i,f):s(t))e.push(p.i/n),e.push(t.i/n),e.push(d.i/n),k(t),t=d.next,v=d.next;else if(t=d,t===v){h?1===h?(t=l(t,e,n),a(t,e,n,r,i,f,2)):2===h&&c(t,e,n,r,i,f):a(o(t),e,n,r,i,f,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(x(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(b(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(x(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=y(s,u,e,n,r),h=y(l,c,e,n,r),p=t.nextZ;p&&p.z<=h;){if(p!==t.prev&&p!==t.next&&b(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=f;){if(p!==t.prev&&p!==t.next&&b(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!w(i,o)&&M(i,r,r.next,o)&&S(i,o)&&S(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),k(r),k(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&_(u,l)){var c=C(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,e,n,r,i,s),void a(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function f(t,e,n,r){var a,s,u,l,c,f=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,l=a<s-1?e[a+1]*r:t.length,c=i(t,u,l,r,!1),c===c.next&&(c.steiner=!0),f.push(g(c));for(f.sort(h),a=0;a<f.length;a++)p(f[a],n),n=o(n,n.next);return n}function h(t,e){return t.x-e.x}function p(t,e){if(e=d(t,e)){var n=C(e,t);o(n,n.next)}}function d(t,e){var n,r=e,i=t.x,o=t.y,a=-(1/0);do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,f=n.y,h=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&b(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),(u<h||u===h&&r.x>n.x)&&S(r,t)&&(n=r,h=u)),r=r.next;return n}function m(t,e,n,r){var i=t;do null===i.z&&(i.z=y(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,v(i)}function v(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ,r);e++);for(u=l;s>0||u>0&&r;)0===s?(i=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(i=n,n=n.nextZ,
s--):(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,s--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1);return t}function y(t,e,n,r,i){return t=32767*(t-n)/i,e=32767*(e-r)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function g(t){var e=t,n=t;do e.x<n.x&&(n=e),e=e.next;while(e!==t);return n}function b(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&T(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function M(t,e,n,r){return!!(w(t,e)&&w(n,r)||w(t,r)&&w(n,e))||x(t,e,n)>0!=x(t,e,r)>0&&x(n,r,t)>0!=x(n,r,e)>0}function E(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&M(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function S(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function T(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function C(t,e){var n=new A(t.i,t.x,t.y),r=new A(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function P(t,e,n,r){var i=new A(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function k(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}e.exports=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(I(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(I(t,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},{}],151:[function(t,e,n){"use strict";function r(t){return new Function("f","var p = (f && f.properties || {}); return "+i(t))}function i(t){if(!t)return"true";var e=t[0];if(t.length<=1)return"any"===e?"false":"true";var n="=="===e?a(t[1],t[2],"===",!1):"!="===e?a(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?a(t[1],t[2],e,!0):"any"===e?s(t.slice(1),"||"):"all"===e?s(t.slice(1),"&&"):"none"===e?c(s(t.slice(1),"||")):"in"===e?u(t[1],t.slice(2)):"!in"===e?c(u(t[1],t.slice(2))):"has"===e?l(t[1]):"!has"===e?c(l([t[1]])):"true";return"("+n+")"}function o(t){return"$type"===t?"f.type":"$id"===t?"f.id":"p["+JSON.stringify(t)+"]"}function a(t,e,n,r){var i=o(t),a="$type"===t?h.indexOf(e):JSON.stringify(e);return(r?"typeof "+i+"=== typeof "+a+"&&":"")+i+n+a}function s(t,e){return t.map(i).join(e)}function u(t,e){"$type"===t&&(e=e.map(function(t){return h.indexOf(t)}));var n=JSON.stringify(e.sort(f)),r=o(t);return e.length<=200?n+".indexOf("+r+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+r+", "+n+",0,"+(e.length-1)+")"}function l(t){return JSON.stringify(t)+" in p"}function c(t){return"!("+t+")"}function f(t,e){return t<e?-1:t>e?1:0}e.exports=r;var h=["Unknown","Point","LineString","Polygon"]},{}],152:[function(t,e,n){function r(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(i(r,e)),t;case"Feature":return t.geometry=r(t.geometry,e),t;case"Polygon":case"MultiPolygon":return o(t,e);default:return t}}function i(t,e){return function(n){return t(n,e)}}function o(t,e){return"Polygon"===t.type?t.coordinates=a(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(i(a,e))),t}function a(t,e){e=!!e,t[0]=s(t[0],!e);for(var n=1;n<t.length;n++)t[n]=s(t[n],e);return t}function s(t,e){return u(t)===e?t:t.reverse()}function u(t){return l.ring(t)>=0}var l=t("geojson-area");e.exports=r},{"geojson-area":153}],153:[function(t,e,n){function r(t){if("Polygon"===t.type)return i(t.coordinates);if("MultiPolygon"===t.type){for(var e=0,n=0;n<t.coordinates.length;n++)e+=i(t.coordinates[n]);return e}return null}function i(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e=0;if(t.length>2){for(var n,r,i=0;i<t.length-1;i++)n=t[i],r=t[i+1],e+=a(r[0]-n[0])*(2+Math.sin(a(n[1]))+Math.sin(a(r[1])));e=e*s.RADIUS*s.RADIUS/2}return e}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=r,e.exports.ring=o},{wgs84:154}],154:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],155:[function(t,e,n){"use strict";function r(t,e,n,r,a,u,l,c){if(n/=e,r/=e,l>=n&&c<=r)return t;if(l>r||c<n)return null;for(var f=[],h=0;h<t.length;h++){var p,d,m=t[h],v=m.geometry,y=m.type;if(p=m.min[a],d=m.max[a],p>=n&&d<=r)f.push(m);else if(!(p>r||d<n)){var g=1===y?i(v,n,r,a):o(v,n,r,a,u,3===y);g.length&&f.push(s(m.tags,y,g,m.id))}}return f.length?f:null}function i(t,e,n,r){for(var i=[],o=0;o<t.length;o++){var a=t[o],s=a[r];s>=e&&s<=n&&i.push(a)}return i}function o(t,e,n,r,i,o){for(var s=[],u=0;u<t.length;u++){var l,c,f,h=0,p=0,d=null,m=t[u],v=m.area,y=m.dist,g=m.outer,b=m.length,_=[];for(c=0;c<b-1;c++)l=d||m[c],d=m[c+1],h=p||l[r],p=d[r],h<e?p>n?(_.push(i(l,d,e),i(l,d,n)),o||(_=a(s,_,v,y,g))):p>=e&&_.push(i(l,d,e)):h>n?p<e?(_.push(i(l,d,n),i(l,d,e)),o||(_=a(s,_,v,y,g))):p<=n&&_.push(i(l,d,n)):(_.push(l),p<e?(_.push(i(l,d,e)),o||(_=a(s,_,v,y,g))):p>n&&(_.push(i(l,d,n)),o||(_=a(s,_,v,y,g))));l=m[b-1],h=l[r],h>=e&&h<=n&&_.push(l),f=_[_.length-1],o&&f&&(_[0][0]!==f[0]||_[0][1]!==f[1])&&_.push(_[0]),a(s,_,v,y,g)}return s}function a(t,e,n,r,i){return e.length&&(e.area=n,e.dist=r,void 0!==i&&(e.outer=i),t.push(e)),[]}e.exports=r;var s=t("./feature")},{"./feature":157}],156:[function(t,e,n){"use strict";function r(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)i(n,t.features[r],e);else"Feature"===t.type?i(n,t,e):i(n,{geometry:t},e);return n}function i(t,e,n){if(null!==e.geometry){var r,s,u,c,f=e.geometry,h=f.type,p=f.coordinates,d=e.properties,m=e.id;if("Point"===h)t.push(l(d,1,[a(p)],m));else if("MultiPoint"===h)t.push(l(d,1,o(p),m));else if("LineString"===h)t.push(l(d,2,[o(p,n)],m));else if("MultiLineString"===h||"Polygon"===h){for(u=[],r=0;r<p.length;r++)c=o(p[r],n),"Polygon"===h&&(c.outer=0===r),u.push(c);t.push(l(d,"Polygon"===h?3:2,u,m))}else if("MultiPolygon"===h){for(u=[],r=0;r<p.length;r++)for(s=0;s<p[r].length;s++)c=o(p[r][s],n),c.outer=0===s,u.push(c);t.push(l(d,3,u,m))}else{if("GeometryCollection"!==h)throw new Error("Input data is not a valid GeoJSON object.");for(r=0;r<f.geometries.length;r++)i(t,{geometry:f.geometries[r],properties:d},n)}}}function o(t,e){for(var n=[],r=0;r<t.length;r++)n.push(a(t[r]));return e&&(u(n,e),s(n)),n}function a(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function s(t){for(var e,n,r=0,i=0,o=0;o<t.length-1;o++)e=n||t[o],n=t[o+1],r+=e[0]*n[1]-n[0]*e[1],i+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(r/2),t.dist=i}e.exports=r;var u=t("./simplify"),l=t("./feature")},{"./feature":157,"./simplify":159}],157:[function(t,e,n){"use strict";function r(t,e,n,r){var o={id:r||null,type:e,geometry:n,tags:t||null,min:[1/0,1/0],max:[-(1/0),-(1/0)]};return i(o),o}function i(t){var e=t.geometry,n=t.min,r=t.max;if(1===t.type)o(n,r,e);else for(var i=0;i<e.length;i++)o(n,r,e[i]);return t}function o(t,e,n){for(var r,i=0;i<n.length;i++)r=n[i],t[0]=Math.min(r[0],t[0]),e[0]=Math.max(r[0],e[0]),t[1]=Math.min(r[1],t[1]),e[1]=Math.max(r[1],e[1])}e.exports=r},{}],158:[function(t,e,n){"use strict";function r(t,e){return new i(t,e)}function i(t,e){e=this.options=u(Object.create(this.options),e);var n=e.debug;n&&console.time("preprocess data");var r=1<<e.maxZoom,i=c(t,e.tolerance/(r*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=p(i,e.buffer/e.extent,a),i.length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,n){return 32*((1<<t)*n+e)+t}function a(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function s(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function u(t,e){for(var n in e)t[n]=e[n];return t}function l(t,e,n){var r=t.source;if(1!==r.length)return!1;var i=r[0];if(3!==i.type||i.geometry.length>1)return!1;var o=i.geometry[0].length;if(5!==o)return!1;for(var a=0;a<o;a++){var s=f.point(i.geometry[0][a],e,t.z2,t.x,t.y);if(s[0]!==-n&&s[0]!==e+n||s[1]!==-n&&s[1]!==e+n)return!1}return!0}e.exports=r;var c=t("./convert"),f=t("./transform"),h=t("./clip"),p=t("./wrap"),d=t("./tile");i.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},i.prototype.splitTile=function(t,e,n,r,i,u,c){for(var f=[t,e,n,r],p=this.options,m=p.debug,v=null;f.length;){r=f.pop(),n=f.pop(),e=f.pop(),t=f.pop();var y=1<<e,g=o(e,n,r),b=this.tiles[g],_=e===p.maxZoom?0:p.tolerance/(y*p.extent);if(!b&&(m>1&&console.time("creation"),b=this.tiles[g]=d(t,y,n,r,_,e===p.maxZoom),this.tileCoords.push({z:e,x:n,y:r}),m)){m>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,b.numFeatures,b.numPoints,b.numSimplified),console.timeEnd("creation"));var x="z"+e;this.stats[x]=(this.stats[x]||0)+1,this.total++}if(b.source=t,i){if(e===p.maxZoom||e===i)continue;var w=1<<i-e;if(n!==Math.floor(u/w)||r!==Math.floor(c/w))continue}else if(e===p.indexMaxZoom||b.numPoints<=p.indexMaxPoints)continue;if(p.solidChildren||!l(b,p.extent,p.buffer)){b.source=null,m>1&&console.time("clipping");var M,E,S,T,C,P,k=.5*p.buffer/p.extent,A=.5-k,I=.5+k,O=1+k;M=E=S=T=null,C=h(t,y,n-k,n+I,0,a,b.min[0],b.max[0]),P=h(t,y,n+A,n+O,0,a,b.min[0],b.max[0]),C&&(M=h(C,y,r-k,r+I,1,s,b.min[1],b.max[1]),E=h(C,y,r+A,r+O,1,s,b.min[1],b.max[1])),P&&(S=h(P,y,r-k,r+I,1,s,b.min[1],b.max[1]),T=h(P,y,r+A,r+O,1,s,b.min[1],b.max[1])),m>1&&console.timeEnd("clipping"),t.length&&(f.push(M||[],e+1,2*n,2*r),f.push(E||[],e+1,2*n,2*r+1),f.push(S||[],e+1,2*n+1,2*r),f.push(T||[],e+1,2*n+1,2*r+1))}else i&&(v=e)}return v},i.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,a=r.debug,s=1<<t;e=(e%s+s)%s;var u=o(t,e,n);if(this.tiles[u])return f.tile(this.tiles[u],i);a>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,h=t,p=e,d=n;!c&&h>0;)h--,p=Math.floor(p/2),d=Math.floor(d/2),c=this.tiles[o(h,p,d)];if(!c||!c.source)return null;if(a>1&&console.log("found parent tile z%d-%d-%d",h,p,d),l(c,i,r.buffer))return f.tile(c,i);a>1&&console.time("drilling down");var m=this.splitTile(c.source,h,p,d,t,e,n);if(a>1&&console.timeEnd("drilling down"),null!==m){var v=1<<t-m;u=o(m,Math.floor(e/v),Math.floor(n/v))}return this.tiles[u]?f.tile(this.tiles[u],i):null}},{"./clip":155,"./convert":156,"./tile":160,"./transform":161,"./wrap":162}],159:[function(t,e,n){"use strict";function r(t,e){var n,r,o,a,s=e*e,u=t.length,l=0,c=u-1,f=[];for(t[l][2]=1,t[c][2]=1;c;){for(r=0,n=l+1;n<c;n++)o=i(t[n],t[l],t[c]),o>r&&(a=n,r=o);r>s?(t[a][2]=r,f.push(l),f.push(a),l=a):(c=f.pop(),l=f.pop())}}function i(t,e,n){var r=e[0],i=e[1],o=n[0],a=n[1],s=t[0],u=t[1],l=o-r,c=a-i;if(0!==l||0!==c){var f=((s-r)*l+(u-i)*c)/(l*l+c*c);f>1?(r=o,i=a):f>0&&(r+=l*f,i+=c*f)}return l=s-r,c=u-i,l*l+c*c}e.exports=r},{}],160:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z2:e,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<t.length;u++){s.numFeatures++,i(s,t[u],o,a);var l=t[u].min,c=t[u].max;l[0]<s.min[0]&&(s.min[0]=l[0]),l[1]<s.min[1]&&(s.min[1]=l[1]),c[0]>s.max[0]&&(s.max[0]=c[0]),c[1]>s.max[1]&&(s.max[1]=c[1])}return s}function i(t,e,n,r){var i,a,s,u,l=e.geometry,c=e.type,f=[],h=n*n;if(1===c)for(i=0;i<l.length;i++)f.push(l[i]),t.numPoints++,t.numSimplified++;else for(i=0;i<l.length;i++)if(s=l[i],r||!(2===c&&s.dist<n||3===c&&s.area<h)){var p=[];for(a=0;a<s.length;a++)u=s[a],(r||u[2]>h)&&(p.push(u),t.numSimplified++),t.numPoints++;3===c&&o(p,s.outer),f.push(p)}else t.numPoints+=s.length;if(f.length){var d={geometry:f,type:c,tags:e.tags||null};null!==e.id&&(d.id=e.id),t.features.push(d)}}function o(t,e){var n=a(t);n<0===e&&t.reverse()}function a(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],n=t[a],r+=(n[0]-e[0])*(e[1]+n[1]);return r}e.exports=r},{}],161:[function(t,e,n){"use strict";function r(t,e){if(t.transformed)return t;var n,r,o,a=t.z2,s=t.x,u=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],c=l.geometry,f=l.type;if(1===f)for(r=0;r<c.length;r++)c[r]=i(c[r],e,a,s,u);else for(r=0;r<c.length;r++){var h=c[r];for(o=0;o<h.length;o++)h[o]=i(h[o],e,a,s,u)}}return t.transformed=!0,t}function i(t,e,n,r,i){var o=Math.round(e*(t[0]*n-r)),a=Math.round(e*(t[1]*n-i));return[o,a]}n.tile=r,n.point=i},{}],162:[function(t,e,n){"use strict";function r(t,e,n){var r=t,o=a(t,1,-1-e,e,0,n,-1,2),s=a(t,1,1-e,2+e,0,n,-1,2);return(o||s)&&(r=a(t,1,-e,1+e,0,n,-1,2)||[],o&&(r=i(o,1).concat(r)),s&&(r=r.concat(i(s,-1)))),r}function i(t,e){for(var n=[],r=0;r<t.length;r++){var i,a=t[r],u=a.type;if(1===u)i=o(a.geometry,e);else{i=[];for(var l=0;l<a.geometry.length;l++)i.push(o(a.geometry[l],e))}n.push(s(a.tags,u,i,a.id))}return n}function o(t,e){var n=[];n.area=t.area,n.dist=t.dist;for(var r=0;r<t.length;r++)n.push([t[r][0]+e,t[r][1],t[r][2]]);return n}var a=t("./clip"),s=t("./feature");e.exports=r},{"./clip":155,"./feature":157}],163:[function(t,e,n){n.glMatrix=t("./gl-matrix/common.js"),n.mat2=t("./gl-matrix/mat2.js"),n.mat2d=t("./gl-matrix/mat2d.js"),n.mat3=t("./gl-matrix/mat3.js"),n.mat4=t("./gl-matrix/mat4.js"),n.quat=t("./gl-matrix/quat.js"),n.vec2=t("./gl-matrix/vec2.js"),n.vec3=t("./gl-matrix/vec3.js"),n.vec4=t("./gl-matrix/vec4.js")},{"./gl-matrix/common.js":164,"./gl-matrix/mat2.js":165,"./gl-matrix/mat2d.js":166,"./gl-matrix/mat3.js":167,"./gl-matrix/mat4.js":168,"./gl-matrix/quat.js":169,"./gl-matrix/vec2.js":170,"./gl-matrix/vec3.js":171,"./gl-matrix/vec4.js":172}],164:[function(t,e,n){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in this,r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE,r.setMatrixArrayType=function(t){r.ARRAY_TYPE=t};var i=Math.PI/180;r.toRadian=function(t){return t*i},r.equals=function(t,e){return Math.abs(t-e)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},e.exports=r},{}],165:[function(t,e,n){var r=t("./common.js"),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},i.fromValues=function(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;return a?(a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t):null},i.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},i.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*l+o*c,t[3]=i*l+a*c,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},i.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},i.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},e.exports=i},{"./common.js":164}],166:[function(t,e,n){var r=t("./common.js"),i={};i.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},i.fromValues=function(t,e,n,i,o,a){var s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=i,s[4]=o,s[5]=a,s},i.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null},i.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1],f=n[2],h=n[3],p=n[4],d=n[5];return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*f+o*h,t[3]=i*f+a*h,t[4]=r*p+o*d+s,t[5]=i*p+a*d+u,t},i.mul=i.multiply,i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*-l+o*c,t[3]=i*-l+a*c,t[4]=s,t[5]=u,t},i.scale=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=u,t},i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*l+o*c+s,t[5]=i*l+a*c+u,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},i.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=e[0],c=e[1],f=e[2],h=e[3],p=e[4],d=e[5];return Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-h)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-p)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-d)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))},e.exports=i},{"./common.js":164}],167:[function(t,e,n){var r=t("./common.js"),i={};i.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},i.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromValues=function(t,e,n,i,o,a,s,u,l){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c},i.set=function(t,e,n,r,i,o,a,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=c*a-s*l,h=-c*o+s*u,p=l*o-a*u,d=n*f+r*h+i*p;return d?(d=1/d,t[0]=f*d,t[1]=(-c*r+i*l)*d,t[2]=(s*r-i*a)*d,t[3]=h*d,t[4]=(c*n-i*u)*d,t[5]=(-s*n+i*o)*d,t[6]=p*d,t[7]=(-l*n+r*u)*d,t[8]=(a*n-r*o)*d,t):null},i.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=a*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*a,t[3]=s*u-o*c,t[4]=n*c-i*u,t[5]=i*o-n*s,t[6]=o*l-a*u,t[7]=r*u-n*l,t[8]=n*a-r*o,t},i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=n[0],p=n[1],d=n[2],m=n[3],v=n[4],y=n[5],g=n[6],b=n[7],_=n[8];return t[0]=h*r+p*a+d*l,t[1]=h*i+p*s+d*c,t[2]=h*o+p*u+d*f,t[3]=m*r+v*a+y*l,t[4]=m*i+v*s+y*c,t[5]=m*o+v*u+y*f,t[6]=g*r+b*a+_*l,t[7]=g*i+b*s+_*c,t[8]=g*o+b*u+_*f,t},i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=h*r+p*a+l,t[7]=h*i+p*s+c,t[8]=h*o+p*u+f,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=Math.sin(n),p=Math.cos(n);return t[0]=p*r+h*a,t[1]=p*i+h*s,t[2]=p*o+h*u,t[3]=p*a-h*r,t[4]=p*s-h*i,t[5]=p*u-h*o,t[6]=l,t[7]=c,t[8]=f,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,h=i*a,p=i*s,d=i*u,m=o*a,v=o*s,y=o*u;return t[0]=1-f-d,t[3]=c-y,t[6]=h+v,t[1]=c+y,t[4]=1-l-d,t[7]=p-m,t[2]=h-v,t[5]=p+m,t[8]=1-l-f,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],p=e[11],d=e[12],m=e[13],v=e[14],y=e[15],g=n*s-r*a,b=n*u-i*a,_=n*l-o*a,x=r*u-i*s,w=r*l-o*s,M=i*l-o*u,E=c*m-f*d,S=c*v-h*d,T=c*y-p*d,C=f*v-h*m,P=f*y-p*m,k=h*y-p*v,A=g*k-b*P+_*C+x*T-w*S+M*E;return A?(A=1/A,t[0]=(s*k-u*P+l*C)*A,t[1]=(u*T-a*k-l*S)*A,t[2]=(a*P-s*T+l*E)*A,t[3]=(i*P-r*k-o*C)*A,t[4]=(n*k-i*T+o*S)*A,t[5]=(r*T-n*P-o*E)*A,t[6]=(m*M-v*w+y*x)*A,t[7]=(v*_-d*M-y*b)*A,t[8]=(d*w-m*_+y*g)*A,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=e[0],p=e[1],d=e[2],m=e[3],v=e[4],y=e[5],g=t[6],b=e[7],_=e[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-d)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-m)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-v)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(l-g)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-_)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(_))},e.exports=i},{"./common.js":164}],168:[function(t,e,n){var r=t("./common.js"),i={scalar:{},SIMD:{}};i.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.fromValues=function(t,e,n,i,o,a,s,u,l,c,f,h,p,d,m,v){var y=new r.ARRAY_TYPE(16);return y[0]=t,y[1]=e,y[2]=n,y[3]=i,y[4]=o,y[5]=a,y[6]=s,y[7]=u,y[8]=l,y[9]=c,y[10]=f,y[11]=h,y[12]=p,y[13]=d,y[14]=m,y[15]=v,y},i.set=function(t,e,n,r,i,o,a,s,u,l,c,f,h,p,d,m,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=f,t[11]=h,t[12]=p,t[13]=d,t[14]=m,t[15]=v,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},i.SIMD.transpose=function(t,e){var n,r,i,o,a,s,u,l,c,f;return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(i,o,0,1,4,5),u=SIMD.Float32x4.shuffle(a,s,0,2,4,6),l=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,u),SIMD.Float32x4.store(t,4,l),a=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(i,o,2,3,6,7),c=SIMD.Float32x4.shuffle(a,s,0,2,4,6),f=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,f),t},i.transpose=r.USE_SIMD?i.SIMD.transpose:i.scalar.transpose,i.scalar.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],p=e[11],d=e[12],m=e[13],v=e[14],y=e[15],g=n*s-r*a,b=n*u-i*a,_=n*l-o*a,x=r*u-i*s,w=r*l-o*s,M=i*l-o*u,E=c*m-f*d,S=c*v-h*d,T=c*y-p*d,C=f*v-h*m,P=f*y-p*m,k=h*y-p*v,A=g*k-b*P+_*C+x*T-w*S+M*E;return A?(A=1/A,t[0]=(s*k-u*P+l*C)*A,t[1]=(i*P-r*k-o*C)*A,t[2]=(m*M-v*w+y*x)*A,t[3]=(h*w-f*M-p*x)*A,t[4]=(u*T-a*k-l*S)*A,t[5]=(n*k-i*T+o*S)*A,t[6]=(v*_-d*M-y*b)*A,t[7]=(c*M-h*_+p*b)*A,t[8]=(a*P-s*T+l*E)*A,t[9]=(r*T-n*P-o*E)*A,t[10]=(d*w-m*_+y*g)*A,t[11]=(f*_-c*w-p*g)*A,t[12]=(s*S-a*C-u*E)*A,t[13]=(n*C-r*S+i*E)*A,t[14]=(m*b-d*x-v*g)*A,t[15]=(c*x-f*b+h*g)*A,t):null},i.SIMD.invert=function(t,e){var n,r,i,o,a,s,u,l,c,f,h=SIMD.Float32x4.load(e,0),p=SIMD.Float32x4.load(e,4),d=SIMD.Float32x4.load(e,8),m=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(h,p,0,1,4,5),r=SIMD.Float32x4.shuffle(d,m,0,1,4,5),n=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(h,p,2,3,6,7),o=SIMD.Float32x4.shuffle(d,m,2,3,6,7),i=SIMD.Float32x4.shuffle(a,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,a,1,3,5,7),a=SIMD.Float32x4.mul(i,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),u=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(r,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),c=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),l=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(i,a)),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(i,a)),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),l),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),u),
l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(n,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),f=SIMD.Float32x4.mul(n,s),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),a=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(a,a))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,c)),t):null},i.invert=r.USE_SIMD?i.SIMD.invert:i.scalar.invert,i.scalar.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],p=e[11],d=e[12],m=e[13],v=e[14],y=e[15];return t[0]=s*(h*y-p*v)-f*(u*y-l*v)+m*(u*p-l*h),t[1]=-(r*(h*y-p*v)-f*(i*y-o*v)+m*(i*p-o*h)),t[2]=r*(u*y-l*v)-s*(i*y-o*v)+m*(i*l-o*u),t[3]=-(r*(u*p-l*h)-s*(i*p-o*h)+f*(i*l-o*u)),t[4]=-(a*(h*y-p*v)-c*(u*y-l*v)+d*(u*p-l*h)),t[5]=n*(h*y-p*v)-c*(i*y-o*v)+d*(i*p-o*h),t[6]=-(n*(u*y-l*v)-a*(i*y-o*v)+d*(i*l-o*u)),t[7]=n*(u*p-l*h)-a*(i*p-o*h)+c*(i*l-o*u),t[8]=a*(f*y-p*m)-c*(s*y-l*m)+d*(s*p-l*f),t[9]=-(n*(f*y-p*m)-c*(r*y-o*m)+d*(r*p-o*f)),t[10]=n*(s*y-l*m)-a*(r*y-o*m)+d*(r*l-o*s),t[11]=-(n*(s*p-l*f)-a*(r*p-o*f)+c*(r*l-o*s)),t[12]=-(a*(f*v-h*m)-c*(s*v-u*m)+d*(s*h-u*f)),t[13]=n*(f*v-h*m)-c*(r*v-i*m)+d*(r*h-i*f),t[14]=-(n*(s*v-u*m)-a*(r*v-i*m)+d*(r*u-i*s)),t[15]=n*(s*h-u*f)-a*(r*h-i*f)+c*(r*u-i*s),t},i.SIMD.adjoint=function(t,e){var n,r,i,o,a,s,u,l,c,f,h,p,d,n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return c=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(i,o,0,1,4,5),a=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.shuffle(n,r,2,3,6,7),l=SIMD.Float32x4.shuffle(i,o,2,3,6,7),u=SIMD.Float32x4.shuffle(c,l,0,2,4,6),l=SIMD.Float32x4.shuffle(l,c,1,3,5,7),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(s,c),h=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),f),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(s,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),d=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),d),d=SIMD.Float32x4.swizzle(d,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,3,0,1),l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),u=SIMD.Float32x4.swizzle(u,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),f),p=SIMD.Float32x4.mul(a,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(u,c)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,c),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),c=SIMD.Float32x4.mul(a,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),p),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),d),c=SIMD.Float32x4.swizzle(c,2,3,0,1),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),p),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.mul(a,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(u,c)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),p),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),h),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.mul(a,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),h),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(s,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,c)),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),d),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,p),SIMD.Float32x4.store(t,12,d),t},i.adjoint=r.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint,i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11],p=t[12],d=t[13],m=t[14],v=t[15],y=e*a-n*o,g=e*s-r*o,b=e*u-i*o,_=n*s-r*a,x=n*u-i*a,w=r*u-i*s,M=l*d-c*p,E=l*m-f*p,S=l*v-h*p,T=c*m-f*d,C=c*v-h*d,P=f*v-h*m;return y*P-g*C+b*T+_*S-x*E+w*M},i.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(n,0),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,u);var l=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(l,3,3,3,3),a))));SIMD.Float32x4.store(t,4,c);var f=SIMD.Float32x4.load(n,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),a))));SIMD.Float32x4.store(t,8,h);var p=SIMD.Float32x4.load(n,12),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,1,1,1,1),i),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,d),t},i.scalar.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],m=e[12],v=e[13],y=e[14],g=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*s+x*f+w*m,t[1]=b*i+_*u+x*h+w*v,t[2]=b*o+_*l+x*p+w*y,t[3]=b*a+_*c+x*d+w*g,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*s+x*f+w*m,t[5]=b*i+_*u+x*h+w*v,t[6]=b*o+_*l+x*p+w*y,t[7]=b*a+_*c+x*d+w*g,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*s+x*f+w*m,t[9]=b*i+_*u+x*h+w*v,t[10]=b*o+_*l+x*p+w*y,t[11]=b*a+_*c+x*d+w*g,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*s+x*f+w*m,t[13]=b*i+_*u+x*h+w*v,t[14]=b*o+_*l+x*p+w*y,t[15]=b*a+_*c+x*d+w*g,t},i.multiply=r.USE_SIMD?i.SIMD.multiply:i.scalar.multiply,i.mul=i.multiply,i.scalar.translate=function(t,e,n){var r,i,o,a,s,u,l,c,f,h,p,d,m=n[0],v=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*v+e[8]*y+e[12],t[13]=e[1]*m+e[5]*v+e[9]*y+e[13],t[14]=e[2]*m+e[6]*v+e[10]*y+e[14],t[15]=e[3]*m+e[7]*v+e[11]*y+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=h,t[10]=p,t[11]=d,t[12]=r*m+s*v+f*y+e[12],t[13]=i*m+u*v+h*y+e[13],t[14]=o*m+l*v+p*y+e[14],t[15]=a*m+c*v+d*y+e[15]),t},i.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,2,2,2,2));var u=SIMD.Float32x4.add(r,SIMD.Float32x4.add(i,SIMD.Float32x4.add(o,a)));return SIMD.Float32x4.store(t,12,u),t},i.translate=r.USE_SIMD?i.SIMD.translate:i.scalar.translate,i.scalar.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.SIMD.scale=function(t,e,n){var r,i,o,a=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,0,0,0,0))),i=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},i.scale=r.USE_SIMD?i.SIMD.scale:i.scalar.scale,i.rotate=function(t,e,n,i){var o,a,s,u,l,c,f,h,p,d,m,v,y,g,b,_,x,w,M,E,S,T,C,P,k=i[0],A=i[1],I=i[2],O=Math.sqrt(k*k+A*A+I*I);return Math.abs(O)<r.EPSILON?null:(O=1/O,k*=O,A*=O,I*=O,o=Math.sin(n),a=Math.cos(n),s=1-a,u=e[0],l=e[1],c=e[2],f=e[3],h=e[4],p=e[5],d=e[6],m=e[7],v=e[8],y=e[9],g=e[10],b=e[11],_=k*k*s+a,x=A*k*s+I*o,w=I*k*s-A*o,M=k*A*s-I*o,E=A*A*s+a,S=I*A*s+k*o,T=k*I*s+A*o,C=A*I*s-k*o,P=I*I*s+a,t[0]=u*_+h*x+v*w,t[1]=l*_+p*x+y*w,t[2]=c*_+d*x+g*w,t[3]=f*_+m*x+b*w,t[4]=u*M+h*E+v*S,t[5]=l*M+p*E+y*S,t[6]=c*M+d*E+g*S,t[7]=f*M+m*E+b*S,t[8]=u*T+h*C+v*P,t[9]=l*T+p*C+y*P,t[10]=c*T+d*C+g*P,t[11]=f*T+m*C+b*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},i.scalar.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+h*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=h*i-u*r,t},i.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),t},i.rotateX=r.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX,i.scalar.rotateY=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-f*r,t[3]=u*i-h*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+f*i,t[11]=u*r+h*i,t},i.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(a,i))),t},i.rotateY=r.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY,i.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+h*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=h*i-u*r,t},i.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),i=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),SIMD.Float32x4.mul(o,r))),t},i.rotateZ=r.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ,i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,e,n){var i,o,a,s=n[0],u=n[1],l=n[2],c=Math.sqrt(s*s+u*u+l*l);return Math.abs(c)<r.EPSILON?null:(c=1/c,s*=c,u*=c,l*=c,i=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=u*s*a+l*i,t[2]=l*s*a-u*i,t[3]=0,t[4]=s*u*a-l*i,t[5]=u*u*a+o,t[6]=l*u*a+s*i,t[7]=0,t[8]=s*l*a+u*i,t[9]=u*l*a-s*i,t[10]=l*l*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,l=o+o,c=r*s,f=r*u,h=r*l,p=i*u,d=i*l,m=o*l,v=a*s,y=a*u,g=a*l;return t[0]=1-(p+m),t[1]=f+g,t[2]=h-y,t[3]=0,t[4]=f-g,t[5]=1-(c+m),t[6]=d+v,t[7]=0,t[8]=h+y,t[9]=d-v,t[10]=1-(c+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},i.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},i.fromRotationTranslationScale=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,l=o+o,c=a+a,f=i*u,h=i*l,p=i*c,d=o*l,m=o*c,v=a*c,y=s*u,g=s*l,b=s*c,_=r[0],x=r[1],w=r[2];return t[0]=(1-(d+v))*_,t[1]=(h+b)*_,t[2]=(p-g)*_,t[3]=0,t[4]=(h-b)*x,t[5]=(1-(f+v))*x,t[6]=(m+y)*x,t[7]=0,t[8]=(p+g)*w,t[9]=(m-y)*w,t[10]=(1-(f+d))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,f=s+s,h=o*l,p=o*c,d=o*f,m=a*c,v=a*f,y=s*f,g=u*l,b=u*c,_=u*f,x=r[0],w=r[1],M=r[2],E=i[0],S=i[1],T=i[2];return t[0]=(1-(m+y))*x,t[1]=(p+_)*x,t[2]=(d-b)*x,t[3]=0,t[4]=(p-_)*w,t[5]=(1-(h+y))*w,t[6]=(v+g)*w,t[7]=0,t[8]=(d+b)*M,t[9]=(v-g)*M,t[10]=(1-(h+m))*M,t[11]=0,t[12]=n[0]+E-(t[0]*E+t[4]*S+t[8]*T),t[13]=n[1]+S-(t[1]*E+t[5]*S+t[9]*T),t[14]=n[2]+T-(t[2]*E+t[6]*S+t[10]*T),t[15]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,h=i*a,p=i*s,d=i*u,m=o*a,v=o*s,y=o*u;return t[0]=1-f-d,t[1]=c+y,t[2]=h-v,t[3]=0,t[4]=c-y,t[5]=1-l-d,t[6]=p+m,t[7]=0,t[8]=h+v,t[9]=p-m,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t},i.perspective=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((a-s)*u*.5),t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},i.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t},i.lookAt=function(t,e,n,o){var a,s,u,l,c,f,h,p,d,m,v=e[0],y=e[1],g=e[2],b=o[0],_=o[1],x=o[2],w=n[0],M=n[1],E=n[2];return Math.abs(v-w)<r.EPSILON&&Math.abs(y-M)<r.EPSILON&&Math.abs(g-E)<r.EPSILON?i.identity(t):(h=v-w,p=y-M,d=g-E,m=1/Math.sqrt(h*h+p*p+d*d),h*=m,p*=m,d*=m,a=_*d-x*p,s=x*h-b*d,u=b*p-_*h,m=Math.sqrt(a*a+s*s+u*u),m?(m=1/m,a*=m,s*=m,u*=m):(a=0,s=0,u=0),l=p*u-d*s,c=d*a-h*u,f=h*s-p*a,m=Math.sqrt(l*l+c*c+f*f),m?(m=1/m,l*=m,c*=m,f*=m):(l=0,c=0,f=0),t[0]=a,t[1]=l,t[2]=h,t[3]=0,t[4]=s,t[5]=c,t[6]=p,t[7]=0,t[8]=u,t[9]=f,t[10]=d,t[11]=0,t[12]=-(a*v+s*y+u*g),t[13]=-(l*v+c*y+f*g),t[14]=-(h*v+p*y+d*g),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],p=t[10],d=t[11],m=t[12],v=t[13],y=t[14],g=t[15],b=e[0],_=e[1],x=e[2],w=e[3],M=e[4],E=e[5],S=e[6],T=e[7],C=e[8],P=e[9],k=e[10],A=e[11],I=e[12],O=e[13],R=e[14],D=e[15];return Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-_)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(o-x)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-w)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-M)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-E)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(l-S)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-T)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(f-C)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(h-P)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(p-k)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(d-A)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(m-I)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(v-O)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(y-R)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(g-D)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(D))},e.exports=i},{"./common.js":164}],169:[function(t,e,n){var r=t("./common.js"),i=t("./mat3.js"),o=t("./vec3.js"),a=t("./vec4.js"),s={};s.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,i,a){var u=o.dot(i,a);return u<-.999999?(o.cross(t,e,i),o.length(t)<1e-6&&o.cross(t,n,i),o.normalize(t,t),s.setAxisAngle(r,t,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+u,s.normalize(r,r))}}(),s.setAxes=function(){var t=i.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],s.normalize(e,s.fromMat3(e,t))}}(),s.clone=a.clone,s.fromValues=a.fromValues,s.copy=a.copy,s.set=a.set,s.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},s.setAxisAngle=function(t,e,n){n=.5*n;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},s.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},s.add=a.add,s.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,t},s.mul=s.multiply,s.scale=a.scale,s.rotateX=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t},s.rotateY=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t},s.rotateZ=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},s.calculateW=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},s.dot=a.dot,s.lerp=a.lerp,s.slerp=function(t,e,n,r){var i,o,a,s,u,l=e[0],c=e[1],f=e[2],h=e[3],p=n[0],d=n[1],m=n[2],v=n[3];return o=l*p+c*d+f*m+h*v,o<0&&(o=-o,p=-p,d=-d,m=-m,v=-v),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),t[0]=s*l+u*p,t[1]=s*c+u*d,t[2]=s*f+u*m,t[3]=s*h+u*v,t},s.sqlerp=function(){var t=s.create(),e=s.create();return function(n,r,i,o,a,u){return s.slerp(t,r,a,u),s.slerp(e,i,o,u),s.slerp(n,t,e,2*u*(1-u)),n}}(),s.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t},s.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},s.length=a.length,s.len=s.length,s.squaredLength=a.squaredLength,s.sqrLen=s.squaredLength,s.normalize=a.normalize,s.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t},s.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},s.exactEquals=a.exactEquals,s.equals=a.equals,e.exports=s},{"./common.js":164,"./mat3.js":167,"./vec3.js":171,"./vec4.js":172}],170:[function(t,e,n){var r=t("./common.js"),i={};i.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,n){return t[0]=e,t[1]=n,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},i.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i.equals=function(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))},e.exports=i},{"./common.js":164}],171:[function(t,e,n){var r=t("./common.js"),i={};i.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},i.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t},i.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,f=3*u*a,h=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*f+i[0]*h,t[1]=e[1]*l+n[1]*c+r[1]*f+i[1]*h,t[2]=e[2]*l+n[2]*c+r[2]*f+i[2]*h,t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,f=l*i+u*r-a*o,h=l*o+a*i-s*r,p=-a*r-s*i-u*o;return t[0]=c*l+p*-a+f*-u-h*-s,t[1]=f*l+p*-s+h*-a-c*-u,t[2]=h*l+p*-u+c*-s-f*-a,t},i.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))},e.exports=i},{"./common.js":164}],172:[function(t,e,n){var r=t("./common.js"),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.fromValues=function(t,e,n,i){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],
t[2]=e[2],t[3]=e[3],t},i.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},i.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,f=l*i+u*r-a*o,h=l*o+a*i-s*r,p=-a*r-s*i-u*o;return t[0]=c*l+p*-a+f*-u-h*-s,t[1]=f*l+p*-s+h*-a-c*-u,t[2]=h*l+p*-u+c*-s-f*-a,t[3]=e[3],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},e.exports=i},{"./common.js":164}],173:[function(t,e,n){"use strict";function r(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],n=o[2],this.d=e+2*n;for(var a=0;a<this.d*this.d;a++){var s=o[i+a],u=o[i+a+1];r.push(s===u?null:o.subarray(s,u))}var l=o[i+r.length],c=o[i+r.length+1];this.keys=o.subarray(l,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var f=0;f<this.d*this.d;f++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var h=n/e*t;this.min=-h,this.max=t+h}e.exports=r;var i=3;r.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},r.prototype.query=function(t,e,n,r){var i=this.min,o=this.max;if(t<=i&&e<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,n,r,this._queryCell,a,s),a},r.prototype._queryCell=function(t,e,n,r,i,o,a){var s=this.cells[i];if(null!==s)for(var u=this.keys,l=this.bboxes,c=0;c<s.length;c++){var f=s[c];if(void 0===a[f]){var h=4*f;t<=l[h+2]&&e<=l[h+3]&&n>=l[h+0]&&r>=l[h+1]?(a[f]=!0,o.push(u[f])):a[f]=!1}}},r.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this._convertToCellCoord(t),u=this._convertToCellCoord(e),l=this._convertToCellCoord(n),c=this._convertToCellCoord(r),f=s;f<=l;f++)for(var h=u;h<=c;h++){var p=this.d*h+f;if(i.call(this,t,e,n,r,p,o,a))return}},r.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=i+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var o=new Int32Array(e+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var u=t[s];o[i+s]=a,o.set(u,a),a+=u.length}return o[i+t.length]=a,o.set(this.keys,a),a+=this.keys.length,o[i+t.length+1]=a,o.set(this.bboxes,a),a+=this.bboxes.length,o.buffer}},{}],174:[function(t,e,n){"use strict";function r(t,e){var n;if(f(t)){var u,l=t.stops&&"object"==typeof t.stops[0][0],c=l||void 0!==t.property,h=l||!c,p=t.type||e||"exponential";if("exponential"===p)u=a;else if("interval"===p)u=o;else if("categorical"===p)u=i;else{if("identity"!==p)throw new Error('Unknown function type "'+p+'"');u=s}if(l){for(var d={},m=[],v=0;v<t.stops.length;v++){var y=t.stops[v];void 0===d[y[0].zoom]&&(d[y[0].zoom]={zoom:y[0].zoom,type:t.type,property:t.property,stops:[]}),d[y[0].zoom].stops.push([y[0].value,y[1]])}for(var g in d)m.push([d[g].zoom,r(d[g])]);n=function(e,n){return a({stops:m,base:t.base},e)(e,n)},n.isFeatureConstant=!1,n.isZoomConstant=!1}else h?(n=function(e){return u(t,e)},n.isFeatureConstant=!0,n.isZoomConstant=!1):(n=function(e,n){return u(t,n[t.property])},n.isFeatureConstant=!1,n.isZoomConstant=!0)}else n=function(){return t},n.isFeatureConstant=!0,n.isZoomConstant=!0;return n}function i(t,e){for(var n=0;n<t.stops.length;n++)if(e===t.stops[n][0])return t.stops[n][1];return t.stops[0][1]}function o(t,e){for(var n=0;n<t.stops.length&&!(e<t.stops[n][0]);n++);return t.stops[Math.max(n-1,0)][1]}function a(t,e){for(var n=void 0!==t.base?t.base:1,r=0;;){if(r>=t.stops.length)break;if(e<=t.stops[r][0])break;r++}return 0===r?t.stops[r][1]:r===t.stops.length?t.stops[r-1][1]:u(e,n,t.stops[r-1][0],t.stops[r][0],t.stops[r-1][1],t.stops[r][1])}function s(t,e){return e}function u(t,e,n,r,i,o){return"function"==typeof i?function(){var a=i.apply(void 0,arguments),s=o.apply(void 0,arguments);return u(t,e,n,r,a,s)}:i.length?c(t,e,n,r,i,o):l(t,e,n,r,i,o)}function l(t,e,n,r,i,o){var a,s=r-n,u=t-n;return a=1===e?u/s:(Math.pow(e,u)-1)/(Math.pow(e,s)-1),i*(1-a)+o*a}function c(t,e,n,r,i,o){for(var a=[],s=0;s<i.length;s++)a[s]=l(t,e,n,r,i[s],o[s]);return a}function f(t){return"object"==typeof t&&(t.stops||"identity"===t.type)}e.exports.isFunctionDefinition=f,e.exports.interpolated=function(t){return r(t,"exponential")},e.exports["piecewise-constant"]=function(t){return r(t,"interval")}},{}],175:[function(t,e,n){t("path");e.exports={debug:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},circle:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    float t = smoothstep(1.0 - max(blur, v_antialiasblur), 1.0, length(v_extrude));\n    gl_FragColor = color * (1.0 - t) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform vec2 u_extrude_scale;\nuniform float u_devicepixelratio;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define lowp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main(void) {\n    #pragma mapbox: initialize lowp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    if (u_scale_with_map) {\n        gl_Position.xy += extrude;\n    } else {\n        gl_Position.xy += extrude * gl_Position.w;\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    v_antialiasblur = 1.0 / u_devicepixelratio / radius;\n}\n"},line:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp float u_opacity;\nuniform float u_blur;\n\n#pragma mapbox: define lowp vec4 color\n\nvarying vec2 v_linewidth;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform mediump float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\nuniform mediump float u_blur;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linepattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_blur;\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_linewidth.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_linewidth.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    alpha *= u_opacity;\n\n    gl_FragColor = color * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform mediump float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n    v_linesofar = a_linesofar;\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},linesdfpattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform lowp float u_opacity;\n\nuniform float u_blur;\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_linewidth.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_linewidth.t) or when fading out\n    // (v_linewidth.s)\n    float blur = u_blur * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_linewidth.t - blur), v_linewidth.s - dist) / blur, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_linewidth;\nuniform mediump float u_gapwidth;\nuniform mediump float u_antialiasing;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform float u_extra;\nuniform mat2 u_antialiasingmatrix;\nuniform mediump float u_offset;\n\nvarying vec2 v_normal;\nvarying vec2 v_linewidth;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 color\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    float inset = u_gapwidth + (u_gapwidth > 0.0 ? u_antialiasing : 0.0);\n    float outset = u_gapwidth + u_linewidth * (u_gapwidth > 0.0 ? 2.0 : 1.0) + u_antialiasing;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset = u_offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit of the position before scaling it with the\n    // model/view matrix.\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5) + (offset + dist) / u_ratio, 0.0, 1.0);\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    // position of y on the screen\n    float y = gl_Position.y / gl_Position.w;\n\n    // how much features are squished in the y direction by the tilt\n    float squish_scale = length(a_extrude) / length(u_antialiasingmatrix * a_extrude);\n\n    // how much features are squished in all directions by the perspectiveness\n    float perspective_scale = 1.0 / (1.0 - min(y * u_extra, 0.9));\n\n    v_linewidth = vec2(outset, inset);\n    v_gamma_scale = perspective_scale * squish_scale;\n}\n"},outline:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},outlinepattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = smoothstep(1.0, 0.0, dist);\n    \n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    vec2 scaled_size_a = u_scale_a * u_pattern_size_a;\n    vec2 scaled_size_b = u_scale_b * u_pattern_size_b;\n\n    // the correct offset needs to be calculated.\n    //\n    // The offset depends on how many pixels are between the world origin and\n    // the edge of the tile:\n    // vec2 offset = mod(pixel_coord, size)\n    //\n    // At high zoom levels there are a ton of pixels between the world origin\n    // and the edge of the tile. The glsl spec only guarantees 16 bits of\n    // precision for highp floats. We need more than that.\n    //\n    // The pixel_coord is passed in as two 16 bit values:\n    // pixel_coord_upper = floor(pixel_coord / 2^16)\n    // pixel_coord_lower = mod(pixel_coord, 2^16)\n    //\n    // The offset is calculated in a series of steps that should preserve this precision:\n    vec2 offset_a = mod(mod(mod(u_pixel_coord_upper, scaled_size_a) * 256.0, scaled_size_a) * 256.0 + u_pixel_coord_lower, scaled_size_a);\n    vec2 offset_b = mod(mod(mod(u_pixel_coord_upper, scaled_size_b) * 256.0, scaled_size_b) * 256.0 + u_pixel_coord_lower, scaled_size_b);\n\n    v_pos_a = (u_tile_units_to_pixels * a_pos + offset_a) / scaled_size_a;\n    v_pos_b = (u_tile_units_to_pixels * a_pos + offset_b) / scaled_size_b;\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},pattern:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    vec2 scaled_size_a = u_scale_a * u_pattern_size_a;\n    vec2 scaled_size_b = u_scale_b * u_pattern_size_b;\n\n    // the correct offset needs to be calculated.\n    //\n    // The offset depends on how many pixels are between the world origin and\n    // the edge of the tile:\n    // vec2 offset = mod(pixel_coord, size)\n    //\n    // At high zoom levels there are a ton of pixels between the world origin\n    // and the edge of the tile. The glsl spec only guarantees 16 bits of\n    // precision for highp floats. We need more than that.\n    //\n    // The pixel_coord is passed in as two 16 bit values:\n    // pixel_coord_upper = floor(pixel_coord / 2^16)\n    // pixel_coord_lower = mod(pixel_coord, 2^16)\n    //\n    // The offset is calculated in a series of steps that should preserve this precision:\n    vec2 offset_a = mod(mod(mod(u_pixel_coord_upper, scaled_size_a) * 256.0, scaled_size_a) * 256.0 + u_pixel_coord_lower, scaled_size_a);\n    vec2 offset_b = mod(mod(mod(u_pixel_coord_upper, scaled_size_b) * 256.0, scaled_size_b) * 256.0 + u_pixel_coord_lower, scaled_size_b);\n\n    v_pos_a = (u_tile_units_to_pixels * a_pos + offset_a) / scaled_size_a;\n    v_pos_b = (u_tile_units_to_pixels * a_pos + offset_b) / scaled_size_b;\n}\n"},raster:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_opacity0;\nuniform float u_opacity1;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = color0 * u_opacity0 + color1 * u_opacity1;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb), color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",
vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},icon:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp float u_opacity;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * u_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n    if (u_rotate_with_map) {\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},sdf:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform lowp vec4 u_color;\nuniform lowp float u_opacity;\nuniform lowp float u_buffer;\nuniform lowp float u_gamma;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\n    lowp float gamma = u_gamma * v_gamma_scale;\n    lowp float alpha = smoothstep(u_buffer - gamma, u_buffer + gamma, dist) * fade_alpha;\n\n    gl_FragColor = u_color * (alpha * u_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nconst float PI = 3.141592653589793;\n\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_texture_pos;\nattribute vec4 a_data;\n\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform bool u_pitch_with_map;\nuniform mediump float u_pitch;\nuniform mediump float u_bearing;\nuniform mediump float u_aspect_ratio;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\n\nvoid main() {\n    vec2 a_tex = a_texture_pos.xy;\n    mediump float a_labelminzoom = a_data[0];\n    mediump vec2 a_zoom = a_data.pq;\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // u_zoom is the current zoom level adjusted for the change in font size\n    mediump float z = 2.0 - step(a_minzoom, u_zoom) - (1.0 - step(a_maxzoom, u_zoom));\n\n    // pitch-alignment: map\n    // rotation-alignment: map | viewport\n    if (u_pitch_with_map) {\n        lowp float angle = u_rotate_with_map ? (a_data[1] / 256.0 * 2.0 * PI) : u_bearing;\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\n        vec2 offset = RotationMatrix * a_offset;\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: map\n    } else if (u_rotate_with_map) {\n        // foreshortening factor to apply on pitched maps\n        // as a label goes from horizontal <=> vertical in angle\n        // it goes from 0% foreshortening to up to around 70% foreshortening\n        lowp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\n\n        lowp float lineangle = a_data[1] / 256.0 * 2.0 * PI;\n\n        // use the lineangle to position points a,b along the line\n        // project the points and calculate the label angle in projected space\n        // this calculation allows labels to be rendered unskewed on pitched maps\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(lineangle),sin(lineangle)), 0, 1);\n        lowp float angle = atan((b[1]/b[3] - a[1]/a[3])/u_aspect_ratio, b[0]/b[3] - a[0]/a[3]);\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\n\n        vec2 offset = RotationMatrix * (vec2((1.0-pitchfactor)+(pitchfactor*cos(angle*2.0)), 1.0) * a_offset);\n        vec2 extrude = u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: viewport\n    } else {\n        vec2 extrude = u_extrude_scale * (a_offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_gamma_scale = (gl_Position.w - 0.5);\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"},collisionbox:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n#define lowp\n#define mediump\n#define highp\n#endif\n\nattribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n}\n"}},e.exports.util="float evaluate_zoom_function_1(const vec4 values, const float t) {\n    if (t < 1.0) {\n        return mix(values[0], values[1], t);\n    } else if (t < 2.0) {\n        return mix(values[1], values[2], t - 1.0);\n    } else {\n        return mix(values[2], values[3], t - 2.0);\n    }\n}\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\n    if (t < 1.0) {\n        return mix(value0, value1, t);\n    } else if (t < 2.0) {\n        return mix(value1, value2, t - 1.0);\n    } else {\n        return mix(value2, value3, t - 2.0);\n    }\n}\n"},{path:2}],176:[function(t,e,n){"use strict";function r(t,e){this.message=(t?t+": ":"")+i.apply(i,Array.prototype.slice.call(arguments,2)),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var i=t("util").format;e.exports=r},{util:12}],177:[function(t,e,n){"use strict";e.exports=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}},{}],178:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],179:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}},{}],180:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("../util/extend");e.exports=function(e){var n=t("./validate_function"),a=t("./validate_object"),s={"*":function(){return[]},array:t("./validate_array"),"boolean":t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),"enum":t("./validate_enum"),filter:t("./validate_filter"),"function":t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),string:t("./validate_string")},u=e.value,l=e.valueSpec,c=e.key,f=e.styleSpec,h=e.style;if("string"===i(u)&&"@"===u[0]){if(f.$version>7)return[new r(c,u,"constants have been deprecated as of v8")];if(!(u in h.constants))return[new r(c,u,'constant "%s" not found',u)];e=o({},e,{value:h.constants[u]})}return l["function"]&&"object"===i(u)?n(e):l.type&&s[l.type]?s[l.type](e):a(o({},e,{valueSpec:l.type?f[l.type]:l}))}},{"../error/validation_error":176,"../util/extend":177,"../util/get_type":178,"./validate_array":181,"./validate_boolean":182,"./validate_color":183,"./validate_constants":184,"./validate_enum":185,"./validate_filter":186,"./validate_function":187,"./validate_layer":189,"./validate_number":191,"./validate_object":192,"./validate_source":194,"./validate_string":195}],181:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.valueSpec,a=t.style,s=t.styleSpec,u=t.key,l=t.arrayElementValidator||i;if("array"!==r(e))return[new o(u,e,"array expected, %s found",r(e))];if(n.length&&e.length!==n.length)return[new o(u,e,"array length %d expected, length %d found",n.length,e.length)];if(n["min-length"]&&e.length<n["min-length"])return[new o(u,e,"array length at least %d expected, length %d found",n["min-length"],e.length)];var c={type:n.value};s.$version<7&&(c["function"]=n["function"]),"object"===r(n.value)&&(c=n.value);for(var f=[],h=0;h<e.length;h++)f=f.concat(l({array:e,arrayIndex:h,value:e[h],valueSpec:c,style:a,styleSpec:s,key:u+"["+h+"]"}));return f}},{"../error/validation_error":176,"../util/get_type":178,"./validate":180}],182:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=r(e);return"boolean"!==o?[new i(n,e,"boolean expected, %s found",o)]:[]}},{"../error/validation_error":176,"../util/get_type":178}],183:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,n=t.value,a=i(n);return"string"!==a?[new r(e,n,"color expected, %s found",a)]:null===o(n)?[new r(e,n,'color expected, "%s" found',n)]:[]}},{"../error/validation_error":176,"../util/get_type":178,csscolorparser:149}],184:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type");e.exports=function(t){var e=t.key,n=t.value,o=t.styleSpec;if(o.$version>7)return n?[new r(e,n,"constants have been deprecated as of v8")]:[];var a=i(n);if("object"!==a)return[new r(e,n,"object expected, %s found",a)];var s=[];for(var u in n)"@"!==u[0]&&s.push(new r(e+"."+u,n[u],'constants must start with "@"'));return s}},{"../error/validation_error":176,"../util/get_type":178}],185:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=[];return o.values.indexOf(i(n))===-1&&a.push(new r(e,n,"expected one of [%s], %s found",o.values.join(", "),n)),a}},{"../error/validation_error":176,"../util/unbundle_jsonlint":179}],186:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("./validate_enum"),o=t("../util/get_type"),a=t("../util/unbundle_jsonlint");e.exports=function s(t){var e,n=t.value,u=t.key,l=t.styleSpec,c=[];if("array"!==o(n))return[new r(u,n,"array expected, %s found",o(n))];if(n.length<1)return[new r(u,n,"filter array must have at least 1 element")];switch(c=c.concat(i({key:u+"[0]",value:n[0],valueSpec:l.filter_operator,style:t.style,styleSpec:t.styleSpec})),a(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"==n[1]&&c.push(new r(u,n,'"$type" cannot be use with operator "%s"',n[0]));case"==":case"!=":3!=n.length&&c.push(new r(u,n,'filter array for operator "%s" must have 3 elements',n[0]));case"in":case"!in":n.length>=2&&(e=o(n[1]),"string"!==e?c.push(new r(u+"[1]",n[1],"string expected, %s found",e)):"@"===n[1][0]&&c.push(new r(u+"[1]",n[1],"filter key cannot be a constant")));for(var f=2;f<n.length;f++)e=o(n[f]),"$type"==n[1]?c=c.concat(i({key:u+"["+f+"]",value:n[f],valueSpec:l.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"===e&&"@"===n[f][0]?c.push(new r(u+"["+f+"]",n[f],"filter value cannot be a constant")):"string"!==e&&"number"!==e&&"boolean"!==e&&c.push(new r(u+"["+f+"]",n[f],"string, number, or boolean expected, %s found",e));break;case"any":case"all":case"none":for(f=1;f<n.length;f++)c=c.concat(s({key:u+"["+f+"]",value:n[f],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":e=o(n[1]),2!==n.length?c.push(new r(u,n,'filter array for "%s" operator must have 2 elements',n[0])):"string"!==e?c.push(new r(u+"[1]",n[1],"string expected, %s found",e)):"@"===n[1][0]&&c.push(new r(u+"[1]",n[1],"filter key cannot be a constant"))}return c}},{"../error/validation_error":176,"../util/get_type":178,"../util/unbundle_jsonlint":179,"./validate_enum":185}],187:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate"),a=t("./validate_object"),s=t("./validate_array"),u=t("./validate_number");e.exports=function(t){function e(t){var e=[],o=t.value;return e=e.concat(s({key:t.key,value:o,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:n})),"array"===i(o)&&0===o.length&&e.push(new r(t.key,o,"array must have at least one stop")),e}function n(t){var e=[],n=t.value,s=t.key;if("array"!==i(n))return[new r(s,n,"array expected, %s found",i(n))];if(2!==n.length)return[new r(s,n,"array length %d expected, length %d found",2,n.length)];var h=i(n[0]);if(c||(c=h),h!==c)return[new r(s,n,"%s stop key type must match previous stop key type %s",h,c)];if("object"===h){if(void 0===n[0].zoom)return[new r(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new r(s,n,"object stop key must have value")];e=e.concat(a({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:u,value:l}}))}else e=e.concat((p?u:l)({key:s+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec}));return e=e.concat(o({key:s+"[1]",value:n[1],valueSpec:f,style:t.style,styleSpec:t.styleSpec})),"number"===i(n[0])&&("piecewise-constant"===f["function"]&&n[0]%1!==0&&e.push(new r(s+"[0]",n[0],"zoom level for piecewise-constant functions must be an integer")),0!==t.arrayIndex&&n[0]<t.array[t.arrayIndex-1][0]&&e.push(new r(s+"[0]",n[0],"array stops must appear in ascending order"))),e}function l(t){var e=[],n=i(t.value);return"number"!==n&&"string"!==n&&"array"!==n&&e.push(new r(t.key,t.value,"property value must be a number, string or array")),e}var c,f=t.valueSpec,h=void 0!==t.value.property||"object"===c,p=void 0===t.value.property||"object"===c,d=a({key:t.key,value:t.value,valueSpec:t.styleSpec["function"],style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e}});return t.styleSpec.$version>=8&&(h&&!t.valueSpec["property-function"]?d.push(new r(t.key,t.value,"property functions not supported")):p&&!t.valueSpec["zoom-function"]&&d.push(new r(t.key,t.value,"zoom functions not supported"))),d}},{"../error/validation_error":176,"../util/get_type":178,"./validate":180,"./validate_array":181,"./validate_number":191,"./validate_object":192}],188:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("./validate_string");e.exports=function(t){var e=t.value,n=t.key,o=i(t);return o.length?o:(e.indexOf("{fontstack}")===-1&&o.push(new r(n,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&o.push(new r(n,e,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":176,"./validate_string":195}],189:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),u=t("./validate_layout_property"),l=t("../util/extend");e.exports=function(t){var e=[],n=t.value,c=t.key,f=t.style,h=t.styleSpec;n.type||n.ref||e.push(new r(c,n,'either "type" or "ref" is required'));var p=i(n.type),d=i(n.ref);if(n.id)for(var m=0;m<t.arrayIndex;m++){var v=f.layers[m];i(v.id)===i(n.id)&&e.push(new r(c,n.id,'duplicate layer id "%s", previously used at line %d',n.id,v.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new r(c,n[t],'"%s" is prohibited for ref layers',t))});var y;f.layers.forEach(function(t){t.id==d&&(y=t)}),y?y.ref?e.push(new r(c,n.ref,"ref cannot reference another ref layer")):p=i(y.type):e.push(new r(c,n.ref,'ref layer "%s" not found',d))}else if("background"!==p)if(n.source){var g=f.sources&&f.sources[n.source];g?"vector"==g.type&&"raster"==p?e.push(new r(c,n.source,'layer "%s" requires a raster source',n.id)):"raster"==g.type&&"raster"!=p?e.push(new r(c,n.source,'layer "%s" requires a vector source',n.id)):"vector"!=g.type||n["source-layer"]||e.push(new r(c,n,'layer "%s" must specify a "source-layer"',n.id)):e.push(new r(c,n.source,'source "%s" not found',n.source))}else e.push(new r(c,n,'missing required property "source"'));return e=e.concat(o({key:c,value:n,valueSpec:h.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{filter:a,layout:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return u(l({layerType:p},t))}}})},paint:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(l({layerType:p},t))}}})}}}))}},{"../error/validation_error":176,"../util/extend":177,"../util/unbundle_jsonlint":179,"./validate_filter":186,"./validate_layout_property":190,"./validate_object":192,"./validate_paint_property":193}],190:[function(t,e,n){"use strict";var r=t("./validate"),i=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.style,o=t.styleSpec,a=t.value,s=t.objectKey,u=o["layout_"+t.layerType];if(t.valueSpec||u[s]){var l=[];return"symbol"===t.layerType&&("icon-image"===s&&n&&!n.sprite?l.push(new i(e,a,'use of "icon-image" requires a style "sprite" property')):"text-field"===s&&n&&!n.glyphs&&l.push(new i(e,a,'use of "text-field" requires a style "glyphs" property'))),l.concat(r({key:t.key,value:a,valueSpec:t.valueSpec||u[s],style:n,styleSpec:o}))}return[new i(e,a,'unknown property "%s"',s)]}},{"../error/validation_error":176,"./validate":180}],191:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=r(n);return"number"!==a?[new i(e,n,"number expected, %s found",a)]:"minimum"in o&&n<o.minimum?[new i(e,n,"%s is less than the minimum value %s",n,o.minimum)]:"maximum"in o&&n>o.maximum?[new i(e,n,"%s is greater than the maximum value %s",n,o.maximum)]:[]}},{"../error/validation_error":176,"../util/get_type":178}],192:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.key,n=t.value,a=t.valueSpec,s=t.objectElementValidators||{},u=t.style,l=t.styleSpec,c=[],f=i(n);if("object"!==f)return[new r(e,n,"object expected, %s found",f)];for(var h in n){var p=h.split(".")[0],d=a&&(a[p]||a["*"]),m=s[p]||s["*"];d||m?c=c.concat((m||o)({key:(e?e+".":e)+h,value:n[h],valueSpec:d,style:u,styleSpec:l,object:n,objectKey:h})):""!==e&&1!==e.split(".").length&&c.push(new r(e,n[h],'unknown property "%s"',h))}for(p in a)a[p].required&&void 0===a[p]["default"]&&void 0===n[p]&&c.push(new r(e,n,'missing required property "%s"',p));return c}},{"../error/validation_error":176,"../util/get_type":178,"./validate":180}],193:[function(t,e,n){"use strict";var r=t("./validate"),i=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.style,o=t.styleSpec,a=t.value,s=t.objectKey,u=o["paint_"+t.layerType],l=s.match(/^(.*)-transition$/);return l&&u[l[1]]&&u[l[1]].transition?r({key:e,value:a,valueSpec:o.transition,style:n,styleSpec:o}):t.valueSpec||u[s]?r({key:t.key,value:a,valueSpec:t.valueSpec||u[s],style:n,styleSpec:o}):[new i(e,a,'unknown property "%s"',s)]}},{"../error/validation_error":176,"./validate":180}],194:[function(t,e,n){"use strict";var r=t("../error/validation_error"),i=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,n=t.key,s=t.styleSpec,u=t.style;if(!e.type)return[new r(n,e,'"type" is required')];var l=i(e.type);switch(l){case"vector":case"raster":var c=[];if(c=c.concat(o({key:n,value:e,valueSpec:s.source_tile,style:t.style,styleSpec:s})),"url"in e)for(var f in e)["type","url","tileSize"].indexOf(f)<0&&c.push(new r(n+"."+f,e[f],'a source with a "url" property may not include a "%s" property',f));return c;case"geojson":return o({key:n,value:e,valueSpec:s.source_geojson,style:u,styleSpec:s});case"video":return o({key:n,value:e,valueSpec:s.source_video,style:u,styleSpec:s});case"image":return o({key:n,value:e,valueSpec:s.source_image,style:u,styleSpec:s});default:return a({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image"]},style:u,styleSpec:s})}}},{"../error/validation_error":176,"../util/unbundle_jsonlint":179,"./validate_enum":185,"./validate_object":192}],195:[function(t,e,n){"use strict";var r=t("../util/get_type"),i=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=r(e);return"string"!==o?[new i(n,e,"string expected, %s found",o)]:[]}},{"../error/validation_error":176,"../util/get_type":178}],196:[function(t,e,n){"use strict";function r(t,e){e=e||u;var n=[];return n=n.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:l}})),e.$version>7&&t.constants&&(n=n.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),i(n)}function i(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function o(t){return function(){return i(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),u=t("../reference/latest.min"),l=t("./validate/validate_glyphs_url");r.source=o(t("./validate/validate_source")),r.layer=o(t("./validate/validate_layer")),r.filter=o(t("./validate/validate_filter")),r.paintProperty=o(t("./validate/validate_paint_property")),r.layoutProperty=o(t("./validate/validate_layout_property")),e.exports=r},{"../reference/latest.min":197,"./validate/validate":180,"./validate/validate_constants":184,"./validate/validate_filter":186,"./validate/validate_glyphs_url":188,"./validate/validate_layer":189,"./validate/validate_layout_property":190,"./validate/validate_paint_property":193,"./validate/validate_source":194}],197:[function(t,e,n){e.exports=t("./v8.min.json")},{"./v8.min.json":198}],198:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image"],source_tile:{type:{required:!0,type:"enum",values:["vector","raster"]},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:["geojson"]},data:{type:"*"},maxzoom:{type:"number","default":14},buffer:{type:"number","default":64},tolerance:{type:"number","default":3},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":400},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:["video"]},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:["image"]},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:["fill","line","symbol","circle","raster","background"]},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:22},maxzoom:{type:"number",minimum:0,maximum:22},interactive:{type:"boolean","default":!1},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},layout_fill:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},layout_circle:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["butt","round","square"],"default":"butt"},"line-join":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["bevel","round","miter"],"default":"miter"},"line-miter-limit":{type:"number","default":2,"function":"interpolated","zoom-function":!0,"property-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number","default":1.05,"function":"interpolated","zoom-function":!0,"property-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["point","line"],"default":"point"},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["icon-image"]},"icon-optional":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"viewport",requires:["icon-image"]},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-text-fit":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!1,values:["none","both","width","height"],"default":"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image","icon-text-fit","text-field"]},"icon-image":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"text-pitch-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],requires:["text-field"]},"text-rotation-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"viewport",requires:["text-field"]},"text-field":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":"",tokens:!0},"text-font":{type:"array",value:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number","default":10,minimum:0,units:"em","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number","default":1.2,units:"em","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number","default":0,units:"em","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["left","center","right"],"default":"center",requires:["text-field"]},"text-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"center",requires:["text-field"]},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated","zoom-function":!0,"property-function":!0,
requires:["text-field"]},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["none","uppercase","lowercase"],"default":"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems","function":"interpolated","zoom-function":!0,"property-function":!0,length:2,"default":[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["text-field"]},"text-optional":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!1,requires:["text-field","icon-image"]},visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},layout_raster:{visibility:{type:"enum","function":"piecewise-constant","zoom-function":!0,values:["visible","none"],"default":"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:["==","!=",">",">=","<","<=","in","!in","all","any","none","has","!has"]},geometry_type:{type:"enum",values:["Point","LineString","Polygon"]},color_operation:{type:"enum",values:["lighten","saturate","spin","fade","mix"]},"function":{stops:{type:"array",required:!0,value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string","default":"$zoom"},type:{type:"enum",values:["exponential","interval","categorical"],"default":"exponential"}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},paint:["paint_fill","paint_line","paint_circle","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":!0},"fill-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",requires:["fill-translate"]},"fill-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,transition:!0}},paint_line:{"line-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",requires:["line-translate"]},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number","default":0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant","zoom-function":!0,"property-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number","default":0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map"}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:["map","viewport"],"default":"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number","function":"interpolated","zoom-function":!0,"default":0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number","function":"interpolated","zoom-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}}}},{}],199:[function(t,e,n){"use strict";function r(t){return!!(i()&&o()&&a()&&s()&&u()&&l()&&c()&&f(t&&t.failIfMajorPerformanceCaveat))}function i(){return"undefined"!=typeof window&&"undefined"!=typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function u(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function l(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function f(t){return void 0===p[t]&&(p[t]=h(t)),p[t]}function h(t){var e=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",n)||e.probablySupportsContext("experimental-webgl",n):e.supportsContext?e.supportsContext("webgl",n)||e.supportsContext("experimental-webgl",n):e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}"undefined"!=typeof e&&e.exports?e.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var p={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],200:[function(t,e,n){"use strict";function r(t){var e;t&&t.length&&(e=t,t=e.length);var n=new Uint8Array(t||0);return e&&n.set(e),n.readUInt32LE=o.readUInt32LE,n.writeUInt32LE=o.writeUInt32LE,n.readInt32LE=o.readInt32LE,n.writeInt32LE=o.writeInt32LE,n.readFloatLE=o.readFloatLE,n.writeFloatLE=o.writeFloatLE,n.readDoubleLE=o.readDoubleLE,n.writeDoubleLE=o.writeDoubleLE,n.toString=o.toString,n.write=o.write,n.slice=o.slice,n.copy=o.copy,n._isBuffer=!0,n}function i(t){for(var e,n,r=t.length,i=[],o=0;o<r;o++){if(e=t.charCodeAt(o),e>55295&&e<57344){if(!n){e>56319||o+1===r?i.push(239,191,189):n=e;continue}if(e<56320){i.push(239,191,189),n=e;continue}e=n-55296<<10|e-56320|65536,n=null}else n&&(i.push(239,191,189),n=null);e<128?i.push(e):e<2048?i.push(e>>6|192,63&e|128):e<65536?i.push(e>>12|224,e>>6&63|128,63&e|128):i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return i}e.exports=r;var o,a,s,u=t("ieee754");o={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return u.read(this,t,!0,23,4)},readDoubleLE:function(t){return u.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return u.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return u.write(this,t,e,!0,52,8)},toString:function(t,e,n){var r="",i="";e=e||0,n=Math.min(this.length,n||this.length);for(var o=e;o<n;o++){var a=this[o];a<=127?(r+=decodeURIComponent(i)+String.fromCharCode(a),i=""):i+="%"+a.toString(16)}return r+=decodeURIComponent(i)},write:function(t,e){for(var n=t===a?s:i(t),r=0;r<n.length;r++)this[e+r]=n[r]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var n=0;n<this.length;n++)t[e+n]=this[n]}},o.writeInt32LE=o.writeUInt32LE,r.byteLength=function(t){return a=t,s=i(t),s.length},r.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:202}],201:[function(t,e,n){(function(n){"use strict";function r(t){this.buf=v.isBuffer(t)?t:new v(t||0),this.pos=0,this.length=this.buf.length}function i(t,e){var n,r=e.buf;if(n=r[e.pos++],t+=268435456*(127&n),n<128)return t;if(n=r[e.pos++],t+=34359738368*(127&n),n<128)return t;if(n=r[e.pos++],t+=4398046511104*(127&n),n<128)return t;if(n=r[e.pos++],t+=562949953421312*(127&n),n<128)return t;if(n=r[e.pos++],t+=72057594037927940*(127&n),n<128)return t;if(n=r[e.pos++],t+=0x8000000000000000*(127&n),n<128)return t;throw new Error("Expected varint not more than 10 bytes")}function o(t,e){e.realloc(10);for(var n=e.pos+10;t>=1;){if(e.pos>=n)throw new Error("Given varint doesn't fit into 10 bytes");var r=255&t;e.buf[e.pos++]=r|(t>=128?128:0),t/=128}}function a(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function s(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}e.exports=r;var v=n.Buffer||t("./buffer");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var y=4294967296,g=1/y,b=Math.pow(2,63);r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*y;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*y;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,n=this.buf;return e=n[this.pos++],t=127&e,e<128?t:(e=n[this.pos++],t|=(127&e)<<7,e<128?t:(e=n[this.pos++],t|=(127&e)<<14,e<128?t:(e=n[this.pos++],t|=(127&e)<<21,e<128?t:i(t,this))))},readVarint64:function(){var t=this.pos,e=this.readVarint();if(e<b)return e;for(var n=this.pos-2;255===this.buf[n];)n--;n<t&&(n=t),e=0;for(var r=0;r<n-t+1;r++){var i=127&~this.buf[t+r];e+=r<4?i<<7*r:i*Math.pow(2,7*r)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new v(e);this.buf.copy(n),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeUInt32LE(Math.floor(t*g),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeInt32LE(Math.floor(t*g),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t,t>268435455?void o(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=v.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&a(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,s,e)},writePackedSVarint:function(t,e){this.writeMessage(t,u,e)},writePackedBoolean:function(t,e){this.writeMessage(t,f,e)},writePackedFloat:function(t,e){this.writeMessage(t,l,e)},writePackedDouble:function(t,e){this.writeMessage(t,c,e)},writePackedFixed32:function(t,e){this.writeMessage(t,h,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,p,e)},writePackedFixed64:function(t,e){this.writeMessage(t,d,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,m,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":200}],202:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+p]=255&a,p+=d,a/=256,l-=8);t[n+p-d]|=128*m}},{}],203:[function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},{}],204:[function(t,e,n){"use strict";function r(t,e,n,a,s){for(n=n||0,a=a||t.length-1,s=s||o;a>n;){if(a-n>600){var u=a-n+1,l=e-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*f/u+h)),d=Math.min(a,Math.floor(e+(u-l)*f/u+h));r(t,e,p,d,s)}var m=t[e],v=n,y=a;for(i(t,n,e),s(t[a],m)>0&&i(t,n,a);v<y;){for(i(t,v,y),v++,y--;s(t[v],m)<0;)v++;for(;s(t[y],m)>0;)y--}0===s(t[n],m)?i(t,n,y):(y++,i(t,y,a)),y<=e&&(n=y+1),e<=y&&(a=y-1)}}function i(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function o(t,e){return t<e?-1:t>e?1:0}e.exports=r},{}],205:[function(t,e,n){void function(t,r){"function"==typeof define&&define.amd?define(r):"object"==typeof n?e.exports=r():t.resolveUrl=r()}(this,function(){function t(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(e,n.firstChild);for(var r,i=document.createElement("a"),o=1;o<t;o++)i.href=arguments[o],r=i.href,e.href=r;return n.removeChild(e),r}return t})},{}],206:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.ShelfPack=r()}(this,function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.stats={},this.count=function(t){this.stats[t]=(0|this.stats[t])+1}}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,r,i,o=[],a=0;a<t.length;a++)if(n=t[a].w||t[a].width,r=t[a].h||t[a].height,n&&r){if(i=this.packOne(n,r),!i)continue;e.inPlace&&(t[a].x=i.x,t[a].y=i.y),o.push(i)}if(this.shelves.length>0){for(var s=0,u=0,l=0;l<this.shelves.length;l++){var c=this.shelves[l];u+=c.h,s=Math.max(c.w-c.free,s)}this.resize(s,u)}return o},t.prototype.packOne=function(t,n){for(var r,i,o=0,a={shelf:-1,waste:1/0},s=0;s<this.shelves.length;s++){if(r=this.shelves[s],o+=r.h,n===r.h&&t<=r.free)return this.count(n),r.alloc(t,n);n>r.h||t>r.free||n<r.h&&t<=r.free&&(i=r.h-n,i<a.waste&&(a.waste=i,a.shelf=s))}if(a.shelf!==-1)return r=this.shelves[a.shelf],this.count(n),r.alloc(t,n);if(n<=this.h-o&&t<=this.w)return r=new e(o,this.w,n),this.shelves.push(r),this.count(n),r.alloc(t,n);if(this.autoResize){var u,l,c,f;return u=l=this.h,c=f=this.w,(c<=u||t>c)&&(f=2*Math.max(t,c)),(u<c||n>u)&&(l=2*Math.max(n,u)),this.resize(f,l),this.packOne(t,n)}return null},t.prototype.clear=function(){this.shelves=[],this.stats={}},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e){if(t>this.free||e>this.h)return null;var n=this.x;return this.x+=t,this.free-=t,{x:n,y:this.y,w:t,h:e,width:t,height:e}},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],207:[function(t,e,n){"use strict";function r(t){return new i(t)}function i(t){this.options=p(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function o(t,e,n,r){return{x:t,y:e,zoom:1/0,id:r,numPoints:n}}function a(t,e){var n=t.geometry.coordinates;return o(l(n[0]),c(n[1]),1,e)}function s(t){return{type:"Feature",properties:u(t),geometry:{type:"Point",coordinates:[f(t.x),h(t.y)]}}}function u(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return{cluster:!0,point_count:e,point_count_abbreviated:n}}function l(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function f(t){return 360*(t-.5)}function h(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function p(t,e){for(var n in e)t[n]=e[n];return t}function d(t){return t.x}function m(t){return t.y}var v=t("kdbush");e.exports=r,i.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var r=t.map(a);e&&console.timeEnd(n);for(var i=this.options.maxZoom;i>=this.options.minZoom;i--){var o=+Date.now();this.trees[i+1]=v(r,d,m,this.options.nodeSize,Float32Array),r=this._cluster(r,i),e&&console.log("z%d: %d clusters in %dms",i,r.length,+Date.now()-o)}return this.trees[this.options.minZoom]=v(r,d,m,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],r=n.range(l(t[0]),c(t[3]),l(t[2]),c(t[1])),i=[],o=0;o<r.length;o++){var a=n.points[r[o]];i.push(a.id!==-1?this.points[a.id]:s(a))}return i},getTile:function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options.extent,a=this.options.radius,s=a/o,u=(n-s)/i,l=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((e-s)/i,u,(e+1+s)/i,l),r.points,e,n,i,c),0===e&&this._addTileFeatures(r.range(1-s/i,u,1,l),r.points,i,n,i,c),e===i-1&&this._addTileFeatures(r.range(0,u,s/i,l),r.points,-1,n,i,c),c.features.length?c:null},_addTileFeatures:function(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=e[t[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:s.id!==-1?this.points[s.id].properties:u(s)})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=0;i<t.length;i++){var a=t[i];if(!(a.zoom<=e)){a.zoom=e;for(var s=this.trees[e+1],u=s.within(a.x,a.y,r),l=!1,c=a.numPoints,f=a.x*c,h=a.y*c,p=0;p<u.length;p++){var d=s.points[u[p]];e<d.zoom&&(l=!0,d.zoom=e,f+=d.x*d.numPoints,h+=d.y*d.numPoints,c+=d.numPoints)}n.push(l?o(f/c,h/c,c,-1):a)}}return n}}},{kdbush:208}],208:[function(t,e,n){"use strict";function r(t,e,n,r,o){return new i(t,e,n,r,o)}function i(t,e,n,r,i){e=e||o,n=n||a,i=i||Array,this.nodeSize=r||64,this.points=t,this.ids=new i(t.length),this.coords=new i(2*t.length);for(var u=0;u<t.length;u++)this.ids[u]=u,this.coords[2*u]=e(t[u]),this.coords[2*u+1]=n(t[u]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(t){return t[0]}function a(t){return t[1]}var s=t("./sort"),u=t("./range"),l=t("./within");e.exports=r,i.prototype={range:function(t,e,n,r){return u(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return l(this.ids,this.coords,t,e,n,this.nodeSize)}}},{"./range":209,"./sort":210,"./within":211}],209:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var f=l.pop(),h=l.pop(),p=l.pop();if(h-p<=a)for(var d=p;d<=h;d++)s=e[2*d],u=e[2*d+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[d]);else{var m=Math.floor((p+h)/2);s=e[2*m],u=e[2*m+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[m]);var v=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(p),l.push(m-1),l.push(v)),(0===f?i>=s:o>=u)&&(l.push(m+1),l.push(h),l.push(v))}}return c}e.exports=r},{}],210:[function(t,e,n){"use strict";function r(t,e,n,o,a,s){if(!(a-o<=n)){var u=Math.floor((o+a)/2);i(t,e,u,o,a,s%2),r(t,e,n,o,u-1,s+1),r(t,e,n,u+1,a,s+1)}}function i(t,e,n,r,a,s){for(;a>r;){if(a-r>600){var u=a-r+1,l=n-r+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(r,Math.floor(n-l*f/u+h)),d=Math.min(a,Math.floor(n+(u-l)*f/u+h));i(t,e,n,p,d,s)}var m=e[2*n+s],v=r,y=a;for(o(t,e,r,n),e[2*a+s]>m&&o(t,e,r,a);v<y;){for(o(t,e,v,y),v++,y--;e[2*v+s]<m;)v++;for(;e[2*y+s]>m;)y--}e[2*r+s]===m?o(t,e,r,y):(y++,o(t,e,y,a)),y<=n&&(r=y+1),n<=y&&(a=y-1)}}function o(t,e,n,r){a(t,n,r),a(e,2*n,2*r),a(e,2*n+1,2*r+1)}function a(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}e.exports=r},{}],211:[function(t,e,n){"use strict";function r(t,e,n,r,o,a){for(var s=[0,t.length-1,0],u=[],l=o*o;s.length;){var c=s.pop(),f=s.pop(),h=s.pop();
if(f-h<=a)for(var p=h;p<=f;p++)i(e[2*p],e[2*p+1],n,r)<=l&&u.push(t[p]);else{var d=Math.floor((h+f)/2),m=e[2*d],v=e[2*d+1];i(m,v,n,r)<=l&&u.push(t[d]);var y=(c+1)%2;(0===c?n-o<=m:r-o<=v)&&(s.push(h),s.push(d-1),s.push(y)),(0===c?n+o>=m:r+o>=v)&&(s.push(d+1),s.push(f),s.push(y))}}return u}function i(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}e.exports=r},{}],212:[function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||i,t)for(var n=Math.floor(this.length/2);n>=0;n--)this._down(n)}function i(t,e){return t<e?-1:t>e?1:0}function o(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}e.exports=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){var t=this.data[0];return this.data[0]=this.data[this.length-1],this.length--,this.data.pop(),this._down(0),t},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare;t>0;){var r=Math.floor((t-1)/2);if(!(n(e[t],e[r])<0))break;o(e,r,t),t=r}},_down:function(t){for(var e=this.data,n=this.compare,r=this.length;;){var i=2*t+1,a=i+1,s=t;if(i<r&&n(e[i],e[s])<0&&(s=i),a<r&&n(e[a],e[s])<0&&(s=a),s===t)return;o(e,s,t),t=s}}}},{}],213:[function(t,e,n){function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=r,r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){"undefined"==typeof e&&(e=1e-6);var n,r,i,o,a;for(i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=t,i<n)return n;if(i>r)return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],214:[function(t,e,n){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":215,"./lib/vectortilefeature.js":216,"./lib/vectortilelayer.js":217}],215:[function(t,e,n){"use strict";function r(t,e){this.layers=t.readFields(i,{},e)}function i(t,e,n){if(3===t){var r=new o(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}var o=t("./vectortilelayer");e.exports=r},{"./vectortilelayer":217}],216:[function(t,e,n){"use strict";function r(t,e,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=o,t.readFields(i,this,e)}function i(t,e,n){1==t?e.id=n.readVarint():2==t?o(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function o(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}function a(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=s(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}function s(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],n=t[a],r+=(n.x-e.x)*(e.y+n.y);return r}var u=t("point-geometry");e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=[];t.pos<n;){if(!i){var l=t.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new u(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},r.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-(1/0),u=1/0,l=-(1/0);t.pos<e;){if(!r){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=t.readSVarint(),o+=t.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},r.prototype.toGeoJSON=function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+c)/u;t[e]=[360*(n.x+l)/u-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var o,s,u=this.extent*Math.pow(2,n),l=this.extent*t,c=this.extent*e,f=this.loadGeometry(),h=r.types[this.type];switch(this.type){case 1:var p=[];for(o=0;o<f.length;o++)p[o]=f[o][0];f=p,i(f);break;case 2:for(o=0;o<f.length;o++)i(f[o]);break;case 3:for(f=a(f),o=0;o<f.length;o++)for(s=0;s<f[o].length;s++)i(f[o][s])}1===f.length?f=f[0]:h="Multi"+h;var d={type:"Feature",geometry:{type:h,coordinates:f},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"point-geometry":203}],217:[function(t,e,n){"use strict";function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(i,this,e),this.length=this._features.length}function i(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(o(n))}function o(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=r,r.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":216}],218:[function(t,e,n){function r(t){var e=[];for(var n in t.layers)e.push(o(t.layers[n]));var r=new c;return f.tile.write({layers:e},r),r.finish()}function i(t){var e={};for(var n in t)e[n]=new h(t[n].features),e[n].name=n;return r({layers:e})}function o(t){for(var e={name:t.name||"",version:t.version||1,extent:t.extent||4096,keys:[],values:[],features:[]},n={},r={},i=0;i<t.length;i++){var o=t.feature(i);o.geometry=u(o.loadGeometry());var a=[];for(var s in o.properties){var c=n[s];"undefined"==typeof c&&(e.keys.push(s),c=e.keys.length-1,n[s]=c);var f=l(o.properties[s]),h=r[f.key];"undefined"==typeof h&&(e.values.push(f),h=e.values.length-1,r[f.key]=h),a.push(c),a.push(h)}o.tags=a,e.features.push(o)}return e}function a(t,e){return(e<<3)+(7&t)}function s(t){return t<<1^t>>31}function u(t){for(var e=[],n=0,r=0,i=t.length,o=0;o<i;o++){var u=t[o];e.push(a(1,1));for(var l=0;l<u.length;l++){1===l&&e.push(a(2,u.length-1));var c=u[l].x-n,f=u[l].y-r;e.push(s(c),s(f)),n+=c,r+=f}}return e}function l(t){var e,n=typeof t;return"string"===n?e={string_value:t}:"boolean"===n?e={bool_value:t}:"number"===n?e=t%1!==0?{double_value:t}:t<0?{sint_value:t}:{uint_value:t}:(t=JSON.stringify(t),e={string_value:t}),e.key=n+":"+t,e}var c=t("pbf"),f=t("./vector-tile-pb"),h=t("./lib/geojson_wrapper");e.exports=r,e.exports.fromVectorTileJs=r,e.exports.fromGeojsonVt=i,e.exports.GeoJSONWrapper=h},{"./lib/geojson_wrapper":219,"./vector-tile-pb":220,pbf:201}],219:[function(t,e,n){"use strict";function r(t){this.features=t,this.length=t.length}function i(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var o=t("point-geometry"),a=t("vector-tile").VectorTileFeature;e.exports=r,r.prototype.feature=function(t){return new i(this.features[t])},i.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],i=0;i<n.length;i++)r.push(new o(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),r=1/0,i=-(1/0),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},i.prototype.toGeoJSON=a.prototype.toGeoJSON},{"point-geometry":203,"vector-tile":214}],220:[function(t,e,n){"use strict";function r(t,e){return t.readFields(i,{layers:[]},e)}function i(t,e,n){3===t&&e.layers.push(h(n,n.readVarint()+n.pos))}function o(t,e){var n;if(void 0!==t.layers)for(n=0;n<t.layers.length;n++)e.writeMessage(3,d,t.layers[n])}function a(t,e){return t.readFields(s,{},e)}function s(t,e,n){1===t?e.string_value=n.readString():2===t?e.float_value=n.readFloat():3===t?e.double_value=n.readDouble():4===t?e.int_value=n.readVarint():5===t?e.uint_value=n.readVarint():6===t?e.sint_value=n.readSVarint():7===t&&(e.bool_value=n.readBoolean())}function u(t,e){void 0!==t.string_value&&e.writeStringField(1,t.string_value),void 0!==t.float_value&&e.writeFloatField(2,t.float_value),void 0!==t.double_value&&e.writeDoubleField(3,t.double_value),void 0!==t.int_value&&e.writeVarintField(4,t.int_value),void 0!==t.uint_value&&e.writeVarintField(5,t.uint_value),void 0!==t.sint_value&&e.writeSVarintField(6,t.sint_value),void 0!==t.bool_value&&e.writeBooleanField(7,t.bool_value)}function l(t,e){var n=t.readFields(c,{},e);return void 0===n.type&&(n.type="Unknown"),n}function c(t,e,n){1===t?e.id=n.readVarint():2===t?e.tags=n.readPackedVarint():3===t?e.type=n.readVarint():4===t&&(e.geometry=n.readPackedVarint())}function f(t,e){void 0!==t.id&&e.writeVarintField(1,t.id),void 0!==t.tags&&e.writePackedVarint(2,t.tags),void 0!==t.type&&e.writeVarintField(3,t.type),void 0!==t.geometry&&e.writePackedVarint(4,t.geometry)}function h(t,e){return t.readFields(p,{features:[],keys:[],values:[]},e)}function p(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():2===t?e.features.push(l(n,n.readVarint()+n.pos)):3===t?e.keys.push(n.readString()):4===t?e.values.push(a(n,n.readVarint()+n.pos)):5===t&&(e.extent=n.readVarint())}function d(t,e){void 0!==t.version&&e.writeVarintField(15,t.version),void 0!==t.name&&e.writeStringField(1,t.name);var n;if(void 0!==t.features)for(n=0;n<t.features.length;n++)e.writeMessage(2,f,t.features[n]);if(void 0!==t.keys)for(n=0;n<t.keys.length;n++)e.writeStringField(3,t.keys[n]);if(void 0!==t.values)for(n=0;n<t.values.length;n++)e.writeMessage(4,u,t.values[n]);void 0!==t.extent&&e.writeVarintField(5,t.extent)}var m=n.tile={read:r,write:o};m.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},m.value={read:a,write:u},m.feature={read:l,write:f},m.layer={read:h,write:d}},{}],221:[function(t,e,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){function n(t){v[t]=!0;for(var e in i[t][1]){var r=i[t][1][e];v[r]||n(r)}}for(var s,u=Object.keys(o),l=0,c=u.length;l<c;l++){var f=u[l],h=o[f].exports;if(h===t||h&&h["default"]===t){s=f;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var p={},l=0,c=u.length;l<c;l++){var f=u[l];p[f]=f}i[s]=[Function(["require","module","exports"],"("+t+")(self)"),p]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[s]=s,i[d]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),m];var v={};n(d);var y="("+r+")({"+Object.keys(v).map(function(t){return a(t)+":["+i[t][0]+","+a(i[t][1])+"]"}).join(",")+"},{},["+a(d)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([y],{type:"text/javascript"});if(e&&e.bare)return b;var _=g.createObjectURL(b),x=new Worker(_);return x.objectURL=_,x}},{}],222:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.WhooTS=t.WhooTS||{})}(this,function(t){function e(t,e,r,i,o,a){a=a||{};var s=t+"?"+["bbox="+n(r,i,o),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&");return s}function n(t,e,n){e=Math.pow(2,n)-e-1;var i=r(256*t,256*e,n),o=r(256*(t+1),256*(e+1),n);return i[0]+","+i[1]+","+o[0]+","+o[1]}function r(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n),i=t*r-2*Math.PI*6378137/2,o=e*r-2*Math.PI*6378137/2;return[i,o]}t.getURL=e,t.getTileBBox=n,t.getMercCoords=r,Object.defineProperty(t,"__esModule",{value:!0})})},{}],223:[function(t,e,n){e.exports={name:"mapbox-gl",description:"A WebGL interactive maps library",version:"0.23.0",main:"js/mapbox-gl.js",license:"BSD-3-Clause",repository:{type:"git",url:"git://github.com/mapbox/mapbox-gl-js.git"},engines:{node:">=4.0.0"},dependencies:{csscolorparser:"^1.0.2",earcut:"^2.0.3","feature-filter":"^2.2.0","geojson-rewind":"^0.1.0","geojson-vt":"^2.4.0","gl-matrix":"^2.3.1","grid-index":"^1.0.0","mapbox-gl-function":"^1.2.1","mapbox-gl-shaders":"github:mapbox/mapbox-gl-shaders#df162476980d9ee2ab6f8d0cf5a06e27aac60472","mapbox-gl-style-spec":"github:mapbox/mapbox-gl-style-spec#83b1a3e5837d785af582efd5ed1a212f2df6a4ae","mapbox-gl-supported":"^1.2.0",pbf:"^1.3.2",pngjs:"^2.2.0","point-geometry":"^0.0.0",quickselect:"^1.0.0",request:"^2.39.0","resolve-url":"^0.2.1","shelf-pack":"^1.0.0",supercluster:"^2.0.1",tinyqueue:"^1.1.0",unassertify:"^2.0.0",unitbezier:"^0.0.0","vector-tile":"^1.3.0","vt-pbf":"^2.0.2",webworkify:"^1.3.0","whoots-js":"^2.0.0"},devDependencies:{"babel-preset-react":"^6.11.1",babelify:"^7.3.0",benchmark:"~2.1.0",browserify:"^13.0.0",clipboard:"^1.5.12","concat-stream":"1.5.1",coveralls:"^2.11.8",doctrine:"^1.2.1",documentation:"https://github.com/documentationjs/documentation/archive/bb41619c734e59ef3fbc3648610032efcfdaaace.tar.gz","documentation-theme-utils":"3.0.0",envify:"^3.4.0",eslint:"^3.3.1","eslint-config-mourner":"^2.0.0","eslint-plugin-html":"^1.5.1",gl:"^4.0.1",handlebars:"4.0.5","highlight.js":"9.3.0",istanbul:"^0.4.2",jsdom:"^9.4.2","jsdom-global":"^2.1.0","json-loader":"^0.5.4",lodash:"^4.13.1","mapbox-gl-test-suite":"github:mapbox/mapbox-gl-test-suite#35efbce663a0f13d37d34afac799e33178ee610a","memory-fs":"^0.3.0",minifyify:"^7.0.1","npm-run-all":"^3.0.0",nyc:"6.4.0",proxyquire:"^1.7.9",remark:"4.2.2","remark-html":"3.0.0",sinon:"^1.15.4",st:"^1.2.0",tap:"^5.7.0","transform-loader":"^0.2.3","unist-util-visit":"1.1.0",vinyl:"1.1.1","vinyl-fs":"2.4.3",watchify:"^3.7.0",webpack:"^1.13.1","webworkify-webpack":"^1.1.3"},browser:{"./js/util/ajax.js":"./js/util/browser/ajax.js","./js/util/browser.js":"./js/util/browser/browser.js","./js/util/canvas.js":"./js/util/browser/canvas.js","./js/util/dom.js":"./js/util/browser/dom.js","./js/util/web_worker.js":"./js/util/browser/web_worker.js"},scripts:{"build-dev":"browserify js/mapbox-gl.js --debug --standalone mapboxgl > dist/mapbox-gl-dev.js && tap --no-coverage test/build/dev.test.js","watch-dev":"watchify js/mapbox-gl.js --debug --standalone mapboxgl --outfile dist/mapbox-gl-dev.js --verbose","build-min":"browserify js/mapbox-gl.js --debug --transform unassertify --plugin [minifyify --map mapbox-gl.js.map --output dist/mapbox-gl.js.map] --standalone mapboxgl > dist/mapbox-gl.js && tap --no-coverage test/build/min.test.js","build-token":"browserify debug/access-token.js --debug --transform envify > debug/access-token-generated.js","watch-bench":"node bench/download-data.js && watchify bench/index.js --plugin [minifyify --no-map] --transform [babelify --presets react] --transform unassertify --transform envify --outfile bench/index-generated.js --verbose","start-server":"st --no-cache --localhost --port 9966 --index index.html .",start:"run-p build-token watch-dev watch-bench start-server","start-debug":"run-p build-token watch-dev start-server","start-bench":"run-p build-token watch-bench start-server","build-docs":"documentation build --github --format html --config documentation.yml --theme ./docs/_theme --output docs/api/",build:"npm run build-docs # invoked by publisher when publishing docs on the mb-pages branch","start-docs":"npm run build-min && npm run build-docs && jekyll serve --watch",lint:"eslint  --ignore-path .gitignore js test bench docs/_posts/examples/*.html","open-changed-examples":"git diff --name-only mb-pages HEAD -- docs/_posts/examples/*.html | awk '{print \"http://127.0.0.1:4000/mapbox-gl-js/example/\" substr($0,33,length($0)-37)}' | xargs open","test-suite":"node test/render.test.js && node test/query.test.js",test:"npm run lint && tap --reporter dot test/js test/build/webpack.test.js"},gitHead:"ea5a10f41d3de5226b89812d06c903b216f70748",bugs:{url:"https://github.com/mapbox/mapbox-gl-js/issues"},homepage:"https://github.com/mapbox/mapbox-gl-js#readme",_id:"mapbox-gl@0.23.0",_shasum:"ded6f2d7057df480695ed5c5ebf53ed478938643",_from:"mapbox-gl@>=0.23.0 <0.24.0",_npmVersion:"2.15.5",_nodeVersion:"4.4.5",_npmUser:{name:"lucaswoj",email:"lucas@lucaswoj.com"},dist:{shasum:"ded6f2d7057df480695ed5c5ebf53ed478938643",tarball:"https://registry.npmjs.org/mapbox-gl/-/mapbox-gl-0.23.0.tgz"},maintainers:[{name:"aaronlidman",email:"aaronlidman@gmail.com"},{name:"ajashton",email:"aj.ashton@gmail.com"},{name:"ansis",email:"ansis.brammanis@gmail.com"},{name:"bergwerkgis",email:"wb@bergwerk-gis.at"},{name:"bhousel",email:"bryan@mapbox.com"},{name:"bsudekum",email:"bobby@mapbox.com"},{name:"camilleanne",email:"camille@mapbox.com"},{name:"dnomadb",email:"damon@mapbox.com"},{name:"dthompson",email:"dthompson@gmail.com"},{name:"emilymcafee",email:"emily@mapbox.com"},{name:"flippmoke",email:"flippmoke@gmail.com"},{name:"freenerd",email:"spam@freenerd.de"},{name:"gretacb",email:"carol@mapbox.com"},{name:"ian29",email:"ian.villeda@gmail.com"},{name:"ianshward",email:"ian@mapbox.com"},{name:"ingalls",email:"nicholas.ingalls@gmail.com"},{name:"jfirebaugh",email:"john.firebaugh@gmail.com"},{name:"jrpruit1",email:"jake@jakepruitt.com"},{name:"karenzshea",email:"karen@mapbox.com"},{name:"kkaefer",email:"kkaefer@gmail.com"},{name:"lbud",email:"lauren@mapbox.com"},{name:"lucaswoj",email:"lucas@lucaswoj.com"},{name:"lxbarth",email:"alex@mapbox.com"},{name:"lyzidiamond",email:"lyzi@mapbox.com"},{name:"mapbox-admin",email:"accounts@mapbox.com"},{name:"mateov",email:"matt@mapbox.com"},{name:"mcwhittemore",email:"mcwhittemore@gmail.com"},{name:"miccolis",email:"jeff@miccolis.net"},{name:"mikemorris",email:"michael.patrick.morris@gmail.com"},{name:"morganherlocker",email:"morgan.herlocker@gmail.com"},{name:"mourner",email:"agafonkin@gmail.com"},{name:"nickidlugash",email:"nicki@mapbox.com"},{name:"rclark",email:"ryan.clark.j@gmail.com"},{name:"samanbb",email:"saman@mapbox.com"},{name:"sbma44",email:"tlee@mapbox.com"},{name:"scothis",email:"scothis@gmail.com"},{name:"sgillies",email:"sean@mapbox.com"},{name:"springmeyer",email:"dane@mapbox.com"},{name:"themarex",email:"patrick@mapbox.com"},{name:"tmcw",email:"tom@macwright.org"},{name:"tristen",email:"tristen.brown@gmail.com"},{name:"willwhite",email:"will@mapbox.com"},{name:"yhahn",email:"young@mapbox.com"}],_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/mapbox-gl-0.23.0.tgz_1472160560464_0.42593320249579847"},directories:{},_resolved:"https://registry.npmjs.org/mapbox-gl/-/mapbox-gl-0.23.0.tgz"}},{}],224:[function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g;e.exports={"default":"RFC3986",formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],225:[function(t,e,n){"use strict";var r=t("./utils"),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(t,e){for(var n={},r=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0;o<r.length;++o){var a,s,u=r[o],l=u.indexOf("]=")===-1?u.indexOf("="):u.indexOf("]=")+1;l===-1?(a=e.decoder(u),s=e.strictNullHandling?null:""):(a=e.decoder(u.slice(0,l)),s=e.decoder(u.slice(l+1))),i.call(n,a)?n[a]=[].concat(n[a]).concat(s):n[a]=s}return n},s=function l(t,e,n){if(!t.length)return e;var r,i=t.shift();if("[]"===i)r=[],r=r.concat(l(t,e,n));else{r=n.plainObjects?Object.create(null):{};var o="["===i[0]&&"]"===i[i.length-1]?i.slice(1,i.length-1):i,a=parseInt(o,10);!isNaN(a)&&i!==o&&String(a)===o&&a>=0&&n.parseArrays&&a<=n.arrayLimit?(r=[],r[a]=l(t,e,n)):r[o]=l(t,e,n)}return r},u=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^\.\[]+)/g,"[$1]"):t,o=/^([^\[\]]*)/,a=/(\[[^\[\]]*\])/g,u=o.exec(r),l=[];if(u[1]){if(!n.plainObjects&&i.call(Object.prototype,u[1])&&!n.allowPrototypes)return;l.push(u[1])}for(var c=0;null!==(u=a.exec(r))&&c<n.depth;)c+=1,(n.plainObjects||!i.call(Object.prototype,u[1].replace(/\[|\]/g,""))||n.allowPrototypes)&&l.push(u[1]);return u&&l.push("["+r.slice(u.index)+"]"),s(l,e,n)}};e.exports=function(t,e){var n=e||{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=n.parseArrays!==!1,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===t||null===t||"undefined"==typeof t)return n.plainObjects?Object.create(null):{};for(var i="string"==typeof t?a(t,n):t,s=n.plainObjects?Object.create(null):{},l=Object.keys(i),c=0;c<l.length;++c){var f=l[c],h=u(f,i[f],n);s=r.merge(s,h,n)}return r.compact(s)}},{"./utils":227}],226:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./formats"),o={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:r.encode,serializeDate:function(t){return a.call(t)},skipNulls:!1,strictNullHandling:!1},u=function l(t,e,n,i,o,a,s,u,c,f,h){var p=t;if("function"==typeof s)p=s(e,p);else if(p instanceof Date)p=f(p);else if(null===p){if(i)return a?a(e):e;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||r.isBuffer(p))return a?[h(a(e))+"="+h(a(p))]:[h(e)+"="+h(String(p))];var d=[];if("undefined"==typeof p)return d;var m;if(Array.isArray(s))m=s;else{var v=Object.keys(p);m=u?v.sort(u):v}for(var y=0;y<m.length;++y){var g=m[y];o&&null===p[g]||(d=Array.isArray(p)?d.concat(l(p[g],n(e,g),n,i,o,a,s,u,c,f,h)):d.concat(l(p[g],e+(c?"."+g:"["+g+"]"),n,i,o,a,s,u,c,f,h)))}return d};e.exports=function(t,e){var n=t,r=e||{},a="undefined"==typeof r.delimiter?s.delimiter:r.delimiter,l="boolean"==typeof r.strictNullHandling?r.strictNullHandling:s.strictNullHandling,c="boolean"==typeof r.skipNulls?r.skipNulls:s.skipNulls,f="boolean"==typeof r.encode?r.encode:s.encode,h=f?"function"==typeof r.encoder?r.encoder:s.encoder:null,p="function"==typeof r.sort?r.sort:null,d="undefined"!=typeof r.allowDots&&r.allowDots,m="function"==typeof r.serializeDate?r.serializeDate:s.serializeDate;if("undefined"==typeof r.format)r.format=i["default"];else if(!Object.prototype.hasOwnProperty.call(i.formatters,r.format))throw new TypeError("Unknown format option provided.");var v,y,g=i.formatters[r.format];if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");"function"==typeof r.filter?(y=r.filter,n=y("",n)):Array.isArray(r.filter)&&(y=r.filter,v=y);var b=[];if("object"!=typeof n||null===n)return"";var _;_=r.arrayFormat in o?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var x=o[_];v||(v=Object.keys(n)),p&&v.sort(p);for(var w=0;w<v.length;++w){var M=v[w];c&&null===n[M]||(b=b.concat(u(n[M],M,x,l,c,h,y,p,d,m,g)))}return b.join(a)}},{"./formats":224,"./utils":227}],227:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();n.arrayToObject=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)"undefined"!=typeof t[r]&&(n[r]=t[r]);return n},n.merge=function(t,e,i){if(!e)return t;if("object"!=typeof e){if(Array.isArray(t))t.push(e);else{if("object"!=typeof t)return[t,e];t[e]=!0}return t}if("object"!=typeof t)return[t].concat(e);var o=t;return Array.isArray(t)&&!Array.isArray(e)&&(o=n.arrayToObject(t,i)),Array.isArray(t)&&Array.isArray(e)?(e.forEach(function(e,o){r.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=n.merge(t[o],e,i):t.push(e):t[o]=e}),t):Object.keys(e).reduce(function(t,r){var o=e[r];return Object.prototype.hasOwnProperty.call(t,r)?t[r]=n.merge(t[r],o,i):t[r]=o,t},o)},n.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},n.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",r=0;r<e.length;++r){var o=e.charCodeAt(r);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=e.charAt(r):o<128?n+=i[o]:o<2048?n+=i[192|o>>6]+i[128|63&o]:o<55296||o>=57344?n+=i[224|o>>12]+i[128|o>>6&63]+i[128|63&o]:(r+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(r)),n+=i[240|o>>18]+i[128|o>>12&63]+i[128|o>>6&63]+i[128|63&o])}return n},n.compact=function(t,e){if("object"!=typeof t||null===t)return t;var r=e||[],i=r.indexOf(t);if(i!==-1)return r[i];if(r.push(t),Array.isArray(t)){for(var o=[],a=0;a<t.length;++a)t[a]&&"object"==typeof t[a]?o.push(n.compact(t[a],r)):"undefined"!=typeof t[a]&&o.push(t[a]);return o}var s=Object.keys(t);return s.forEach(function(e){t[e]=n.compact(t[e],r)}),t},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.isBuffer=function(t){return null!==t&&"undefined"!=typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},{}],228:[function(t,e,n){!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof n?e.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t){return t.filter(function(t){return!this[t]&&(this[t]=!0)},{})}function e(t,e){return Math.round(t/e)*e}function n(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.documentElement,i=f();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),{top:e.top+i.y-r.clientTop,left:e.left+i.x-r.clientLeft}}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(t,e,n){u(t,e),setTimeout(function(){l(t,e)},n)}function o(t){return Math.max(Math.min(t,100),0)}function a(t){return Array.isArray(t)?t:[t]}function s(t){var e=t.split(".");return e.length>1?e[1].length:0}function u(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function l(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function c(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function f(){var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||""),n=t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,r=t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop;return{x:n,y:r}}function h(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function p(t,e){return 100/(e-t)}function d(t,e){return 100*e/(t[1]-t[0])}function m(t,e){return d(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function v(t,e){return e*(t[1]-t[0])/100+t[0]}function y(t,e){for(var n=1;t>=e[n];)n+=1;return n}function g(t,e,n){if(n>=t.slice(-1)[0])return 100;var r,i,o,a,s=y(n,t);return r=t[s-1],i=t[s],o=e[s-1],a=e[s],o+m([r,i],n)/p(o,a)}function b(t,e,n){if(n>=100)return t.slice(-1)[0];var r,i,o,a,s=y(n,e);return r=t[s-1],i=t[s],o=e[s-1],a=e[s],v([r,i],(n-o)*p(o,a))}function _(t,n,r,i){if(100===i)return i;var o,a,s=y(i,t);return r?(o=t[s-1],a=t[s],i-o>(a-o)/2?a:o):n[s-1]?t[s-1]+e(i-t[s-1],n[s-1]):i}function x(t,e,n){var i;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider: 'range' contains invalid value.");if(i="min"===t?0:"max"===t?100:parseFloat(t),!r(i)||!r(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(i),n.xVal.push(e[0]),i?n.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(n.xSteps[0]=e[1])}function w(t,e,n){return!e||void(n.xSteps[t]=d([n.xVal[t],n.xVal[t+1]],e)/p(n.xPct[t],n.xPct[t+1]))}function M(t,e,n,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=e,this.direction=n;var i,o=[];for(i in t)t.hasOwnProperty(i)&&o.push([t[i],i]);for(o.length&&"object"==typeof o[0][0]?o.sort(function(t,e){return t[0][0]-e[0][0]}):o.sort(function(t,e){return t[0]-e[0]}),i=0;i<o.length;i++)x(o[i][1],o[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)w(i,this.xNumSteps[i],this)}function E(t,e){if(!r(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function S(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");t.spectrum=new M(e,t.snap,t.dir,t.singleStep)}function T(t,e){if(e=a(e),!Array.isArray(e)||!e.length||e.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function C(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function P(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function k(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function A(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(e===!0&&2===t.handles)t.connect=3;else{if(e!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function I(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function O(t,e){if(!r(e))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function R(t,e){if(!r(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function D(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function N(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,a=e.indexOf("hover")>=0;if(r&&!t.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");t.events={tap:n||o,drag:r,fixed:i,snap:o,hover:a}}function j(t,e){var n;if(e!==!1)if(e===!0)for(t.tooltips=[],n=0;n<t.handles;n++)t.tooltips.push(!0);else{if(t.tooltips=a(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");
t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function L(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function z(t,e){if(void 0!==e&&"string"!=typeof e&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function F(t,e){if(void 0!==e&&"object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix){t.cssClasses={};for(var n in e)e.hasOwnProperty(n)&&(t.cssClasses[n]=t.cssPrefix+e[n])}else t.cssClasses=e}function U(t){var e,n={margin:0,limit:0,animate:!0,animationDuration:300,format:q};e={step:{r:!1,t:E},start:{r:!0,t:T},connect:{r:!0,t:A},direction:{r:!0,t:D},snap:{r:!1,t:C},animate:{r:!1,t:P},animationDuration:{r:!1,t:k},range:{r:!0,t:S},orientation:{r:!1,t:I},margin:{r:!1,t:O},limit:{r:!1,t:R},behaviour:{r:!0,t:N},format:{r:!1,t:L},tooltips:{r:!1,t:j},cssPrefix:{r:!1,t:z},cssClasses:{r:!1,t:F}};var r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(e).forEach(function(i){if(void 0===t[i]&&void 0===r[i]){if(e[i].r)throw new Error("noUiSlider: '"+i+"' is required.");return!0}e[i].t(n,void 0===t[i]?r[i]:t[i])}),n.pips=t.pips,n.style=n.ort?"top":"left",n}function B(e,r,p){function d(t,e,n){var r=t+e[0],i=t+e[1];return n?(r<0&&(i+=Math.abs(r)),i>100&&(r-=i-100),[o(r),o(i)]):[r,i]}function m(t,e){t.preventDefault();var n,r,i=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),a=0===t.type.indexOf("pointer"),s=t;if(0===t.type.indexOf("MSPointer")&&(a=!0),i){if(t.touches.length>1)return!1;n=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY}return e=e||f(),(o||a)&&(n=t.clientX+e.x,r=t.clientY+e.y),s.pageOffset=e,s.points=[n,r],s.cursor=o||a,s}function v(t,e){var n=document.createElement("div"),i=document.createElement("div"),o=[r.cssClasses.handleLower,r.cssClasses.handleUpper];return t&&o.reverse(),u(i,r.cssClasses.handle),u(i,o[e]),u(n,r.cssClasses.origin),n.appendChild(i),n}function y(t,e,n){switch(t){case 1:u(e,r.cssClasses.connect),u(n[0],r.cssClasses.background);break;case 3:u(n[1],r.cssClasses.background);case 2:u(n[0],r.cssClasses.connect);case 0:u(e,r.cssClasses.background)}}function g(t,e,n){var r,i=[];for(r=0;r<t;r+=1)i.push(n.appendChild(v(e,r)));return i}function b(t,e,n){u(n,r.cssClasses.target),0===t?u(n,r.cssClasses.ltr):u(n,r.cssClasses.rtl),0===e?u(n,r.cssClasses.horizontal):u(n,r.cssClasses.vertical);var i=document.createElement("div");return u(i,r.cssClasses.base),n.appendChild(i),i}function _(t,e){if(!r.tooltips[e])return!1;var n=document.createElement("div");return n.className=r.cssClasses.tooltip,t.firstChild.appendChild(n)}function x(){r.dir&&r.tooltips.reverse();var t=X.map(_);r.dir&&(t.reverse(),r.tooltips.reverse()),H("update",function(e,n,i){t[n]&&(t[n].innerHTML=r.tooltips[n]===!0?e[n]:r.tooltips[n].to(i[n]))})}function w(t,e,n){if("range"===t||"steps"===t)return J.xVal;if("count"===t){var r,i=100/(e-1),o=0;for(e=[];(r=o++*i)<=100;)e.push(r);t="positions"}return"positions"===t?e.map(function(t){return J.fromStepping(n?J.getStep(t):t)}):"values"===t?n?e.map(function(t){return J.fromStepping(J.getStep(J.toStepping(t)))}):e:void 0}function M(e,n,r){function i(t,e){return(t+e).toFixed(7)/1}var o=J.direction,a={},s=J.xVal[0],u=J.xVal[J.xVal.length-1],l=!1,c=!1,f=0;return J.direction=0,r=t(r.slice().sort(function(t,e){return t-e})),r[0]!==s&&(r.unshift(s),l=!0),r[r.length-1]!==u&&(r.push(u),c=!0),r.forEach(function(t,o){var s,u,h,p,d,m,v,y,g,b,_=t,x=r[o+1];if("steps"===n&&(s=J.xNumSteps[o]),s||(s=x-_),_!==!1&&void 0!==x)for(u=_;u<=x;u=i(u,s)){for(p=J.toStepping(u),d=p-f,y=d/e,g=Math.round(y),b=d/g,h=1;h<=g;h+=1)m=f+h*b,a[m.toFixed(5)]=["x",0];v=r.indexOf(u)>-1?1:"steps"===n?2:0,!o&&l&&(v=0),u===x&&c||(a[p.toFixed(5)]=[u,v]),f=p}}),J.direction=o,a}function E(t,e,n){function i(t,e){var n=e===r.cssClasses.value,i=n?h:p,o=n?c:f;return e+" "+i[r.ort]+" "+o[t]}function o(t,e,n){return'class="'+i(n[1],e)+'" style="'+r.style+": "+t+'%"'}function a(t,i){J.direction&&(t=100-t),i[1]=i[1]&&e?e(i[0],i[1]):i[1],l+="<div "+o(t,r.cssClasses.marker,i)+"></div>",i[1]&&(l+="<div "+o(t,r.cssClasses.value,i)+">"+n.to(i[0])+"</div>")}var s=document.createElement("div"),l="",c=[r.cssClasses.valueNormal,r.cssClasses.valueLarge,r.cssClasses.valueSub],f=[r.cssClasses.markerNormal,r.cssClasses.markerLarge,r.cssClasses.markerSub],h=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],p=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return u(s,r.cssClasses.pips),u(s,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach(function(e){a(e,t[e])}),s.innerHTML=l,s}function S(t){var e=t.mode,n=t.density||1,r=t.filter||!1,i=t.values||!1,o=t.stepped||!1,a=w(e,i,o),s=M(n,e,a),u=t.format||{to:Math.round};return Q.appendChild(E(s,r,u))}function T(){var t=G.getBoundingClientRect(),e="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||G[e]:t.height||G[e]}function C(t,e,n){var i;for(i=0;i<r.handles;i++)if($[i]===-1)return;void 0!==e&&1!==r.handles&&(e=Math.abs(e-r.dir)),Object.keys(et).forEach(function(r){var i=r.split(".")[0];t===i&&et[r].forEach(function(t){t.call(Z,a(B()),e,a(P(Array.prototype.slice.call(tt))),n||!1,$)})})}function P(t){return 1===t.length?t[0]:r.dir?t.reverse():t}function k(t,e,n,i){var o=function(e){return!Q.hasAttribute("disabled")&&(!c(Q,r.cssClasses.tap)&&(e=m(e,i.pageOffset),!(t===K.start&&void 0!==e.buttons&&e.buttons>1)&&((!i.hover||!e.buttons)&&(e.calcPoint=e.points[r.ort],void n(e,i)))))},a=[];return t.split(" ").forEach(function(t){e.addEventListener(t,o,!1),a.push([t,o])}),a}function A(t,e){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===t.buttons&&0!==e.buttonsProperty)return I(t,e);var n,r,i=e.handles||X,o=!1,a=100*(t.calcPoint-e.start)/e.baseSize,s=i[0]===X[0]?0:1;if(n=d(a,e.positions,i.length>1),o=L(i[0],n[s],1===i.length),i.length>1){if(o=L(i[1],n[s?0:1],!1)||o)for(r=0;r<e.handles.length;r++)C("slide",r)}else o&&C("slide",s)}function I(t,e){var n=G.querySelector("."+r.cssClasses.active),i=e.handles[0]===X[0]?0:1;null!==n&&l(n,r.cssClasses.active),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var o=document.documentElement;o.noUiListeners.forEach(function(t){o.removeEventListener(t[0],t[1])}),l(Q,r.cssClasses.drag),C("set",i),C("change",i),void 0!==e.handleNumber&&C("end",e.handleNumber)}function O(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&I(t,e)}function R(t,e){var n=document.documentElement;if(1===e.handles.length){if(e.handles[0].hasAttribute("disabled"))return!1;u(e.handles[0].children[0],r.cssClasses.active)}t.preventDefault(),t.stopPropagation();var i=k(K.move,n,A,{start:t.calcPoint,baseSize:T(),pageOffset:t.pageOffset,handles:e.handles,handleNumber:e.handleNumber,buttonsProperty:t.buttons,positions:[$[0],$[X.length-1]]}),o=k(K.end,n,I,{handles:e.handles,handleNumber:e.handleNumber}),a=k("mouseout",n,O,{handles:e.handles,handleNumber:e.handleNumber});if(n.noUiListeners=i.concat(o,a),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,X.length>1&&u(Q,r.cssClasses.drag);var s=function(){return!1};document.body.noUiListener=s,document.body.addEventListener("selectstart",s,!1)}void 0!==e.handleNumber&&C("start",e.handleNumber)}function D(t){var e,o,a=t.calcPoint,s=0;return t.stopPropagation(),X.forEach(function(t){s+=n(t)[r.style]}),e=a<s/2||1===X.length?0:1,X[e].hasAttribute("disabled")&&(e=e?0:1),a-=n(G)[r.style],o=100*a/T(),r.events.snap||i(Q,r.cssClasses.tap,r.animationDuration),!X[e].hasAttribute("disabled")&&(L(X[e],o),C("slide",e,!0),C("set",e,!0),C("change",e,!0),void(r.events.snap&&R(t,{handles:[X[e]]})))}function N(t){var e=t.calcPoint-n(G)[r.style],i=J.getStep(100*e/T()),o=J.fromStepping(i);Object.keys(et).forEach(function(t){"hover"===t.split(".")[0]&&et[t].forEach(function(t){t.call(Z,o)})})}function j(t){if(t.fixed||X.forEach(function(t,e){k(K.start,t.children[0],R,{handles:[t],handleNumber:e})}),t.tap&&k(K.start,G,D,{handles:X}),t.hover&&k(K.move,G,N,{hover:!0}),t.drag){var e=[G.querySelector("."+r.cssClasses.connect)];u(e[0],r.cssClasses.draggable),t.fixed&&e.push(X[e[0]===X[0]?1:0].children[0]),e.forEach(function(t){k(K.start,t,R,{handles:X})})}}function L(t,e,n){var i=t!==X[0]?1:0,a=$[0]+r.margin,s=$[1]-r.margin,c=$[0]+r.limit,f=$[1]-r.limit;return X.length>1&&(e=i?Math.max(e,a):Math.min(e,s)),n!==!1&&r.limit&&X.length>1&&(e=i?Math.min(e,c):Math.max(e,f)),e=J.getStep(e),e=o(e),e!==$[i]&&(window.requestAnimationFrame?window.requestAnimationFrame(function(){t.style[r.style]=e+"%"}):t.style[r.style]=e+"%",t.previousSibling||(l(t,r.cssClasses.stacking),e>50&&u(t,r.cssClasses.stacking)),$[i]=e,tt[i]=J.fromStepping(e),C("update",i),!0)}function z(t,e){var n,i,o;for(r.limit&&(t+=1),n=0;n<t;n+=1)i=n%2,o=e[i],null!==o&&o!==!1&&("number"==typeof o&&(o=String(o)),o=r.format.from(o),(o===!1||isNaN(o)||L(X[i],J.toStepping(o),n===3-r.dir)===!1)&&C("update",i))}function F(t,e){var n,o,s=a(t);for(e=void 0===e||!!e,r.dir&&r.handles>1&&s.reverse(),r.animate&&$[0]!==-1&&i(Q,r.cssClasses.tap,r.animationDuration),n=X.length>1?3:1,1===s.length&&(n=1),z(n,s),o=0;o<X.length;o++)null!==s[o]&&e&&C("set",o)}function B(){var t,e=[];for(t=0;t<r.handles;t+=1)e[t]=r.format.to(tt[t]);return P(e)}function V(){for(var t in r.cssClasses)r.cssClasses.hasOwnProperty(t)&&l(Q,r.cssClasses[t]);for(;Q.firstChild;)Q.removeChild(Q.firstChild);delete Q.noUiSlider}function q(){var t=$.map(function(t,e){var n=J.getApplicableStep(t),r=s(String(n[2])),i=tt[e],o=100===t?null:n[2],a=Number((i-n[2]).toFixed(r)),u=0===t?null:a>=n[1]?n[2]:n[0]||!1;return[u,o]});return P(t)}function H(t,e){et[t]=et[t]||[],et[t].push(e),"update"===t.split(".")[0]&&X.forEach(function(t,e){C("update",e)})}function W(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(et).forEach(function(t){var r=t.split(".")[0],i=t.substring(r.length);e&&e!==r||n&&n!==i||delete et[t]})}function Y(t,e){var n=B(),i=U({start:[0,0],margin:t.margin,limit:t.limit,step:void 0===t.step?r.singleStep:t.step,range:t.range,animate:t.animate,snap:void 0===t.snap?r.snap:t.snap});["margin","limit","range","animate"].forEach(function(e){void 0!==t[e]&&(r[e]=t[e])}),i.spectrum.direction=J.direction,J=i.spectrum,$=[-1,-1],F(t.start||n,e)}var G,X,Z,K=h(),Q=e,$=[-1,-1],J=r.spectrum,tt=[],et={};if(Q.noUiSlider)throw new Error("Slider was already initialized.");return G=b(r.dir,r.ort,Q),X=g(r.handles,r.dir,G),y(r.connect,Q,X),r.pips&&S(r.pips),r.tooltips&&x(),Z={destroy:V,steps:q,on:H,off:W,get:B,set:F,updateOptions:Y,options:p,target:Q,pips:S},j(r.events),Z}function V(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=U(e,t),r=B(t,n,e);return r.set(n.start),t.noUiSlider=r,r}M.prototype.getMargin=function(t){return 2===this.xPct.length&&d(this.xVal,t)},M.prototype.toStepping=function(t){return t=g(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},M.prototype.fromStepping=function(t){return this.direction&&(t=100-t),b(this.xVal,this.xPct,t)},M.prototype.getStep=function(t){return this.direction&&(t=100-t),t=_(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},M.prototype.getApplicableStep=function(t){var e=y(t,this.xPct),n=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-n],this.xNumSteps[e-n]]},M.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var q={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};return{create:V}})},{}],229:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0,n["default"]=void 0;var s=t("react"),u=t("../utils/storeShape"),l=r(u),c=t("../utils/warning"),f=(r(c),function(t){function e(n,r){i(this,e);var a=o(this,t.call(this,n,r));return a.store=n.store,a}return a(e,t),e.prototype.getChildContext=function(){return{store:this.store}},e.prototype.render=function(){var t=this.props.children;return s.Children.only(t)},e}(s.Component));n["default"]=f,f.propTypes={store:l["default"].isRequired,children:s.PropTypes.element.isRequired},f.childContextTypes={store:l["default"].isRequired}},{"../utils/storeShape":232,"../utils/warning":233,react:"react"}],230:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return t.displayName||t.name||"Component"}function u(t,e){try{return t.apply(e)}catch(n){return C.value=n,C}}function l(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],l=Boolean(t),h=t||E,d=void 0;d="function"==typeof e?e:e?(0,y["default"])(e):S;var v=n||T,g=r.pure,b=void 0===g||g,_=r.withRef,w=void 0!==_&&_,k=b&&v!==T,A=P++;return function(t){function e(t,e,n){var r=v(t,e,n);return r}var n="Connect("+s(t)+")",r=function(r){function s(t,e){i(this,s);var a=o(this,r.call(this,t,e));a.version=A,a.store=t.store||e.store,(0,M["default"])(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var u=a.store.getState();return a.state={storeState:u},a.clearCache(),a}return a(s,r),s.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},s.prototype.computeStateProps=function(t,e){if(!this.finalMapStateToProps)return this.configureFinalMapState(t,e);var n=t.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,e):this.finalMapStateToProps(n);return r},s.prototype.configureFinalMapState=function(t,e){var n=h(t.getState(),e),r="function"==typeof n;return this.finalMapStateToProps=r?n:h,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(t,e):n},s.prototype.computeDispatchProps=function(t,e){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(t,e);var n=t.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,e):this.finalMapDispatchToProps(n);return r},s.prototype.configureFinalMapDispatch=function(t,e){var n=d(t.dispatch,e),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(t,e):n},s.prototype.updateStatePropsIfNeeded=function(){var t=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,m["default"])(t,this.stateProps))&&(this.stateProps=t,!0)},s.prototype.updateDispatchPropsIfNeeded=function(){var t=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,m["default"])(t,this.dispatchProps))&&(this.dispatchProps=t,!0)},s.prototype.updateMergedPropsIfNeeded=function(){var t=e(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&k&&(0,m["default"])(t,this.mergedProps))&&(this.mergedProps=t,!0)},s.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},s.prototype.trySubscribe=function(){l&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},s.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},s.prototype.componentDidMount=function(){this.trySubscribe()},s.prototype.componentWillReceiveProps=function(t){b&&(0,m["default"])(t,this.props)||(this.haveOwnPropsChanged=!0)},s.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},s.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},s.prototype.handleChange=function(){if(this.unsubscribe){var t=this.store.getState(),e=this.state.storeState;if(!b||e!==t){if(b&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===C&&(this.statePropsPrecalculationError=C.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:t})}}},s.prototype.getWrappedInstance=function(){return(0,M["default"])(w,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},s.prototype.render=function(){var e=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,o=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var a=!0,s=!0;b&&o&&(a=n||e&&this.doStatePropsDependOnOwnProps,s=e&&this.doDispatchPropsDependOnOwnProps);var u=!1,l=!1;r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(l=this.updateDispatchPropsIfNeeded());var h=!0;return h=!!(u||l||e)&&this.updateMergedPropsIfNeeded(),!h&&o?o:(w?this.renderedElement=(0,f.createElement)(t,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,f.createElement)(t,this.mergedProps),this.renderedElement)},s}(f.Component);return r.displayName=n,r.WrappedComponent=t,r.contextTypes={store:p["default"]},r.propTypes={store:p["default"]},(0,x["default"])(r,t)}}var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n.__esModule=!0,n["default"]=l;var f=t("react"),h=t("../utils/storeShape"),p=r(h),d=t("../utils/shallowEqual"),m=r(d),v=t("../utils/wrapActionCreators"),y=r(v),g=t("../utils/warning"),b=(r(g),t("lodash/isPlainObject")),_=(r(b),t("hoist-non-react-statics")),x=r(_),w=t("invariant"),M=r(w),E=function(t){return{}},S=function(t){return{dispatch:t}},T=function(t,e,n){return c({},n,t,e)},C={value:null},P=0},{"../utils/shallowEqual":231,"../utils/storeShape":232,"../utils/warning":233,"../utils/wrapActionCreators":234,"hoist-non-react-statics":235,invariant:236,"lodash/isPlainObject":29,react:"react"}],231:[function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!i.call(e,n[o])||t[n[o]]!==e[n[o]])return!1;return!0}n.__esModule=!0,n["default"]=r},{}],232:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("react");n["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},{react:"react"}],233:[function(t,e,n){"use strict";function r(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}n.__esModule=!0,n["default"]=r},{}],234:[function(t,e,n){"use strict";function r(t){return function(e){return(0,i.bindActionCreators)(t,e)}}n.__esModule=!0,n["default"]=r;var i=t("redux")},{redux:"redux"}],235:[function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(t,e,n){if("string"!=typeof e){var a=Object.getOwnPropertyNames(e);o&&(a=a.concat(Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||i[a[s]]||n&&n[a[s]]))try{t[a[s]]=e[a[s]]}catch(u){}}return t}},{}],236:[function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error(e.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},{}],237:[function(t,e,n){"use strict";function r(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return{type:i,payload:{method:t,args:n}}}}Object.defineProperty(n,"__esModule",{value:!0});var i=n.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD",o=n.push=r("push"),a=n.replace=r("replace"),s=n.go=r("go"),u=n.goBack=r("goBack"),l=n.goForward=r("goForward");n.routerActions={push:o,replace:a,go:s,goBack:u,goForward:l}},{}],238:[function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){return function(){return function(e){return function(n){if(n.type!==o.CALL_HISTORY_METHOD)return e(n);var i=n.payload,a=i.method,s=i.args;t[a].apply(t,r(s))}}}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var o=t("./actions")},{"./actions":237}],239:[function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.type,r=e.payload;return n===o?i({},t,{locationBeforeTransitions:r}):t}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n.routerReducer=r;var o=n.LOCATION_CHANGE="@@router/LOCATION_CHANGE",a={locationBeforeTransitions:null}},{}],240:[function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.selectLocationState,s=void 0===r?a:r,u=n.adjustUrlOnReplay,l=void 0===u||u;if("undefined"==typeof s(e.getState()))throw new Error("Expected the routing state to be available either as `state.routing` or as the custom expression you can specify as `selectLocationState` in the `syncHistoryWithStore()` options. Ensure you have added the `routerReducer` to your store's reducers via `combineReducers` or whatever method you use to isolate your reducers.");var c=void 0,f=void 0,h=void 0,p=void 0,d=void 0,m=function(t){var n=s(e.getState());return n.locationBeforeTransitions||(t?c:void 0)};if(c=m(),l){var v=function(){var e=m(!0);d!==e&&c!==e&&(f=!0,d=e,t.transitionTo(i({},e,{action:"PUSH"})),f=!1)};h=e.subscribe(v),v()}var y=function(t){f||(d=t,!c&&(c=t,m())||e.dispatch({type:o.LOCATION_CHANGE,payload:t}))};return p=t.listen(y),t.getCurrentLocation&&y(t.getCurrentLocation()),i({},t,{listen:function(t){var n=m(!0),r=!1,i=e.subscribe(function(){var e=m(!0);e!==n&&(n=e,r||t(n))});return t(n),function(){r=!0,i()}},unsubscribe:function(){l&&h(),p()}})}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n["default"]=r;var o=t("./reducer"),a=function(t){return t.routing}},{"./reducer":239}],241:[function(t,e,n){"use strict";function r(t,e,n){function r(){return a=!0,s?void(l=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function i(){if(!a&&(u=!0,!s)){for(s=!0;!a&&o<t&&u;)u=!1,e.call(this,o++,i,r);return s=!1,a?void n.apply(this,l):void(o>=t&&u&&(a=!0,n()))}}var o=0,a=!1,s=!1,u=!1,l=void 0;i()}function i(t,e,n){function r(t,e,r){a||(e?(a=!0,n(e)):(o[t]=r,a=++s===i,a&&n(null,o)))}var i=t.length,o=[];if(0===i)return n(null,o);var a=!1,s=0;t.forEach(function(t,n){e(t,n,function(t,e){r(n,t,e)})})}n.__esModule=!0,n.loopAsync=r,n.mapAsync=i},{}],242:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("./routerWarning"),o=(r(i),t("./InternalPropTypes")),a={contextTypes:{history:o.history},componentWillMount:function(){this.history=this.context.history}};n["default"]=a,e.exports=n["default"]},{"./InternalPropTypes":246,"./routerWarning":274}],243:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=t("react"),a=r(o),s=t("./Link"),u=r(s),l=a["default"].createClass({displayName:"IndexLink",render:function(){return a["default"].createElement(u["default"],i({},this.props,{onlyActiveOnIndex:!0}))}});n["default"]=l,e.exports=n["default"]},{"./Link":248,react:"react"}],244:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("react"),o=r(i),a=t("./routerWarning"),s=(r(a),t("invariant")),u=r(s),l=t("./Redirect"),c=r(l),f=t("./InternalPropTypes"),h=o["default"].PropTypes,p=h.string,d=h.object,m=o["default"].createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(t,e){e&&(e.indexRoute=c["default"].createRouteFromReactElement(t))}},propTypes:{to:p.isRequired,query:d,state:d,onEnter:f.falsy,children:f.falsy},render:function(){(0,u["default"])(!1)}});n["default"]=m,e.exports=n["default"]},{"./InternalPropTypes":246,"./Redirect":251,"./routerWarning":274,invariant:301,react:"react"}],245:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("react"),o=r(i),a=t("./routerWarning"),s=(r(a),t("invariant")),u=r(s),l=t("./RouteUtils"),c=t("./InternalPropTypes"),f=o["default"].PropTypes.func,h=o["default"].createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(t,e){e&&(e.indexRoute=(0,l.createRouteFromReactElement)(t))}},propTypes:{path:c.falsy,component:c.component,components:c.components,getComponent:f,getComponents:f},render:function(){(0,u["default"])(!1)}});n["default"]=h,e.exports=n["default"]},{"./InternalPropTypes":246,"./RouteUtils":254,"./routerWarning":274,invariant:301,react:"react"}],246:[function(t,e,n){"use strict";function r(t,e,n){if(t[e])return new Error("<"+n+'> should not have a "'+e+'" prop')}n.__esModule=!0,n.routes=n.route=n.components=n.component=n.history=void 0,n.falsy=r;var i=t("react"),o=i.PropTypes.func,a=i.PropTypes.object,s=i.PropTypes.arrayOf,u=i.PropTypes.oneOfType,l=i.PropTypes.element,c=i.PropTypes.shape,f=i.PropTypes.string,h=(n.history=c({listen:o.isRequired,push:o.isRequired,replace:o.isRequired,go:o.isRequired,goBack:o.isRequired,goForward:o.isRequired}),n.component=u([o,f])),p=(n.components=u([h,a]),n.route=u([a,l]));n.routes=u([p,s(p)])},{react:"react"}],247:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("./routerWarning"),o=(r(i),t("react")),a=r(o),s=t("invariant"),u=r(s),l=a["default"].PropTypes.object,c={contextTypes:{history:l.isRequired,route:l},propTypes:{route:l},componentDidMount:function(){this.routerWillLeave?void 0:(0,u["default"])(!1);var t=this.props.route||this.context.route;t?void 0:(0,u["default"])(!1),this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(t,this.routerWillLeave)},componentWillUnmount:function(){this._unlistenBeforeLeavingRoute&&this._unlistenBeforeLeavingRoute()}};n["default"]=c,e.exports=n["default"]},{"./routerWarning":274,invariant:301,react:"react"}],248:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){return 0===t.button}function a(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function u(t,e){var n=e.query,r=e.hash,i=e.state;return n||r||i?{pathname:t,query:n,hash:r,state:i}:t}n.__esModule=!0;var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=t("react"),f=r(c),h=t("./routerWarning"),p=(r(h),t("invariant")),d=r(p),m=t("./PropTypes"),v=f["default"].PropTypes,y=v.bool,g=v.object,b=v.string,_=v.func,x=v.oneOfType,w=f["default"].createClass({displayName:"Link",contextTypes:{router:m.routerShape},propTypes:{to:x([b,g]),query:g,hash:b,state:g,activeStyle:g,activeClassName:b,onlyActiveOnIndex:y.isRequired,onClick:_,target:b},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(t){if(this.props.onClick&&this.props.onClick(t),!t.defaultPrevented&&(this.context.router?void 0:(0,d["default"])(!1),!a(t)&&o(t)&&!this.props.target)){t.preventDefault();var e=this.props,n=e.to,r=e.query,i=e.hash,s=e.state,l=u(n,{query:r,hash:i,state:s});this.context.router.push(l)}},render:function(){var t=this.props,e=t.to,n=t.query,r=t.hash,o=t.state,a=t.activeClassName,c=t.activeStyle,h=t.onlyActiveOnIndex,p=i(t,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]),d=this.context.router;if(d){if(null==e)return f["default"].createElement("a",p);var m=u(e,{query:n,hash:r,state:o});p.href=d.createHref(m),(a||null!=c&&!s(c))&&d.isActive(m,h)&&(a&&(p.className?p.className+=" "+a:p.className=a),c&&(p.style=l({},p.style,c)))}return f["default"].createElement("a",l({},p,{onClick:this.handleClick}))}});n["default"]=w,e.exports=n["default"]},{"./PropTypes":250,"./routerWarning":274,invariant:301,react:"react"}],249:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(t){for(var e="",n=[],r=[],o=void 0,a=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;o=s.exec(t);)o.index!==a&&(r.push(t.slice(a,o.index)),e+=i(t.slice(a,o.index))),o[1]?(e+="([^/]+)",n.push(o[1])):"**"===o[0]?(e+="(.*)",n.push("splat")):"*"===o[0]?(e+="(.*?)",n.push("splat")):"("===o[0]?e+="(?:":")"===o[0]&&(e+=")?"),r.push(o[0]),a=s.lastIndex;return a!==t.length&&(r.push(t.slice(a,t.length)),e+=i(t.slice(a,t.length))),{pattern:t,regexpSource:e,paramNames:n,tokens:r}}function a(t){return p[t]||(p[t]=o(t)),p[t]}function s(t,e){"/"!==t.charAt(0)&&(t="/"+t);var n=a(t),r=n.regexpSource,i=n.paramNames,o=n.tokens;
"/"!==t.charAt(t.length-1)&&(r+="/?"),"*"===o[o.length-1]&&(r+="$");var s=e.match(new RegExp("^"+r,"i"));if(null==s)return null;var u=s[0],l=e.substr(u.length);if(l){if("/"!==u.charAt(u.length-1))return null;l="/"+l}return{remainingPathname:l,paramNames:i,paramValues:s.slice(1).map(function(t){return t&&decodeURIComponent(t)})}}function u(t){return a(t).paramNames}function l(t,e){var n=s(t,e);if(!n)return null;var r=n.paramNames,i=n.paramValues,o={};return r.forEach(function(t,e){o[t]=i[e]}),o}function c(t,e){e=e||{};for(var n=a(t),r=n.tokens,i=0,o="",s=0,u=void 0,l=void 0,c=void 0,f=0,p=r.length;f<p;++f)u=r[f],"*"===u||"**"===u?(c=Array.isArray(e.splat)?e.splat[s++]:e.splat,null!=c||i>0?void 0:(0,h["default"])(!1),null!=c&&(o+=encodeURI(c))):"("===u?i+=1:")"===u?i-=1:":"===u.charAt(0)?(l=u.substring(1),c=e[l],null!=c||i>0?void 0:(0,h["default"])(!1),null!=c&&(o+=encodeURIComponent(c))):o+=u;return o.replace(/\/+/g,"/")}n.__esModule=!0,n.compilePattern=a,n.matchPattern=s,n.getParamNames=u,n.getParams=l,n.formatPattern=c;var f=t("invariant"),h=r(f),p=Object.create(null)},{invariant:301}],250:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0,n.router=n.routes=n.route=n.components=n.component=n.location=n.history=n.falsy=n.locationShape=n.routerShape=void 0;var o=t("react"),a=t("./deprecateObjectProperties"),s=(i(a),t("./InternalPropTypes")),u=r(s),l=t("./routerWarning"),c=(i(l),o.PropTypes.func),f=o.PropTypes.object,h=o.PropTypes.shape,p=o.PropTypes.string,d=n.routerShape=h({push:c.isRequired,replace:c.isRequired,go:c.isRequired,goBack:c.isRequired,goForward:c.isRequired,setRouteLeaveHook:c.isRequired,isActive:c.isRequired}),m=n.locationShape=h({pathname:p.isRequired,search:p.isRequired,state:f,action:p.isRequired,key:p}),v=n.falsy=u.falsy,y=n.history=u.history,g=n.location=m,b=n.component=u.component,_=n.components=u.components,x=n.route=u.route,w=(n.routes=u.routes,n.router=d),M={falsy:v,history:y,location:g,component:b,components:_,route:x,router:w};n["default"]=M},{"./InternalPropTypes":246,"./deprecateObjectProperties":266,"./routerWarning":274,react:"react"}],251:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("react"),o=r(i),a=t("invariant"),s=r(a),u=t("./RouteUtils"),l=t("./PatternUtils"),c=t("./InternalPropTypes"),f=o["default"].PropTypes,h=f.string,p=f.object,d=o["default"].createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(t){var e=(0,u.createRouteFromReactElement)(t);return e.from&&(e.path=e.from),e.onEnter=function(t,n){var r=t.location,i=t.params,o=void 0;if("/"===e.to.charAt(0))o=(0,l.formatPattern)(e.to,i);else if(e.to){var a=t.routes.indexOf(e),s=d.getRoutePattern(t.routes,a-1),u=s.replace(/\/*$/,"/")+e.to;o=(0,l.formatPattern)(u,i)}else o=r.pathname;n({pathname:o,query:e.query||r.query,state:e.state||r.state})},e},getRoutePattern:function(t,e){for(var n="",r=e;r>=0;r--){var i=t[r],o=i.path||"";if(n=o.replace(/\/*$/,"/")+n,0===o.indexOf("/"))break}return"/"+n}},propTypes:{path:h,from:h,to:h.isRequired,query:p,state:p,onEnter:c.falsy,children:c.falsy},render:function(){(0,s["default"])(!1)}});n["default"]=d,e.exports=n["default"]},{"./InternalPropTypes":246,"./PatternUtils":249,"./RouteUtils":254,invariant:301,react:"react"}],252:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("react"),o=r(i),a=t("invariant"),s=r(a),u=t("./RouteUtils"),l=t("./InternalPropTypes"),c=o["default"].PropTypes,f=c.string,h=c.func,p=o["default"].createClass({displayName:"Route",statics:{createRouteFromReactElement:u.createRouteFromReactElement},propTypes:{path:f,component:l.component,components:l.components,getComponent:h,getComponents:h},render:function(){(0,s["default"])(!1)}});n["default"]=p,e.exports=n["default"]},{"./InternalPropTypes":246,"./RouteUtils":254,invariant:301,react:"react"}],253:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("./routerWarning"),o=(r(i),t("react")),a=r(o),s=a["default"].PropTypes.object,u={propTypes:{route:s.isRequired},childContextTypes:{route:s.isRequired},getChildContext:function(){return{route:this.props.route}},componentWillMount:function(){}};n["default"]=u,e.exports=n["default"]},{"./routerWarning":274,react:"react"}],254:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return null==t||h["default"].isValidElement(t)}function o(t){return i(t)||Array.isArray(t)&&t.every(i)}function a(t,e){return c({},t,e)}function s(t){var e=t.type,n=a(e.defaultProps,t.props);if(n.children){var r=u(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function u(t,e){var n=[];return h["default"].Children.forEach(t,function(t){if(h["default"].isValidElement(t))if(t.type.createRouteFromReactElement){var r=t.type.createRouteFromReactElement(t,e);r&&n.push(r)}else n.push(s(t))}),n}function l(t){return o(t)?t=u(t):t&&!Array.isArray(t)&&(t=[t]),t}n.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n.isReactChildren=o,n.createRouteFromReactElement=s,n.createRoutesFromReactChildren=u,n.createRoutes=l;var f=t("react"),h=r(f)},{react:"react"}],255:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){return!t||!t.__v2_compatible__}function a(t){return t&&t.getCurrentLocation}n.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=t("history/lib/createHashHistory"),l=r(u),c=t("history/lib/useQueries"),f=r(c),h=t("invariant"),p=r(h),d=t("react"),m=r(d),v=t("./createTransitionManager"),y=r(v),g=t("./InternalPropTypes"),b=t("./RouterContext"),_=r(b),x=t("./RouteUtils"),w=t("./RouterUtils"),M=t("./routerWarning"),E=(r(M),m["default"].PropTypes),S=E.func,T=E.object,C=m["default"].createClass({displayName:"Router",propTypes:{history:T,children:g.routes,routes:g.routes,render:S,createElement:S,onError:S,onUpdate:S,parseQueryString:S,stringifyQuery:S,matchContext:T},getDefaultProps:function(){return{render:function(t){return m["default"].createElement(_["default"],t)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(t){if(!this.props.onError)throw t;this.props.onError.call(this,t)},componentWillMount:function(){var t=this,e=this.props,n=(e.parseQueryString,e.stringifyQuery,this.createRouterObjects()),r=n.history,i=n.transitionManager,o=n.router;this._unlisten=i.listen(function(e,n){e?t.handleError(e):t.setState(n,t.props.onUpdate)}),this.history=r,this.router=o},createRouterObjects:function(){var t=this.props.matchContext;if(t)return t;var e=this.props.history,n=this.props,r=n.routes,i=n.children;a(e)?(0,p["default"])(!1):void 0,o(e)&&(e=this.wrapDeprecatedHistory(e));var s=(0,y["default"])(e,(0,x.createRoutes)(r||i)),u=(0,w.createRouterObject)(e,s),l=(0,w.createRoutingHistory)(e,s);return{history:l,transitionManager:s,router:u}},wrapDeprecatedHistory:function(t){var e=this.props,n=e.parseQueryString,r=e.stringifyQuery,i=void 0;return i=t?function(){return t}:l["default"],(0,f["default"])(i)({parseQueryString:n,stringifyQuery:r})},componentWillReceiveProps:function(t){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function P(){var t=this.state,e=t.location,n=t.routes,r=t.params,o=t.components,a=this.props,u=a.createElement,P=a.render,l=i(a,["createElement","render"]);return null==e?null:(Object.keys(C.propTypes).forEach(function(t){return delete l[t]}),P(s({},l,{history:this.history,router:this.router,location:e,routes:n,params:r,components:o,createElement:u})))}});n["default"]=C,e.exports=n["default"]},{"./InternalPropTypes":246,"./RouteUtils":254,"./RouterContext":256,"./RouterUtils":257,"./createTransitionManager":265,"./routerWarning":274,"history/lib/createHashHistory":286,"history/lib/useQueries":293,invariant:301,react:"react"}],256:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=t("invariant"),s=r(a),u=t("react"),l=r(u),c=t("./deprecateObjectProperties"),f=(r(c),t("./getRouteParams")),h=r(f),p=t("./RouteUtils"),d=t("./routerWarning"),m=(r(d),l["default"].PropTypes),v=m.array,y=m.func,g=m.object,b=l["default"].createClass({displayName:"RouterContext",propTypes:{history:g,router:g.isRequired,location:g.isRequired,routes:v.isRequired,params:g.isRequired,components:v.isRequired,createElement:y.isRequired},getDefaultProps:function(){return{createElement:l["default"].createElement}},childContextTypes:{history:g,location:g.isRequired,router:g.isRequired},getChildContext:function(){var t=this.props,e=t.router,n=t.history,r=t.location;return e||(e=o({},n,{setRouteLeaveHook:n.listenBeforeLeavingRoute}),delete e.listenBeforeLeavingRoute),{history:n,location:r,router:e}},createElement:function(t,e){return null==t?null:this.props.createElement(t,e)},render:function(){var t=this,e=this.props,n=e.history,r=e.location,a=e.routes,u=e.params,c=e.components,f=null;return c&&(f=c.reduceRight(function(e,s,l){if(null==s)return e;var c=a[l],f=(0,h["default"])(c,u),d={history:n,location:r,params:u,route:c,routeParams:f,routes:a};if((0,p.isReactChildren)(e))d.children=e;else if(e)for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(d[m]=e[m]);if("object"===("undefined"==typeof s?"undefined":i(s))){var v={};for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(v[y]=t.createElement(s[y],o({key:y},d)));return v}return t.createElement(s,d)},f)),null===f||f===!1||l["default"].isValidElement(f)?void 0:(0,s["default"])(!1),f}});n["default"]=b,e.exports=n["default"]},{"./RouteUtils":254,"./deprecateObjectProperties":266,"./getRouteParams":268,"./routerWarning":274,invariant:301,react:"react"}],257:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return a({},t,{setRouteLeaveHook:e.listenBeforeLeavingRoute,isActive:e.isActive})}function o(t,e){return t=a({},t,e)}n.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n.createRouterObject=i,n.createRoutingHistory=o;var s=t("./deprecateObjectProperties");r(s)},{"./deprecateObjectProperties":266}],258:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("react"),o=r(i),a=t("./RouterContext"),s=r(a),u=t("./routerWarning"),l=(r(u),o["default"].createClass({displayName:"RoutingContext",componentWillMount:function(){},render:function(){return o["default"].createElement(s["default"],this.props)}}));n["default"]=l,e.exports=n["default"]},{"./RouterContext":256,"./routerWarning":274,react:"react"}],259:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if(t.apply(e,i),t.length<n){var a=i[i.length-1];a()}}}function o(t){return t.reduce(function(t,e){return e.onEnter&&t.push(i(e.onEnter,e,3)),t},[])}function a(t){return t.reduce(function(t,e){return e.onChange&&t.push(i(e.onChange,e,4)),t},[])}function s(t,e,n){function r(t,e,n){return e?void(i={pathname:e,query:n,state:t}):void(i=t)}if(!t)return void n();var i=void 0;(0,f.loopAsync)(t,function(t,n,o){e(t,r,function(t){t||i?o(t,i):n()})},n)}function u(t,e,n){var r=o(t);return s(r.length,function(t,n,i){r[t](e,n,i)},n)}function l(t,e,n,r){var i=a(t);return s(i.length,function(t,r,o){i[t](e,n,r,o)},r)}function c(t,e){for(var n=0,r=t.length;n<r;++n)t[n].onLeave&&t[n].onLeave.call(t[n],e)}n.__esModule=!0,n.runEnterHooks=u,n.runChangeHooks=l,n.runLeaveHooks=c;var f=t("./AsyncUtils"),h=t("./routerWarning");r(h)},{"./AsyncUtils":241,"./routerWarning":274}],260:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=t("react"),a=r(o),s=t("./RouterContext"),u=r(s),l=t("./routerWarning");r(l);n["default"]=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t){return t.renderRouterContext}).filter(Boolean),s=e.map(function(t){return t.renderRouteComponent}).filter(Boolean),l=function(){var t=arguments.length<=0||void 0===arguments[0]?o.createElement:arguments[0];return function(e,n){return s.reduceRight(function(t,e){return e(t,n)},t(e,n))}};return function(t){return r.reduceRight(function(e,n){return n(e,t)},a["default"].createElement(u["default"],i({},t,{createElement:l(t.createElement)})))}},e.exports=n["default"]},{"./RouterContext":256,"./routerWarning":274,react:"react"}],261:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("history/lib/createBrowserHistory"),o=r(i),a=t("./createRouterHistory"),s=r(a);n["default"]=(0,s["default"])(o["default"]),e.exports=n["default"]},{"./createRouterHistory":264,"history/lib/createBrowserHistory":284}],262:[function(t,e,n){"use strict";function r(t,e,n){if(!t.path)return!1;var r=(0,o.getParamNames)(t.path);return r.some(function(t){return e.params[t]!==n.params[t]})}function i(t,e){var n=t&&t.routes,i=e.routes,o=void 0,a=void 0,s=void 0;return n?!function(){var u=!1;o=n.filter(function(n){if(u)return!0;var o=i.indexOf(n)===-1||r(n,t,e);return o&&(u=!0),o}),o.reverse(),s=[],a=[],i.forEach(function(t){var e=n.indexOf(t)===-1,r=o.indexOf(t)!==-1;e||r?s.push(t):a.push(t)})}():(o=[],a=[],s=i),{leaveRoutes:o,changeRoutes:a,enterRoutes:s}}n.__esModule=!0;var o=t("./PatternUtils");n["default"]=i,e.exports=n["default"]},{"./PatternUtils":249}],263:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=(0,c["default"])(t),n=function(){return e},r=(0,a["default"])((0,u["default"])(n))(t);return r.__v2_compatible__=!0,r}n.__esModule=!0,n["default"]=i;var o=t("history/lib/useQueries"),a=r(o),s=t("history/lib/useBasename"),u=r(s),l=t("history/lib/createMemoryHistory"),c=r(l);e.exports=n["default"]},{"history/lib/createMemoryHistory":289,"history/lib/useBasename":292,"history/lib/useQueries":293}],264:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0,n["default"]=function(t){var e=void 0;return a&&(e=(0,o["default"])(t)()),e};var i=t("./useRouterHistory"),o=r(i),a=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=n["default"]},{"./useRouterHistory":275}],265:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}function o(t,e){function n(e){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=void 0;return n&&n!==!0||null!==r?(e={pathname:e,query:n},i=r||!1):(e=t.createLocation(e),i=n),(0,h["default"])(e,i,b.location,b.routes,b.params)}function r(t,n){_&&_.location===t?o(_,n):(0,v["default"])(e,t,function(e,r){e?n(e):r?o(a({},r,{location:t}),n):n()})}function o(t,e){function n(n,i){return n||i?r(n,i):void(0,d["default"])(t,function(n,r){n?e(n):e(null,null,b=a({},t,{components:r}))})}function r(t,n){t?e(t):e(null,n)}var i=(0,l["default"])(b,t),o=i.leaveRoutes,s=i.changeRoutes,u=i.enterRoutes;(0,c.runLeaveHooks)(o,b),o.filter(function(t){return u.indexOf(t)===-1}).forEach(m),(0,c.runChangeHooks)(s,b,t,function(e,i){return e||i?r(e,i):void(0,c.runEnterHooks)(u,t,n)})}function s(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];return t.__id__||e&&(t.__id__=x++)}function u(t){return t.reduce(function(t,e){return t.push.apply(t,w[s(e)]),t},[])}function f(t,n){(0,v["default"])(e,t,function(e,r){if(null==r)return void n();_=a({},r,{location:t});for(var i=u((0,l["default"])(b,_).leaveRoutes),o=void 0,s=0,c=i.length;null==o&&s<c;++s)o=i[s](t);n(o)})}function p(){if(b.routes){for(var t=u(b.routes),e=void 0,n=0,r=t.length;"string"!=typeof e&&n<r;++n)e=t[n]();return e}}function m(t){var e=s(t,!1);e&&(delete w[e],i(w)||(M&&(M(),M=null),E&&(E(),E=null)))}function y(e,n){var r=s(e),o=w[r];if(o)o.indexOf(n)===-1&&o.push(n);else{var a=!i(w);w[r]=[n],a&&(M=t.listenBefore(f),t.listenBeforeUnload&&(E=t.listenBeforeUnload(p)))}return function(){var t=w[r];if(t){var i=t.filter(function(t){return t!==n});0===i.length?m(e):w[r]=i}}}function g(e){return t.listen(function(n){b.location===n?e(null,b):r(n,function(n,r,i){n?e(n):r?t.replace(r):i&&e(null,i)})})}var b={},_=void 0,x=1,w=Object.create(null),M=void 0,E=void 0;return{isActive:n,match:r,listenBeforeLeavingRoute:y,listen:g}}n.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n["default"]=o;var s=t("./routerWarning"),u=(r(s),t("./computeChangedRoutes")),l=r(u),c=t("./TransitionUtils"),f=t("./isActive"),h=r(f),p=t("./getComponents"),d=r(p),m=t("./matchRoutes"),v=r(m);e.exports=n["default"]},{"./TransitionUtils":259,"./computeChangedRoutes":262,"./getComponents":267,"./isActive":270,"./matchRoutes":273,"./routerWarning":274}],266:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0,n.canUseMembrane=void 0;var i=t("./routerWarning"),o=(r(i),n.canUseMembrane=!1,function(t){return t});n["default"]=o},{"./routerWarning":274}],267:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){if(e.component||e.components)return void n(null,e.component||e.components);var r=e.getComponent||e.getComponents;if(!r)return void n();var i=t.location,o=(0,u["default"])(t,i);r.call(e,o,n)}function o(t,e){(0,a.mapAsync)(t.routes,function(e,n,r){i(t,e,r)},e)}n.__esModule=!0;var a=t("./AsyncUtils"),s=t("./makeStateWithLocation"),u=r(s);n["default"]=o,e.exports=n["default"]},{"./AsyncUtils":241,"./makeStateWithLocation":271}],268:[function(t,e,n){"use strict";function r(t,e){var n={};return t.path?((0,i.getParamNames)(t.path).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}),n):n}n.__esModule=!0;var i=t("./PatternUtils");n["default"]=r,e.exports=n["default"]},{"./PatternUtils":249}],269:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var i=t("history/lib/createHashHistory"),o=r(i),a=t("./createRouterHistory"),s=r(a);n["default"]=(0,s["default"])(o["default"]),e.exports=n["default"]},{"./createRouterHistory":264,"history/lib/createHashHistory":286}],270:[function(t,e,n){"use strict";function r(t,e){if(t==e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return r(t,e[n])});if("object"===("undefined"==typeof t?"undefined":u(t))){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))if(void 0===t[n]){if(void 0!==e[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(e,n))return!1;if(!r(t[n],e[n]))return!1}return!0}return String(t)===String(e)}function i(t,e){return"/"!==e.charAt(0)&&(e="/"+e),"/"!==t.charAt(t.length-1)&&(t+="/"),"/"!==e.charAt(e.length-1)&&(e+="/"),e===t}function o(t,e,n){for(var r=t,i=[],o=[],a=0,s=e.length;a<s;++a){var u=e[a],c=u.path||"";if("/"===c.charAt(0)&&(r=t,i=[],o=[]),null!==r&&c){var f=(0,l.matchPattern)(c,r);if(f?(r=f.remainingPathname,i=[].concat(i,f.paramNames),o=[].concat(o,f.paramValues)):r=null,""===r)return i.every(function(t,e){return String(o[e])===String(n[t])})}}return!1}function a(t,e){return null==e?null==t:null==t||r(t,e)}function s(t,e,n,r,s){var u=t.pathname,l=t.query;return null!=n&&("/"!==u.charAt(0)&&(u="/"+u),!!(i(u,n.pathname)||!e&&o(u,r,s))&&a(l,n.query))}n.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};n["default"]=s;var l=t("./PatternUtils");e.exports=n["default"]},{"./PatternUtils":249}],271:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return o({},t,e)}n.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n["default"]=i;var a=(t("./deprecateObjectProperties"),t("./routerWarning"));r(a);e.exports=n["default"]},{"./deprecateObjectProperties":266,"./routerWarning":274}],272:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){var n=t.history,r=t.routes,o=t.location,u=i(t,["history","routes","location"]);n||o?void 0:(0,l["default"])(!1),n=n?n:(0,f["default"])(u);var c=(0,p["default"])(n,(0,d.createRoutes)(r)),h=void 0;o?o=n.createLocation(o):h=n.listen(function(t){o=t});var v=(0,m.createRouterObject)(n,c);n=(0,m.createRoutingHistory)(n,c),c.match(o,function(t,r,i){e(t,r&&v.createLocation(r,s.REPLACE),i&&a({},i,{history:n,router:v,matchContext:{history:n,transitionManager:c,router:v}})),h&&h()})}n.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=t("history/lib/Actions"),u=t("invariant"),l=r(u),c=t("./createMemoryHistory"),f=r(c),h=t("./createTransitionManager"),p=r(h),d=t("./RouteUtils"),m=t("./RouterUtils");n["default"]=o,e.exports=n["default"]},{"./RouteUtils":254,"./RouterUtils":257,"./createMemoryHistory":263,"./createTransitionManager":265,"history/lib/Actions":278,invariant:301}],273:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n,r,i){if(t.childRoutes)return[null,t.childRoutes];if(!t.getChildRoutes)return[];var o=!0,a=void 0,u={location:e,params:s(n,r)},l=(0,d["default"])(u,e);return t.getChildRoutes(l,function(t,e){return e=!t&&(0,y.createRoutes)(e),o?void(a=[t,e]):void i(t,e)}),o=!1,a}function o(t,e,n,r,i){if(t.indexRoute)i(null,t.indexRoute);else if(t.getIndexRoute){var a={location:e,params:s(n,r)},u=(0,d["default"])(a,e);t.getIndexRoute(u,function(t,e){i(t,!t&&(0,y.createRoutes)(e)[0])})}else t.childRoutes?!function(){var a=t.childRoutes.filter(function(t){return!t.path});(0,h.loopAsync)(a.length,function(t,i,s){o(a[t],e,n,r,function(e,n){if(e||n){var r=[a[t]].concat(Array.isArray(n)?n:[n]);s(e,r)}else i()})},function(t,e){i(null,e)})}():i()}function a(t,e,n){return e.reduce(function(t,e,r){var i=n&&n[r];return Array.isArray(t[e])?t[e].push(i):e in t?t[e]=[t[e],i]:t[e]=i,t},t)}function s(t,e){return a({},t,e)}function u(t,e,n,r,a,u){var c=t.path||"";if("/"===c.charAt(0)&&(n=e.pathname,r=[],a=[]),null!==n&&c){try{var h=(0,m.matchPattern)(c,n);h?(n=h.remainingPathname,r=[].concat(r,h.paramNames),a=[].concat(a,h.paramValues)):n=null}catch(p){u(p)}if(""===n){var d=function(){var n={routes:[t],params:s(r,a)};return o(t,e,r,a,function(t,e){if(t)u(t);else{if(Array.isArray(e)){var r;(r=n.routes).push.apply(r,e)}else e&&n.routes.push(e);u(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof d?"undefined":f(d)))return d.v}}if(null!=n||t.childRoutes){var v=function(i,o){i?u(i):o?l(o,e,function(e,n){e?u(e):n?(n.routes.unshift(t),u(null,n)):u()},n,r,a):u()},y=i(t,e,r,a,v);y&&v.apply(void 0,y)}else u()}function l(t,e,n,r){var i=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],o=arguments.length<=5||void 0===arguments[5]?[]:arguments[5];void 0===r&&("/"!==e.pathname.charAt(0)&&(e=c({},e,{pathname:"/"+e.pathname})),r=e.pathname),(0,h.loopAsync)(t.length,function(n,a,s){u(t[n],e,r,i,o,function(t,e){t||e?s(t,e):a()})},n)}n.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};n["default"]=l;var h=t("./AsyncUtils"),p=t("./makeStateWithLocation"),d=r(p),m=t("./PatternUtils"),v=t("./routerWarning"),y=(r(v),t("./RouteUtils"));e.exports=n["default"]},{"./AsyncUtils":241,"./PatternUtils":249,"./RouteUtils":254,"./makeStateWithLocation":271,"./routerWarning":274}],274:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(e.indexOf("deprecated")!==-1){if(u[e])return;u[e]=!0}e="[react-router] "+e;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];s["default"].apply(void 0,[t,e].concat(r))}function o(){u={}}n.__esModule=!0,n["default"]=i,n._resetWarned=o;var a=t("warning"),s=r(a),u={}},{warning:302}],275:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(e){var n=(0,a["default"])((0,u["default"])(t))(e);return n.__v2_compatible__=!0,n}}n.__esModule=!0,n["default"]=i;var o=t("history/lib/useQueries"),a=r(o),s=t("history/lib/useBasename"),u=r(s);e.exports=n["default"]},{"history/lib/useBasename":292,"history/lib/useQueries":293}],276:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t){return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.routes,r=i(e,["routes"]),o=(0,u["default"])(t)(r),s=(0,c["default"])(o,n);return a({},o,s)}}n.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=t("history/lib/useQueries"),u=r(s),l=t("./createTransitionManager"),c=r(l),f=t("./routerWarning");r(f);n["default"]=o,e.exports=n["default"]},{"./createTransitionManager":265,"./routerWarning":274,"history/lib/useQueries":293}],277:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return t.displayName||t.name||"Component"}function o(t,e){var n=e&&e.withRef,r=c["default"].createClass({displayName:"WithRouter",contextTypes:{router:p.routerShape},propTypes:{router:p.routerShape},getWrappedInstance:function(){return n?void 0:(0,u["default"])(!1),this.wrappedInstance},render:function(){var e=this,r=this.props.router||this.context.router,i=a({},this.props,{router:r});return n&&(i.ref=function(t){e.wrappedInstance=t}),c["default"].createElement(t,i)}});return r.displayName="withRouter("+i(t)+")",r.WrappedComponent=t,(0,h["default"])(r,t)}n.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n["default"]=o;var s=t("invariant"),u=r(s),l=t("react"),c=r(l),f=t("hoist-non-react-statics"),h=r(f),p=t("./PropTypes");e.exports=n["default"]},{"./PropTypes":250,"hoist-non-react-statics":300,invariant:301,react:"react"}],278:[function(t,e,n){"use strict";n.__esModule=!0;var r="PUSH";n.PUSH=r;var i="REPLACE";n.REPLACE=i;var o="POP";n.POP=o,n["default"]={PUSH:r,REPLACE:i,POP:o}},{}],279:[function(t,e,n){"use strict";function r(t,e,n){function r(){return s=!0,u?void(c=[].concat(i.call(arguments))):void n.apply(this,arguments)}function o(){if(!s&&(l=!0,!u)){for(u=!0;!s&&a<t&&l;)l=!1,e.call(this,a++,o,r);return u=!1,s?void n.apply(this,c):void(a>=t&&l&&(s=!0,n()))}}var a=0,s=!1,u=!1,l=!1,c=void 0;o()}n.__esModule=!0;var i=Array.prototype.slice;n.loopAsync=r},{}],280:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return l+t}function o(t,n){try{null==n?window.sessionStorage.removeItem(i(t)):window.sessionStorage.setItem(i(t),JSON.stringify(n))}catch(r){if(r.name===f)return void("production"!==e.env.NODE_ENV?u["default"](!1,"[history] Unable to save state; sessionStorage is not available due to security settings"):void 0);if(c.indexOf(r.name)>=0&&0===window.sessionStorage.length)return void("production"!==e.env.NODE_ENV?u["default"](!1,"[history] Unable to save state; sessionStorage is not available in Safari private mode"):void 0);throw r}}function a(t){var n=void 0;try{n=window.sessionStorage.getItem(i(t))}catch(r){if(r.name===f)return"production"!==e.env.NODE_ENV?u["default"](!1,"[history] Unable to read state; sessionStorage is not available due to security settings"):void 0,null}if(n)try{return JSON.parse(n)}catch(r){}return null}n.__esModule=!0,n.saveState=o,n.readState=a;var s=t("warning"),u=r(s),l="@@History/",c=["QuotaExceededError","QUOTA_EXCEEDED_ERR"],f="SecurityError"}).call(this,t("_process"))},{_process:3,warning:299}],281:[function(t,e,n){"use strict";function r(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function i(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function o(){return window.location.href.split("#")[1]||""}function a(t){window.location.replace(window.location.pathname+window.location.search+"#"+t)}function s(){return window.location.pathname+window.location.search+window.location.hash}function u(t){t&&window.history.go(t)}function l(t,e){e(window.confirm(t))}function c(){var t=navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}function f(){var t=navigator.userAgent;return t.indexOf("Firefox")===-1}n.__esModule=!0,n.addEventListener=r,n.removeEventListener=i,n.getHashPath=o,n.replaceHashPath=a,n.getWindowPath=s,n.go=u,n.getUserConfirmation=l,n.supportsHistory=c,n.supportsGoWithoutReloadUsingHash=f},{}],282:[function(t,e,n){"use strict";n.__esModule=!0;var r=!("undefined"==typeof window||!window.document||!window.document.createElement);n.canUseDOM=r},{}],283:[function(t,e,n){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=t.match(/^https?:\/\/[^\/]*/);return null==e?t:t.substring(e[0].length)}function o(t){var n=i(t),r="",o="";"production"!==e.env.NODE_ENV?s["default"](t===n,'A path must be pathname + search + hash only, not a fully qualified URL like "%s"',t):void 0;var a=n.indexOf("#");a!==-1&&(o=n.substring(a),n=n.substring(0,a));var u=n.indexOf("?");return u!==-1&&(r=n.substring(u),n=n.substring(0,u)),""===n&&(n="/"),{pathname:n,search:r,hash:o}}n.__esModule=!0,n.extractPath=i,n.parsePath=o;var a=t("warning"),s=r(a)}).call(this,t("_process"))},{_process:3,warning:299}],284:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(){function t(t){try{t=t||window.history.state||{}}catch(e){t={}}var n=h.getWindowPath(),r=t,i=r.key,o=void 0;i?o=p.readState(i):(o=null,i=_.createKey(),g&&window.history.replaceState(a({},t,{
key:i}),null));var s=c.parsePath(n);return _.createLocation(a({},s,{state:o}),void 0,i)}function e(e){function n(e){void 0!==e.state&&r(t(e.state))}var r=e.transitionTo;return h.addEventListener(window,"popstate",n),function(){h.removeEventListener(window,"popstate",n)}}function n(t){var e=t.basename,n=t.pathname,r=t.search,i=t.hash,o=t.state,a=t.action,s=t.key;if(a!==l.POP){p.saveState(s,o);var u=(e||"")+n+r+i,c={key:s};if(a===l.PUSH){if(b)return window.location.href=u,!1;window.history.pushState(c,null,u)}else{if(b)return window.location.replace(u),!1;window.history.replaceState(c,null,u)}}}function i(t){1===++x&&(w=e(_));var n=_.listenBefore(t);return function(){n(),0===--x&&w()}}function o(t){1===++x&&(w=e(_));var n=_.listen(t);return function(){n(),0===--x&&w()}}function s(t){1===++x&&(w=e(_)),_.registerTransitionHook(t)}function d(t){_.unregisterTransitionHook(t),0===--x&&w()}var v=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];f.canUseDOM?void 0:"production"!==r.env.NODE_ENV?u["default"](!1,"Browser history needs a DOM"):u["default"](!1);var y=v.forceRefresh,g=h.supportsHistory(),b=!g||y,_=m["default"](a({},v,{getCurrentLocation:t,finishTransition:n,saveState:p.saveState})),x=0,w=void 0;return a({},_,{listenBefore:i,listen:o,registerTransitionHook:s,unregisterTransitionHook:d})}n.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=t("invariant"),u=i(s),l=t("./Actions"),c=t("./PathUtils"),f=t("./ExecutionEnvironment"),h=t("./DOMUtils"),p=t("./DOMStateStorage"),d=t("./createDOMHistory"),m=i(d);n["default"]=o,e.exports=n["default"]}).call(this,t("_process"))},{"./Actions":278,"./DOMStateStorage":280,"./DOMUtils":281,"./ExecutionEnvironment":282,"./PathUtils":283,"./createDOMHistory":285,_process:3,invariant:301}],285:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){function e(t){return l.canUseDOM?void 0:"production"!==r.env.NODE_ENV?u["default"](!1,"DOM history needs a DOM"):u["default"](!1),n.listen(t)}var n=h["default"](a({getUserConfirmation:c.getUserConfirmation},t,{go:c.go}));return a({},n,{listen:e})}n.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=t("invariant"),u=i(s),l=t("./ExecutionEnvironment"),c=t("./DOMUtils"),f=t("./createHistory"),h=i(f);n["default"]=o,e.exports=n["default"]}).call(this,t("_process"))},{"./DOMUtils":281,"./ExecutionEnvironment":282,"./createHistory":287,_process:3,invariant:301}],286:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){return"string"==typeof t&&"/"===t.charAt(0)}function a(){var t=b.getHashPath();return!!o(t)||(b.replaceHashPath("/"+t),!1)}function s(t,e,n){return t+(t.indexOf("?")===-1?"?":"&")+(e+"="+n)}function u(t,e){return t.replace(new RegExp("[?&]?"+e+"=[a-zA-Z0-9]+"),"")}function l(t,e){var n=t.match(new RegExp("\\?.*?\\b"+e+"=(.+?)\\b"));return n&&n[1]}function c(){function t(){var t=b.getHashPath(),e=void 0,n=void 0;k?(e=l(t,k),t=u(t,k),e?n=_.readState(e):(n=null,e=A.createKey(),b.replaceHashPath(s(t,k,e)))):e=n=null;var r=y.parsePath(t);return A.createLocation(f({},r,{state:n}),void 0,e)}function e(e){function n(){a()&&r(t())}var r=e.transitionTo;return a(),b.addEventListener(window,"hashchange",n),function(){b.removeEventListener(window,"hashchange",n)}}function n(t){var e=t.basename,n=t.pathname,i=t.search,o=t.state,a=t.action,u=t.key;if(a!==v.POP){var l=(e||"")+n+i;k?(l=s(l,k,u),_.saveState(u,o)):t.key=t.state=null;var c=b.getHashPath();a===v.PUSH?c!==l?window.location.hash=l:"production"!==r.env.NODE_ENV?p["default"](!1,"You cannot PUSH the same path using hash history"):void 0:c!==l&&b.replaceHashPath(l)}}function i(t){1===++I&&(O=e(A));var n=A.listenBefore(t);return function(){n(),0===--I&&O()}}function o(t){1===++I&&(O=e(A));var n=A.listen(t);return function(){n(),0===--I&&O()}}function c(t){"production"!==r.env.NODE_ENV?p["default"](k||null==t.state,"You cannot use state without a queryKey it will be dropped"):void 0,A.push(t)}function h(t){"production"!==r.env.NODE_ENV?p["default"](k||null==t.state,"You cannot use state without a queryKey it will be dropped"):void 0,A.replace(t)}function d(t){"production"!==r.env.NODE_ENV?p["default"](R,"Hash history go(n) causes a full page reload in this browser"):void 0,A.go(t)}function x(t){return"#"+A.createHref(t)}function E(t){1===++I&&(O=e(A)),A.registerTransitionHook(t)}function S(t){A.unregisterTransitionHook(t),0===--I&&O()}function T(t,e){"production"!==r.env.NODE_ENV?p["default"](k||null==t,"You cannot use state without a queryKey it will be dropped"):void 0,A.pushState(t,e)}function C(t,e){"production"!==r.env.NODE_ENV?p["default"](k||null==t,"You cannot use state without a queryKey it will be dropped"):void 0,A.replaceState(t,e)}var P=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];g.canUseDOM?void 0:"production"!==r.env.NODE_ENV?m["default"](!1,"Hash history needs a DOM"):m["default"](!1);var k=P.queryKey;(void 0===k||k)&&(k="string"==typeof k?k:M);var A=w["default"](f({},P,{getCurrentLocation:t,finishTransition:n,saveState:_.saveState})),I=0,O=void 0,R=b.supportsGoWithoutReloadUsingHash();return f({},A,{listenBefore:i,listen:o,push:c,replace:h,go:d,createHref:x,registerTransitionHook:E,unregisterTransitionHook:S,pushState:T,replaceState:C})}n.__esModule=!0;var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=t("warning"),p=i(h),d=t("invariant"),m=i(d),v=t("./Actions"),y=t("./PathUtils"),g=t("./ExecutionEnvironment"),b=t("./DOMUtils"),_=t("./DOMStateStorage"),x=t("./createDOMHistory"),w=i(x),M="_k";n["default"]=c,e.exports=n["default"]}).call(this,t("_process"))},{"./Actions":278,"./DOMStateStorage":280,"./DOMUtils":281,"./ExecutionEnvironment":282,"./PathUtils":283,"./createDOMHistory":285,_process:3,invariant:301,warning:299}],287:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){return Math.random().toString(36).substr(2,t)}function a(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.key===e.key&&h["default"](t.state,e.state)}function s(){function t(t){return U.push(t),function(){U=U.filter(function(e){return e!==t})}}function e(){return H&&H.action===m.POP?B.indexOf(H.key):q?B.indexOf(q.key):-1}function n(t){var n=e();q=t,q.action===m.PUSH?B=[].concat(B.slice(0,n+1),[q.key]):q.action===m.REPLACE&&(B[n]=q.key),V.forEach(function(t){t(q)})}function i(t){if(V.push(t),q)t(q);else{var e=D();B=[e.key],n(e)}return function(){V=V.filter(function(e){return e!==t})}}function s(t,e){d.loopAsync(U.length,function(e,n,r){b["default"](U[e],t,function(t){null!=t?r(t):n()})},function(t){z&&"string"==typeof t?z(t,function(t){e(t!==!1)}):e(t!==!1)})}function l(t){q&&a(q,t)||(H=t,s(t,function(e){if(H===t)if(e){if(t.action===m.PUSH){var r=E(q),i=E(t);i===r&&h["default"](q.state,t.state)&&(t.action=m.REPLACE)}N(t)!==!1&&n(t)}else if(q&&t.action===m.POP){var o=B.indexOf(q.key),a=B.indexOf(t.key);o!==-1&&a!==-1&&L(o-a)}}))}function f(t){l(T(t,m.PUSH,M()))}function v(t){l(T(t,m.REPLACE,M()))}function g(){L(-1)}function _(){L(1)}function M(){return o(F)}function E(t){if(null==t||"string"==typeof t)return t;var e=t.pathname,n=t.search,r=t.hash,i=e;return n&&(i+=n),r&&(i+=r),i}function S(t){return E(t)}function T(t,e){var n=arguments.length<=2||void 0===arguments[2]?M():arguments[2];return"object"==typeof e&&("production"!==r.env.NODE_ENV?c["default"](!1,"The state (2nd) argument to history.createLocation is deprecated; use a location descriptor instead"):void 0,"string"==typeof t&&(t=p.parsePath(t)),t=u({},t,{state:e}),e=n,n=arguments[3]||M()),y["default"](t,e,n)}function C(t){q?(P(q,t),n(q)):P(D(),t)}function P(t,e){t.state=u({},t.state,e),j(t.key,t.state)}function k(t){U.indexOf(t)===-1&&U.push(t)}function A(t){U=U.filter(function(e){return e!==t})}function I(t,e){"string"==typeof e&&(e=p.parsePath(e)),f(u({state:t},e))}function O(t,e){"string"==typeof e&&(e=p.parsePath(e)),v(u({state:t},e))}var R=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],D=R.getCurrentLocation,N=R.finishTransition,j=R.saveState,L=R.go,z=R.getUserConfirmation,F=R.keyLength;"number"!=typeof F&&(F=w);var U=[],B=[],V=[],q=void 0,H=void 0;return{listenBefore:t,listen:i,transitionTo:l,push:f,replace:v,go:L,goBack:g,goForward:_,createKey:M,createPath:E,createHref:S,createLocation:T,setState:x["default"](C,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:x["default"](k,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:x["default"](A,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead"),pushState:x["default"](I,"pushState is deprecated; use push instead"),replaceState:x["default"](O,"replaceState is deprecated; use replace instead")}}n.__esModule=!0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=t("warning"),c=i(l),f=t("deep-equal"),h=i(f),p=t("./PathUtils"),d=t("./AsyncUtils"),m=t("./Actions"),v=t("./createLocation"),y=i(v),g=t("./runTransitionHook"),b=i(g),_=t("./deprecate"),x=i(_),w=6;n["default"]=s,e.exports=n["default"]}).call(this,t("_process"))},{"./Actions":278,"./AsyncUtils":279,"./PathUtils":283,"./createLocation":288,"./deprecate":290,"./runTransitionHook":291,_process:3,"deep-equal":294,warning:299}],288:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],e=arguments.length<=1||void 0===arguments[1]?l.POP:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"string"==typeof t&&(t=c.parsePath(t)),"object"==typeof e&&("production"!==r.env.NODE_ENV?u["default"](!1,"The state (2nd) argument to createLocation is deprecated; use a location descriptor instead"):void 0,t=a({},t,{state:e}),e=n||l.POP,n=i);var o=t.pathname||"/",s=t.search||"",f=t.hash||"",h=t.state||null;return{pathname:o,search:s,hash:f,state:h,action:e,key:n}}n.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=t("warning"),u=i(s),l=t("./Actions"),c=t("./PathUtils");n["default"]=o,e.exports=n["default"]}).call(this,t("_process"))},{"./Actions":278,"./PathUtils":283,_process:3,warning:299}],289:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){return t.filter(function(t){return t.state}).reduce(function(t,e){return t[e.key]=e.state,t},{})}function a(){function t(t,e){b[t]=e}function e(t){return b[t]}function n(){var t=y[g],n=t.basename,r=t.pathname,i=t.search,o=(n||"")+r+(i||""),a=void 0,u=void 0;t.key?(a=t.key,u=e(a)):(a=d.createKey(),u=null,t.key=a);var l=h.parsePath(o);return d.createLocation(s({},l,{state:u}),void 0,a)}function i(t){var e=g+t;return e>=0&&e<y.length}function a(t){if(t){if(!i(t))return void("production"!==r.env.NODE_ENV?l["default"](!1,"Cannot go(%s) there is not enough history",t):void 0);g+=t;var e=n();d.transitionTo(s({},e,{action:p.POP}))}}function u(e){switch(e.action){case p.PUSH:g+=1,g<y.length&&y.splice(g),y.push(e),t(e.key,e.state);break;case p.REPLACE:y[g]=e,t(e.key,e.state)}}var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(c)?c={entries:c}:"string"==typeof c&&(c={entries:[c]});var d=m["default"](s({},c,{getCurrentLocation:n,finishTransition:u,saveState:t,go:a})),v=c,y=v.entries,g=v.current;"string"==typeof y?y=[y]:Array.isArray(y)||(y=["/"]),y=y.map(function(t){var e=d.createKey();return"string"==typeof t?{pathname:t,key:e}:"object"==typeof t&&t?s({},t,{key:e}):void("production"!==r.env.NODE_ENV?f["default"](!1,"Unable to create history entry from %s",t):f["default"](!1))}),null==g?g=y.length-1:g>=0&&g<y.length?void 0:"production"!==r.env.NODE_ENV?f["default"](!1,"Current index must be >= 0 and < %s, was %s",y.length,g):f["default"](!1);var b=o(y);return d}n.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=t("warning"),l=i(u),c=t("invariant"),f=i(c),h=t("./PathUtils"),p=t("./Actions"),d=t("./createHistory"),m=i(d);n["default"]=a,e.exports=n["default"]}).call(this,t("_process"))},{"./Actions":278,"./PathUtils":283,"./createHistory":287,_process:3,invariant:301,warning:299}],290:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return function(){return"production"!==r.env.NODE_ENV?s["default"](!1,"[history] "+e):void 0,t.apply(this,arguments)}}n.__esModule=!0;var a=t("warning"),s=i(a);n["default"]=o,e.exports=n["default"]}).call(this,t("_process"))},{_process:3,warning:299}],291:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,n){var i=t(e,n);t.length<2?n(i):"production"!==r.env.NODE_ENV?s["default"](void 0===i,'You should not "return" in a transition hook with a callback argument; call the callback instead'):void 0}n.__esModule=!0;var a=t("warning"),s=i(a);n["default"]=o,e.exports=n["default"]}).call(this,t("_process"))},{_process:3,warning:299}],292:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){return function(){function e(){if(!M){if(null==w&&l.canUseDOM){var t=document.getElementsByTagName("base")[0],e=t&&t.getAttribute("href");null!=e&&(w=e,"production"!==r.env.NODE_ENV?u["default"](!1,"Automatically setting basename using <base href> is deprecated and will be removed in the next major release. The semantics of <base href> are subtly different from basename. Please pass the basename explicitly in the options to createHistory"):void 0)}M=!0}}function n(t){return e(),w&&null==t.basename&&(0===t.pathname.indexOf(w)?(t.pathname=t.pathname.substring(w.length),t.basename=w,""===t.pathname&&(t.pathname="/")):t.basename=""),t}function i(t){if(e(),!w)return t;"string"==typeof t&&(t=c.parsePath(t));var n=t.pathname,r="/"===w.slice(-1)?w:w+"/",i="/"===n.charAt(0)?n.slice(1):n,o=r+i;return a({},t,{pathname:o})}function o(t){return x.listenBefore(function(e,r){h["default"](t,n(e),r)})}function s(t){return x.listen(function(e){t(n(e))})}function f(t){x.push(i(t))}function p(t){x.replace(i(t))}function m(t){return x.createPath(i(t))}function v(t){return x.createHref(i(t))}function y(t){for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return n(x.createLocation.apply(x,[i(t)].concat(r)))}function g(t,e){"string"==typeof e&&(e=c.parsePath(e)),f(a({state:t},e))}function b(t,e){"string"==typeof e&&(e=c.parsePath(e)),p(a({state:t},e))}var _=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],x=t(_),w=_.basename,M=!1;return a({},x,{listenBefore:o,listen:s,push:f,replace:p,createPath:m,createHref:v,createLocation:y,pushState:d["default"](g,"pushState is deprecated; use push instead"),replaceState:d["default"](b,"replaceState is deprecated; use replace instead")})}}n.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=t("warning"),u=i(s),l=t("./ExecutionEnvironment"),c=t("./PathUtils"),f=t("./runTransitionHook"),h=i(f),p=t("./deprecate"),d=i(p);n["default"]=o,e.exports=n["default"]}).call(this,t("_process"))},{"./ExecutionEnvironment":282,"./PathUtils":283,"./deprecate":290,"./runTransitionHook":291,_process:3,warning:299}],293:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){return f.stringify(t).replace(/%20/g,"+")}function a(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&"object"==typeof t[e]&&!Array.isArray(t[e])&&null!==t[e])return!0;return!1}function s(t){return function(){function e(t){if(null==t.query){var e=t.search;t.query=S(e.substring(1)),t[y]={search:e,searchBase:""}}return t}function n(t,e){var n,i=t[y],s=e?E(e):"";if(!i&&!s)return t;"production"!==r.env.NODE_ENV?c["default"](E!==o||!a(e),"useQueries does not stringify nested query objects by default; use a custom stringifyQuery function"):void 0,"string"==typeof t&&(t=d.parsePath(t));var l=void 0;l=i&&t.search===i.search?i.searchBase:t.search||"";var f=l;return s&&(f+=(f?"&":"?")+s),u({},t,(n={search:f},n[y]={search:f,searchBase:l},n))}function i(t){return M.listenBefore(function(n,r){p["default"](t,e(n),r)})}function s(t){return M.listen(function(n){t(e(n))})}function l(t){M.push(n(t,t.query))}function f(t){M.replace(n(t,t.query))}function h(t,e){return"production"!==r.env.NODE_ENV?c["default"](!e,"the query argument to createPath is deprecated; use a location descriptor instead"):void 0,M.createPath(n(t,e||t.query))}function m(t,e){return"production"!==r.env.NODE_ENV?c["default"](!e,"the query argument to createHref is deprecated; use a location descriptor instead"):void 0,M.createHref(n(t,e||t.query))}function b(t){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=M.createLocation.apply(M,[n(t,t.query)].concat(i));return t.query&&(a.query=t.query),e(a)}function _(t,e,n){"string"==typeof e&&(e=d.parsePath(e)),l(u({state:t},e,{query:n}))}function x(t,e,n){"string"==typeof e&&(e=d.parsePath(e)),f(u({state:t},e,{query:n}))}var w=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],M=t(w),E=w.stringifyQuery,S=w.parseQueryString;return"function"!=typeof E&&(E=o),"function"!=typeof S&&(S=g),u({},M,{listenBefore:i,listen:s,push:l,replace:f,createPath:h,createHref:m,createLocation:b,pushState:v["default"](_,"pushState is deprecated; use push instead"),replaceState:v["default"](x,"replaceState is deprecated; use replace instead")})}}n.__esModule=!0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=t("warning"),c=i(l),f=t("query-string"),h=t("./runTransitionHook"),p=i(h),d=t("./PathUtils"),m=t("./deprecate"),v=i(m),y="$searchBase",g=f.parse;n["default"]=s,e.exports=n["default"]}).call(this,t("_process"))},{"./PathUtils":283,"./deprecate":290,"./runTransitionHook":291,_process:3,"query-string":297,warning:299}],294:[function(t,e,n){function r(t){return null===t||void 0===t}function i(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}function o(t,e,n){var o,c;if(r(t)||r(e))return!1;if(t.prototype!==e.prototype)return!1;if(u(t))return!!u(e)&&(t=a.call(t),e=a.call(e),l(t,e,n));if(i(t)){if(!i(e))return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}try{var f=s(t),h=s(e)}catch(p){return!1}if(f.length!=h.length)return!1;for(f.sort(),h.sort(),o=f.length-1;o>=0;o--)if(f[o]!=h[o])return!1;for(o=f.length-1;o>=0;o--)if(c=f[o],!l(t[c],e[c],n))return!1;return typeof t==typeof e}var a=Array.prototype.slice,s=t("./lib/keys.js"),u=t("./lib/is_arguments.js"),l=e.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:o(t,e,n))}},{"./lib/is_arguments.js":295,"./lib/keys.js":296}],295:[function(t,e,n){function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();n=e.exports=o?r:i,n.supported=r,n.unsupported=i},{}],296:[function(t,e,n){function r(t){var e=[];for(var n in t)e.push(n);return e}n=e.exports="function"==typeof Object.keys?Object.keys:r,n.shim=r},{}],297:[function(t,e,n){"use strict";var r=t("strict-uri-encode");n.extract=function(t){return t.split("?")[1]||""},n.parse=function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#|&)/,""),t?t.split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),i=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),t.hasOwnProperty(r)?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i,t},{}):{})},n.stringify=function(t){return t?Object.keys(t).sort().map(function(e){var n=t[e];return void 0===n?"":null===n?e:Array.isArray(n)?n.slice().sort().map(function(t){return r(e)+"="+r(t)}).join("&"):r(e)+"="+r(n)}).filter(function(t){return t.length>0}).join("&"):""}},{"strict-uri-encode":298}],298:[function(t,e,n){"use strict";e.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},{}],299:[function(t,e,n){"use strict";var r=function(){};e.exports=r},{}],300:[function(t,e,n){arguments[4][235][0].apply(n,arguments)},{dup:235}],301:[function(t,e,n){arguments[4][236][0].apply(n,arguments)},{dup:236}],302:[function(t,e,n){arguments[4][299][0].apply(n,arguments)},{dup:299}],303:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;s=l=u=void 0,r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0}},c=t("react"),f=(r(c),t("react-dom")),h=r(f),p=t("tether"),d=r(p);d["default"]||console.error("It looks like Tether has not been included. Please load this dependency first https://github.com/HubSpot/tether");var m=[c.PropTypes.string,c.PropTypes.shape({appendChild:c.PropTypes.func.isRequired})],v=function(t,e,n){var r=t.children,i=c.Children.count(r);return i<=0?new Error(n+" expects at least one child to use as the target element."):i>2?new Error("Only a max of two children allowed in "+n+"."):void 0},y=["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],g=function(t){function e(){o(this,e),l(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments),this._targetNode=null,this._elementParentNode=null,this._tether=!1}return a(e,t),u(e,[{key:"componentDidMount",value:function(){this._targetNode=h["default"].findDOMNode(this),this._update()}},{key:"componentDidUpdate",value:function(t){this._update()}},{key:"componentWillUnmount",value:function(){this._destroy()}},{key:"disable",value:function(){this._tether.disable()}},{key:"enable",value:function(){this._tether.enable()}},{key:"position",value:function(){this._tether.position()}},{key:"_destroy",value:function(){this._elementParentNode&&(h["default"].unmountComponentAtNode(this._elementParentNode),this._elementParentNode.parentNode.removeChild(this._elementParentNode)),this._tether&&this._tether.destroy(),this._elementParentNode=null,this._tether=null}},{key:"_update",value:function(){var t=this,e=this.props,n=e.children,r=e.renderElementTag,i=c.Children.toArray(n)[1];return i?(this._elementParentNode||(this._elementParentNode=document.createElement(r),this._renderNode.appendChild(this._elementParentNode)),void h["default"].unstable_renderSubtreeIntoContainer(this,i,this._elementParentNode,function(){t._updateTether()})):void(this._tether&&this._destroy())}},{key:"_updateTether",value:function(){var t=this,e=this.props,n=(e.children,e.renderElementTag,e.renderElementTo,e.id),r=e.className,o=e.style,a=i(e,["children","renderElementTag","renderElementTo","id","className","style"]),u=s({target:this._targetNode,element:this._elementParentNode},a);n&&(this._elementParentNode.id=n),r&&(this._elementParentNode.className=r),o&&Object.keys(o).forEach(function(e){t._elementParentNode.style[e]=o[e]}),this._tether?this._tether.setOptions(u):this._tether=new d["default"](u),this._tether.position()}},{key:"render",value:function(){return c.Children.toArray(this.props.children)[0]}},{key:"_renderNode",get:function(){var t=this.props.renderElementTo;return"string"==typeof t?document.querySelector(t):t||document.body}}],[{key:"propTypes",value:{renderElementTag:c.PropTypes.string,renderElementTo:c.PropTypes.oneOfType(m),attachment:c.PropTypes.oneOf(y).isRequired,targetAttachment:c.PropTypes.oneOf(y),offset:c.PropTypes.string,targetOffset:c.PropTypes.string,targetModifier:c.PropTypes.string,enabled:c.PropTypes.bool,classes:c.PropTypes.object,classPrefix:c.PropTypes.string,optimizations:c.PropTypes.object,constraints:c.PropTypes.array,id:c.PropTypes.string,className:c.PropTypes.string,style:c.PropTypes.object,children:v},enumerable:!0},{key:"defaultProps",value:{renderElementTag:"div",renderElementTo:null},enumerable:!0}]),e}(c.Component);n["default"]=g,e.exports=n["default"]},{react:"react","react-dom":"react-dom",tether:304}],304:[function(t,e,n){!function(r,i){"function"==typeof define&&define.amd?define(i):"object"==typeof n?e.exports=i(t,n,e):r.Tether=i()}(this,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t.getBoundingClientRect(),n={};for(var r in e)n[r]=e[r];if(t.ownerDocument!==document){var o=t.ownerDocument.defaultView.frameElement;if(o){var a=i(o);n.top+=a.top,n.bottom+=a.top,n.left+=a.left,n.right+=a.left}}return n}function o(t){var e=getComputedStyle(t)||{},n=e.position,r=[];if("fixed"===n)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var o=void 0;try{o=getComputedStyle(i)}catch(a){}if("undefined"==typeof o||null===o)return r.push(i),r;var s=o,u=s.overflow,l=s.overflowX,c=s.overflowY;/(auto|scroll)/.test(u+c+l)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(o.position)>=0)&&r.push(i)}return r.push(t.ownerDocument.body),t.ownerDocument!==document&&r.push(t.ownerDocument.defaultView),r}function a(){S&&document.body.removeChild(S),S=null}function s(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,r=i(t),o=P();return r.top-=o.top,r.left-=o.left,"undefined"==typeof r.width&&(r.width=document.body.scrollWidth-r.left-r.right),"undefined"==typeof r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-n.clientTop,r.left=r.left-n.clientLeft,r.right=e.body.clientWidth-r.width-r.left,r.bottom=e.body.clientHeight-r.height-r.top,r}function u(t){return t.offsetParent||document.documentElement}function l(){if(k)return k;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");c(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;n===r&&(r=e.clientWidth),document.body.removeChild(e);var i=n-r;return k={width:i,height:i}}function c(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function f(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),r=d(t).replace(n," ");m(t,r)}}function h(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{f(t,e);var n=d(t)+(" "+e);m(t,n)}}function p(t,e){if("undefined"!=typeof t.classList)return t.classList.contains(e);var n=d(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function d(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function m(t,e){t.setAttribute("class",e)}function v(t,e,n){n.forEach(function(n){e.indexOf(n)===-1&&p(t,n)&&f(t,n)}),e.forEach(function(e){p(t,e)||h(t,e)})}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function g(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function b(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function _(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){var n=e.top,r=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof r&&(r=parseFloat(r,10)),t.top+=n,t.left+=r}),t}function x(t,e){return"string"==typeof t.left&&t.left.indexOf("%")!==-1&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&t.top.indexOf("%")!==-1&&(t.top=parseFloat(t.top,10)/100*e.height),t}function w(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),"undefined"!=typeof e.nodeType&&!function(){var t=e,n=s(e),r=n,i=getComputedStyle(e);if(e=[r.left,r.top,n.width+r.left,n.height+r.top],t.ownerDocument!==document){var o=t.ownerDocument.defaultView;e[0]+=o.pageXOffset,e[1]+=o.pageYOffset,e[2]+=o.pageXOffset,e[3]+=o.pageYOffset}Z.forEach(function(t,n){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[n]+=parseFloat(i["border"+t+"Width"]):e[n]-=parseFloat(i["border"+t+"Width"])})}(),e}var M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=void 0;"undefined"==typeof E&&(E={modules:[]});var S=null,T=function(){var t=0;return function(){return++t}}(),C={},P=function(){var t=S;t||(t=document.createElement("div"),t.setAttribute("data-tether-id",T()),c(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),S=t);var e=t.getAttribute("data-tether-id");return"undefined"==typeof C[e]&&(C[e]=i(t),I(function(){delete C[e]})),C[e]},k=null,A=[],I=function(t){A.push(t);
},O=function(){for(var t=void 0;t=A.pop();)t()},R=function(){function t(){r(this,t)}return M(t,[{key:"on",value:function(t,e,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:r})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[t])if("undefined"==typeof e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if("undefined"!=typeof this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],a=o.handler,s=o.ctx,u=o.once,l=s;"undefined"==typeof l&&(l=this),a.apply(l,r),u?this.bindings[t].splice(e,1):++e}}}}]),t}();E.Utils={getActualBoundingClientRect:i,getScrollParents:o,getBounds:s,getOffsetParent:u,extend:c,addClass:h,removeClass:f,hasClass:p,updateClasses:v,defer:I,flush:O,uniqueId:T,Evented:R,getScrollBarSize:l,removeUtilElements:a};var D=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}};if("undefined"==typeof E)throw new Error("You must include the utils.js file before tether.js");var j=E.Utils,o=j.getScrollParents,s=j.getBounds,u=j.getOffsetParent,c=j.extend,h=j.addClass,f=j.removeClass,v=j.updateClasses,I=j.defer,O=j.flush,l=j.getScrollBarSize,a=j.removeUtilElements,L=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var r=e[n];if(void 0!==t.style[r])return r}}(),z=[],F=function(){z.forEach(function(t){t.position(!1)}),O()};!function(){var t=null,e=null,n=null,r=function i(){return"undefined"!=typeof e&&e>16?(e=Math.min(e-16,250),void(n=setTimeout(i,250))):void("undefined"!=typeof t&&b()-t<10||(null!=n&&(clearTimeout(n),n=null),t=b(),F(),e=b()-t))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,r)})}();var U={center:"center",left:"right",right:"left"},B={middle:"middle",top:"bottom",bottom:"top"},V={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},q=function(t,e){var n=t.left,r=t.top;return"auto"===n&&(n=U[e.left]),"auto"===r&&(r=B[e.top]),{left:n,top:r}},H=function(t){var e=t.left,n=t.top;return"undefined"!=typeof V[t.left]&&(e=V[t.left]),"undefined"!=typeof V[t.top]&&(n=V[t.top]),{left:e,top:n}},W=function(t){var e=t.split(" "),n=D(e,2),r=n[0],i=n[1];return{top:r,left:i}},Y=W,G=function(t){function e(t){var n=this;r(this,e),N(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),z.push(this),this.history=[],this.setOptions(t,!1),E.modules.forEach(function(t){"undefined"!=typeof t.initialize&&t.initialize.call(n)}),this.position()}return y(e,t),M(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return"undefined"!=typeof e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],r={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=c(r,t);var i=this.options,a=i.element,s=i.target,u=i.targetModifier;if(this.element=a,this.target=s,this.targetModifier=u,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if("undefined"==typeof e[t])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),h(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&h(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=Y(this.options.targetAttachment),this.attachment=Y(this.options.attachment),this.offset=W(this.options.offset),this.targetOffset=W(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),this.options.enabled!==!1&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return s(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=s(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,n=this.target;n===document.body?(n=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=s(n);var r=getComputedStyle(n),i=n.scrollWidth>n.clientWidth||[r.overflow,r.overflowX].indexOf("scroll")>=0||this.target!==document.body,o=0;i&&(o=15);var a=t.height-parseFloat(r.borderTopWidth)-parseFloat(r.borderBottomWidth)-o,e={width:15,height:.975*a*(a/n.scrollHeight),left:t.left+t.width-parseFloat(r.borderLeftWidth)-15},u=0;a<408&&this.target===document.body&&(u=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var l=this.target.scrollTop/(n.scrollHeight-a);return e.top=l*(a-e.height-u)+t.top+parseFloat(r.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;f(this.target,this.getClass("enabled")),f(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),z.forEach(function(e,n){e===t&&z.splice(n,1)}),0===z.length&&a()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var r=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var i=this._addAttachClasses;t.top&&i.push(this.getClass("element-attached")+"-"+t.top),t.left&&i.push(this.getClass("element-attached")+"-"+t.left),e.top&&i.push(this.getClass("target-attached")+"-"+e.top),e.left&&i.push(this.getClass("target-attached")+"-"+e.left);var o=[];r.forEach(function(t){o.push(n.getClass("element-attached")+"-"+t),o.push(n.getClass("target-attached")+"-"+t)}),I(function(){"undefined"!=typeof n._addAttachClasses&&(v(n.element,n._addAttachClasses,o),n.options.addTargetClasses!==!1&&v(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=q(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var r=this.cache("element-bounds",function(){return s(t.element)}),i=r.width,o=r.height;if(0===i&&0===o&&"undefined"!=typeof this.lastSize){var a=this.lastSize;i=a.width,o=a.height}else this.lastSize={width:i,height:o};var c=this.cache("target-bounds",function(){return t.getTargetBounds()}),f=c,h=x(H(this.attachment),{width:i,height:o}),p=x(H(n),f),d=x(this.offset,{width:i,height:o}),m=x(this.targetOffset,f);h=_(h,d),p=_(p,m);for(var v=c.left+p.left-h.left,y=c.top+p.top-h.top,g=0;g<E.modules.length;++g){var b=E.modules[g],w=b.position.call(this,{left:v,top:y,targetAttachment:n,targetPos:c,elementPos:r,offset:h,targetOffset:p,manualOffset:d,manualTargetOffset:m,scrollbarSize:C,attachment:this.attachment});if(w===!1)return!1;"undefined"!=typeof w&&"object"==typeof w&&(y=w.top,v=w.left)}var M={page:{top:y,left:v},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-o+innerHeight,left:v-pageXOffset,right:pageXOffset-v-i+innerWidth}},S=this.target.ownerDocument,T=S.defaultView,C=void 0;return T.innerHeight>S.documentElement.clientHeight&&(C=this.cache("scrollbar-size",l),M.viewport.bottom-=C.height),T.innerWidth>S.documentElement.clientWidth&&(C=this.cache("scrollbar-size",l),M.viewport.right-=C.width),["","static"].indexOf(S.body.style.position)!==-1&&["","static"].indexOf(S.body.parentElement.style.position)!==-1||(M.page.bottom=S.body.scrollHeight-y-o,M.page.right=S.body.scrollWidth-v-i),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var e=t.cache("target-offsetparent",function(){return u(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return s(e)}),r=getComputedStyle(e),i=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(r["border"+t+"Width"])}),n.right=S.body.scrollWidth-n.left-i.width+o.right,n.bottom=S.body.scrollHeight-n.top-i.height+o.bottom,M.page.top>=n.top+o.top&&M.page.bottom>=n.bottom&&M.page.left>=n.left+o.left&&M.page.right>=n.right){var a=e.scrollTop,l=e.scrollLeft;M.offset={top:M.page.top-n.top+a-o.top,left:M.page.left-n.left+l-o.left}}}(),this.move(M),this.history.unshift(M),this.history.length>3&&this.history.pop(),e&&O(),!0}}},{key:"move",value:function(t){var e=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var r in t){n[r]={};for(var i in t[r]){for(var o=!1,a=0;a<this.history.length;++a){var s=this.history[a];if("undefined"!=typeof s[r]&&!g(s[r][i],t[r][i])){o=!0;break}}o||(n[r][i]=!0)}}var l={top:"",left:"",right:"",bottom:""},f=function(t,n){var r="undefined"!=typeof e.options.optimizations,i=r?e.options.optimizations.gpu:null;if(i!==!1){var o=void 0,a=void 0;if(t.top?(l.top=0,o=n.top):(l.bottom=0,o=-n.bottom),t.left?(l.left=0,a=n.left):(l.right=0,a=-n.right),window.matchMedia){var s=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;s||(a=Math.round(a),o=Math.round(o))}l[L]="translateX("+a+"px) translateY("+o+"px)","msTransform"!==L&&(l[L]+=" translateZ(0)")}else t.top?l.top=n.top+"px":l.bottom=n.bottom+"px",t.left?l.left=n.left+"px":l.right=n.right+"px"},h=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(l.position="absolute",f(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(l.position="fixed",f(n.viewport,t.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?!function(){l.position="absolute";var r=e.cache("target-offsetparent",function(){return u(e.target)});u(e.element)!==r&&I(function(){e.element.parentNode.removeChild(e.element),r.appendChild(e.element)}),f(n.offset,t.offset),h=!0}():(l.position="absolute",f({top:!0,left:!0},t.page)),!h){for(var p=!0,d=this.element.parentNode;d&&1===d.nodeType&&"BODY"!==d.tagName;){if("static"!==getComputedStyle(d).position){p=!1;break}d=d.parentNode}p||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},v=!1;for(var i in l){var y=l[i],b=this.element.style[i];b!==y&&(v=!0,m[i]=y)}v&&I(function(){c(e.element.style,m),e.trigger("repositioned")})}}}]),e}(R);G.modules=[],E.position=F;var X=c(G,E),D=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),j=E.Utils,s=j.getBounds,c=j.extend,v=j.updateClasses,I=j.defer,Z=["left","top","right","bottom"];E.modules.push({position:function(t){var e=this,n=t.top,r=t.left,i=t.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return s(e.element)}),a=o.height,u=o.width;if(0===u&&0===a&&"undefined"!=typeof this.lastSize){var l=this.lastSize;u=l.width,a=l.height}var f=this.cache("target-bounds",function(){return e.getTargetBounds()}),h=f.height,p=f.width,d=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&d.push(e),n&&d.push(n)}),d.forEach(function(t){["left","top","right","bottom"].forEach(function(e){d.push(t+"-"+e)})});var m=[],y=c({},i),g=c({},this.attachment);return this.options.constraints.forEach(function(t){var o=t.to,s=t.attachment,l=t.pin;"undefined"==typeof s&&(s="");var c=void 0,f=void 0;if(s.indexOf(" ")>=0){var d=s.split(" "),v=D(d,2);f=v[0],c=v[1]}else c=f=s;var b=w(e,o);"target"!==f&&"both"!==f||(n<b[1]&&"top"===y.top&&(n+=h,y.top="bottom"),n+a>b[3]&&"bottom"===y.top&&(n-=h,y.top="top")),"together"===f&&("top"===y.top&&("bottom"===g.top&&n<b[1]?(n+=h,y.top="bottom",n+=a,g.top="top"):"top"===g.top&&n+a>b[3]&&n-(a-h)>=b[1]&&(n-=a-h,y.top="bottom",g.top="bottom")),"bottom"===y.top&&("top"===g.top&&n+a>b[3]?(n-=h,y.top="top",n-=a,g.top="bottom"):"bottom"===g.top&&n<b[1]&&n+(2*a-h)<=b[3]&&(n+=a-h,y.top="top",g.top="top")),"middle"===y.top&&(n+a>b[3]&&"top"===g.top?(n-=a,g.top="bottom"):n<b[1]&&"bottom"===g.top&&(n+=a,g.top="top"))),"target"!==c&&"both"!==c||(r<b[0]&&"left"===y.left&&(r+=p,y.left="right"),r+u>b[2]&&"right"===y.left&&(r-=p,y.left="left")),"together"===c&&(r<b[0]&&"left"===y.left?"right"===g.left?(r+=p,y.left="right",r+=u,g.left="left"):"left"===g.left&&(r+=p,y.left="right",r-=u,g.left="right"):r+u>b[2]&&"right"===y.left?"left"===g.left?(r-=p,y.left="left",r-=u,g.left="right"):"right"===g.left&&(r-=p,y.left="left",r+=u,g.left="left"):"center"===y.left&&(r+u>b[2]&&"left"===g.left?(r-=u,g.left="right"):r<b[0]&&"right"===g.left&&(r+=u,g.left="left"))),"element"!==f&&"both"!==f||(n<b[1]&&"bottom"===g.top&&(n+=a,g.top="top"),n+a>b[3]&&"top"===g.top&&(n-=a,g.top="bottom")),"element"!==c&&"both"!==c||(r<b[0]&&("right"===g.left?(r+=u,g.left="left"):"center"===g.left&&(r+=u/2,g.left="left")),r+u>b[2]&&("left"===g.left?(r-=u,g.left="right"):"center"===g.left&&(r-=u/2,g.left="right"))),"string"==typeof l?l=l.split(",").map(function(t){return t.trim()}):l===!0&&(l=["top","left","right","bottom"]),l=l||[];var _=[],x=[];n<b[1]&&(l.indexOf("top")>=0?(n=b[1],_.push("top")):x.push("top")),n+a>b[3]&&(l.indexOf("bottom")>=0?(n=b[3]-a,_.push("bottom")):x.push("bottom")),r<b[0]&&(l.indexOf("left")>=0?(r=b[0],_.push("left")):x.push("left")),r+u>b[2]&&(l.indexOf("right")>=0?(r=b[2]-u,_.push("right")):x.push("right")),_.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),m.push(t),_.forEach(function(e){m.push(t+"-"+e)})}(),x.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),m.push(t),x.forEach(function(e){m.push(t+"-"+e)})}(),(_.indexOf("left")>=0||_.indexOf("right")>=0)&&(g.left=y.left=!1),(_.indexOf("top")>=0||_.indexOf("bottom")>=0)&&(g.top=y.top=!1),y.top===i.top&&y.left===i.left&&g.top===e.attachment.top&&g.left===e.attachment.left||(e.updateAttachClasses(g,y),e.trigger("update",{attachment:g,targetAttachment:y}))}),I(function(){e.options.addTargetClasses!==!1&&v(e.target,m,d),v(e.element,m,d)}),{top:n,left:r}}});var j=E.Utils,s=j.getBounds,v=j.updateClasses,I=j.defer;E.modules.push({position:function(t){var e=this,n=t.top,r=t.left,i=this.cache("element-bounds",function(){return s(e.element)}),o=i.height,a=i.width,u=this.getTargetBounds(),l=n+o,c=r+a,f=[];n<=u.bottom&&l>=u.top&&["left","right"].forEach(function(t){var e=u[t];e!==r&&e!==c||f.push(t)}),r<=u.right&&c>=u.left&&["top","bottom"].forEach(function(t){var e=u[t];e!==n&&e!==l||f.push(t)});var h=[],p=[],d=["left","top","right","bottom"];return h.push(this.getClass("abutted")),d.forEach(function(t){h.push(e.getClass("abutted")+"-"+t)}),f.length&&p.push(this.getClass("abutted")),f.forEach(function(t){p.push(e.getClass("abutted")+"-"+t)}),I(function(){e.options.addTargetClasses!==!1&&v(e.target,p,h),v(e.element,p,h)}),!0}});var D=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return E.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var r=this.options.shift;"function"==typeof this.options.shift&&(r=this.options.shift.call(this,{top:e,left:n}));var i=void 0,o=void 0;if("string"==typeof r){r=r.split(" "),r[1]=r[1]||r[0];var a=r,s=D(a,2);i=s[0],o=s[1],i=parseFloat(i,10),o=parseFloat(o,10)}else i=r.top,o=r.left;return e+=i,n+=o,{top:e,left:n}}}}),X})},{}],305:[function(t,e,n){"use strict";var r=t("./ReactDOMComponentTree"),i=t("fbjs/lib/focusNode"),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},{"./ReactDOMComponentTree":348,"fbjs/lib/focusNode":462}],306:[function(t,e,n){"use strict";function r(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function i(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case P.topCompositionStart:return k.compositionStart;case P.topCompositionEnd:return k.compositionEnd;case P.topCompositionUpdate:return k.compositionUpdate}}function a(t,e){return t===P.topKeyDown&&e.keyCode===x}function s(t,e){switch(t){case P.topKeyUp:return _.indexOf(e.keyCode)!==-1;case P.topKeyDown:return e.keyCode!==x;case P.topKeyPress:case P.topMouseDown:case P.topBlur:return!0;default:return!1}}function u(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function l(t,e,n,r){var i,l;if(w?i=o(t):I?s(t,n)&&(i=k.compositionEnd):a(t,n)&&(i=k.compositionStart),!i)return null;S&&(I||i!==k.compositionStart?i===k.compositionEnd&&I&&(l=I.getData()):I=v.getPooled(r));var c=y.getPooled(i,e,n,r);if(l)c.data=l;else{var f=u(n);null!==f&&(c.data=f)}return d.accumulateTwoPhaseDispatches(c),c}function c(t,e){switch(t){case P.topCompositionEnd:return u(e);case P.topKeyPress:var n=e.which;return n!==T?null:(A=!0,C);case P.topTextInput:var r=e.data;return r===C&&A?null:r;default:return null}}function f(t,e){if(I){if(t===P.topCompositionEnd||!w&&s(t,e)){var n=I.getData();return v.release(I),I=null,n}return null}switch(t){case P.topPaste:return null;case P.topKeyPress:return e.which&&!i(e)?String.fromCharCode(e.which):null;case P.topCompositionEnd:return S?null:e.data;default:return null}}function h(t,e,n,r){var i;if(i=E?c(t,n):f(t,n),!i)return null;var o=g.getPooled(k.beforeInput,e,n,r);return o.data=i,d.accumulateTwoPhaseDispatches(o),o}var p=t("./EventConstants"),d=t("./EventPropagators"),m=t("fbjs/lib/ExecutionEnvironment"),v=t("./FallbackCompositionState"),y=t("./SyntheticCompositionEvent"),g=t("./SyntheticInputEvent"),b=t("fbjs/lib/keyOf"),_=[9,13,27,32],x=229,w=m.canUseDOM&&"CompositionEvent"in window,M=null;m.canUseDOM&&"documentMode"in document&&(M=document.documentMode);var E=m.canUseDOM&&"TextEvent"in window&&!M&&!r(),S=m.canUseDOM&&(!w||M&&M>8&&M<=11),T=32,C=String.fromCharCode(T),P=p.topLevelTypes,k={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[P.topCompositionEnd,P.topKeyPress,P.topTextInput,P.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[P.topBlur,P.topCompositionEnd,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[P.topBlur,P.topCompositionStart,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[P.topBlur,P.topCompositionUpdate,P.topKeyDown,P.topKeyPress,P.topKeyUp,P.topMouseDown]}},A=!1,I=null,O={eventTypes:k,extractEvents:function(t,e,n,r){return[l(t,e,n,r),h(t,e,n,r)]}};e.exports=O},{"./EventConstants":320,"./EventPropagators":324,"./FallbackCompositionState":325,"./SyntheticCompositionEvent":408,"./SyntheticInputEvent":412,"fbjs/lib/ExecutionEnvironment":454,"fbjs/lib/keyOf":472}],307:[function(t,e,n){"use strict";function r(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(t){o.forEach(function(e){i[r(e,t)]=i[t]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:a};e.exports=s},{}],308:[function(t,e,n){"use strict";var r=t("./CSSProperty"),i=t("fbjs/lib/ExecutionEnvironment"),o=(t("./ReactInstrumentation"),t("fbjs/lib/camelizeStyleName"),t("./dangerousStyleValue")),a=t("fbjs/lib/hyphenateStyleName"),s=t("fbjs/lib/memoizeStringOnly"),u=(t("fbjs/lib/warning"),s(function(t){return a(t)})),l=!1,c="cssFloat";if(i.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(h){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var p={createMarkupForStyles:function(t,e){var n="";for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];null!=i&&(n+=u(r)+":",n+=o(r,i,e)+";")}return n||null},setValueForStyles:function(t,e,n){var i=t.style;for(var a in e)if(e.hasOwnProperty(a)){var s=o(a,e[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)i[a]=s;else{var u=l&&r.shorthandPropertyExpansions[a];if(u)for(var f in u)i[f]="";else i[a]=""}}}};e.exports=p},{"./CSSProperty":307,"./ReactInstrumentation":378,"./dangerousStyleValue":426,"fbjs/lib/ExecutionEnvironment":454,"fbjs/lib/camelizeStyleName":456,"fbjs/lib/hyphenateStyleName":467,"fbjs/lib/memoizeStringOnly":473,"fbjs/lib/warning":477}],309:[function(t,e,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=t("./reactProdInvariant"),o=t("object-assign"),a=t("./PooledClass");t("fbjs/lib/invariant");o(r.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){t.length!==e.length?i("24"):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<t.length;n++)t[n].call(e[n]);t.length=0,e.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(t){this._callbacks&&(this._callbacks.length=t,this._contexts.length=t)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(r),e.exports=r},{"./PooledClass":329,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"object-assign":478}],310:[function(t,e,n){"use strict";function r(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function i(t){var e=E.getPooled(A.change,O,t,S(t));_.accumulateTwoPhaseDispatches(e),M.batchedUpdates(o,e)}function o(t){b.enqueueEvents(t),b.processEventQueue(!1)}function a(t,e){I=t,O=e,I.attachEvent("onchange",i)}function s(){I&&(I.detachEvent("onchange",i),I=null,O=null)}function u(t,e){if(t===k.topChange)return e}function l(t,e,n){t===k.topFocus?(s(),a(e,n)):t===k.topBlur&&s()}function c(t,e){I=t,O=e,R=t.value,D=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(I,"value",L),I.attachEvent?I.attachEvent("onpropertychange",h):I.addEventListener("propertychange",h,!1)}function f(){I&&(delete I.value,I.detachEvent?I.detachEvent("onpropertychange",h):I.removeEventListener("propertychange",h,!1),I=null,O=null,R=null,D=null)}function h(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==R&&(R=e,i(t))}}function p(t,e){if(t===k.topInput)return e}function d(t,e,n){t===k.topFocus?(f(),c(e,n)):t===k.topBlur&&f()}function m(t,e){if((t===k.topSelectionChange||t===k.topKeyUp||t===k.topKeyDown)&&I&&I.value!==R)return R=I.value,O}function v(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function y(t,e){if(t===k.topClick)return e}var g=t("./EventConstants"),b=t("./EventPluginHub"),_=t("./EventPropagators"),x=t("fbjs/lib/ExecutionEnvironment"),w=t("./ReactDOMComponentTree"),M=t("./ReactUpdates"),E=t("./SyntheticEvent"),S=t("./getEventTarget"),T=t("./isEventSupported"),C=t("./isTextInputElement"),P=t("fbjs/lib/keyOf"),k=g.topLevelTypes,A={change:{phasedRegistrationNames:{bubbled:P({onChange:null}),captured:P({onChangeCapture:null})},dependencies:[k.topBlur,k.topChange,k.topClick,k.topFocus,k.topInput,k.topKeyDown,k.topKeyUp,k.topSelectionChange]}},I=null,O=null,R=null,D=null,N=!1;x.canUseDOM&&(N=T("change")&&(!document.documentMode||document.documentMode>8));var j=!1;x.canUseDOM&&(j=T("input")&&(!document.documentMode||document.documentMode>11));var L={get:function(){return D.get.call(this)},set:function(t){R=""+t,D.set.call(this,t)}},z={eventTypes:A,extractEvents:function(t,e,n,i){var o,a,s=e?w.getNodeFromInstance(e):window;if(r(s)?N?o=u:a=l:C(s)?j?o=p:(o=m,a=d):v(s)&&(o=y),o){var c=o(t,e);if(c){var f=E.getPooled(A.change,c,n,i);return f.type="change",_.accumulateTwoPhaseDispatches(f),f}}a&&a(t,s,e)}};e.exports=z},{"./EventConstants":320,"./EventPluginHub":321,"./EventPropagators":324,"./ReactDOMComponentTree":348,"./ReactUpdates":401,"./SyntheticEvent":410,"./getEventTarget":434,"./isEventSupported":441,"./isTextInputElement":442,"fbjs/lib/ExecutionEnvironment":454,"fbjs/lib/keyOf":472}],311:[function(t,e,n){"use strict";function r(t,e){return Array.isArray(e)&&(e=e[1]),e?e.nextSibling:t.firstChild}function i(t,e,n){c.insertTreeBefore(t,e,n)}function o(t,e,n){Array.isArray(e)?s(t,e[0],e[1],n):v(t,e,n)}function a(t,e){if(Array.isArray(e)){var n=e[1];e=e[0],u(t,e,n),t.removeChild(n)}t.removeChild(e)}function s(t,e,n,r){for(var i=e;;){var o=i.nextSibling;if(v(t,i,r),i===n)break;i=o}}function u(t,e,n){for(;;){var r=e.nextSibling;if(r===n)break;t.removeChild(r)}}function l(t,e,n){var r=t.parentNode,i=t.nextSibling;i===e?n&&v(r,document.createTextNode(n),i):n?(m(i,n),u(r,i,e)):u(r,t,e)}var c=t("./DOMLazyTree"),f=t("./Danger"),h=t("./ReactMultiChildUpdateTypes"),p=(t("./ReactDOMComponentTree"),t("./ReactInstrumentation"),t("./createMicrosoftUnsafeLocalFunction")),d=t("./setInnerHTML"),m=t("./setTextContent"),v=p(function(t,e,n){t.insertBefore(e,n)}),y=f.dangerouslyReplaceNodeWithMarkup,g={dangerouslyReplaceNodeWithMarkup:y,replaceDelimitedText:l,processUpdates:function(t,e){for(var n=0;n<e.length;n++){var s=e[n];switch(s.type){case h.INSERT_MARKUP:i(t,s.content,r(t,s.afterNode));break;case h.MOVE_EXISTING:o(t,s.fromNode,r(t,s.afterNode));break;case h.SET_MARKUP:d(t,s.content);break;case h.TEXT_CONTENT:m(t,s.content);break;case h.REMOVE_NODE:a(t,s.fromNode)}}}};e.exports=g},{"./DOMLazyTree":312,"./Danger":316,"./ReactDOMComponentTree":348,"./ReactInstrumentation":378,"./ReactMultiChildUpdateTypes":383,"./createMicrosoftUnsafeLocalFunction":425,"./setInnerHTML":447,"./setTextContent":448}],312:[function(t,e,n){"use strict";function r(t){if(v){var e=t.node,n=t.children;if(n.length)for(var r=0;r<n.length;r++)y(e,n[r],null);else null!=t.html?f(e,t.html):null!=t.text&&p(e,t.text)}}function i(t,e){t.parentNode.replaceChild(e.node,t),r(e)}function o(t,e){v?t.children.push(e):t.node.appendChild(e.node)}function a(t,e){v?t.html=e:f(t.node,e)}function s(t,e){v?t.text=e:p(t.node,e)}function u(){return this.node.nodeName}function l(t){return{node:t,children:[],html:null,text:null,toString:u}}var c=t("./DOMNamespaces"),f=t("./setInnerHTML"),h=t("./createMicrosoftUnsafeLocalFunction"),p=t("./setTextContent"),d=1,m=11,v="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),y=h(function(t,e,n){e.node.nodeType===m||e.node.nodeType===d&&"object"===e.node.nodeName.toLowerCase()&&(null==e.node.namespaceURI||e.node.namespaceURI===c.html)?(r(e),t.insertBefore(e.node,n)):(t.insertBefore(e.node,n),r(e))});l.insertTreeBefore=y,l.replaceChildWithTree=i,l.queueChild=o,l.queueHTML=a,l.queueText=s,e.exports=l},{"./DOMNamespaces":313,"./createMicrosoftUnsafeLocalFunction":425,
"./setInnerHTML":447,"./setTextContent":448}],313:[function(t,e,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=r},{}],314:[function(t,e,n){"use strict";function r(t,e){return(t&e)===e}var i=t("./reactProdInvariant"),o=(t("fbjs/lib/invariant"),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(t){var e=o,n=t.Properties||{},a=t.DOMAttributeNamespaces||{},u=t.DOMAttributeNames||{},l=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};t.isCustomAttribute&&s._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var f in n){s.properties.hasOwnProperty(f)?i("48",f):void 0;var h=f.toLowerCase(),p=n[f],d={attributeName:h,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:r(p,e.MUST_USE_PROPERTY),hasBooleanValue:r(p,e.HAS_BOOLEAN_VALUE),hasNumericValue:r(p,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(p,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(p,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:i("50",f),u.hasOwnProperty(f)){var m=u[f];d.attributeName=m}a.hasOwnProperty(f)&&(d.attributeNamespace=a[f]),l.hasOwnProperty(f)&&(d.propertyName=l[f]),c.hasOwnProperty(f)&&(d.mutationMethod=c[f]),s.properties[f]=d}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<s._isCustomAttributeFunctions.length;e++){var n=s._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},injection:o};e.exports=s},{"./reactProdInvariant":445,"fbjs/lib/invariant":468}],315:[function(t,e,n){"use strict";function r(t){return!!l.hasOwnProperty(t)||!u.hasOwnProperty(t)&&(s.test(t)?(l[t]=!0,!0):(u[t]=!0,!1))}function i(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&e<1||t.hasOverloadedBooleanValue&&e===!1}var o=t("./DOMProperty"),a=(t("./ReactDOMComponentTree"),t("./ReactInstrumentation"),t("./quoteAttributeValueForBrowser")),s=(t("fbjs/lib/warning"),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(t){return o.ID_ATTRIBUTE_NAME+"="+a(t)},setAttributeForID:function(t,e){t.setAttribute(o.ID_ATTRIBUTE_NAME,e)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(t){t.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(t,e){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){if(i(n,e))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?r+'=""':r+"="+a(e)}return o.isCustomAttribute(t)?null==e?"":t+"="+a(e):null},createMarkupForCustomAttribute:function(t,e){return r(t)&&null!=e?t+"="+a(e):""},setValueForProperty:function(t,e,n){var r=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(r){var a=r.mutationMethod;if(a)a(t,n);else{if(i(r,n))return void this.deleteValueForProperty(t,e);if(r.mustUseProperty)t[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?t.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?t.setAttribute(s,""):t.setAttribute(s,""+n)}}}else if(o.isCustomAttribute(e))return void c.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){if(r(e)){null==n?t.removeAttribute(e):t.setAttribute(e,""+n)}},deleteValueForAttribute:function(t,e){t.removeAttribute(e)},deleteValueForProperty:function(t,e){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){var r=n.mutationMethod;if(r)r(t,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?t[i]=!1:t[i]=""}else t.removeAttribute(n.attributeName)}else o.isCustomAttribute(e)&&t.removeAttribute(e)}};e.exports=c},{"./DOMProperty":314,"./ReactDOMComponentTree":348,"./ReactInstrumentation":378,"./quoteAttributeValueForBrowser":444,"fbjs/lib/warning":477}],316:[function(t,e,n){"use strict";var r=t("./reactProdInvariant"),i=t("./DOMLazyTree"),o=t("fbjs/lib/ExecutionEnvironment"),a=t("fbjs/lib/createNodesFromMarkup"),s=t("fbjs/lib/emptyFunction"),u=(t("fbjs/lib/invariant"),{dangerouslyReplaceNodeWithMarkup:function(t,e){if(o.canUseDOM?void 0:r("56"),e?void 0:r("57"),"HTML"===t.nodeName?r("58"):void 0,"string"==typeof e){var n=a(e,s)[0];t.parentNode.replaceChild(n,t)}else i.replaceChildWithTree(t,e)}});e.exports=u},{"./DOMLazyTree":312,"./reactProdInvariant":445,"fbjs/lib/ExecutionEnvironment":454,"fbjs/lib/createNodesFromMarkup":459,"fbjs/lib/emptyFunction":460,"fbjs/lib/invariant":468}],317:[function(t,e,n){"use strict";var r=t("fbjs/lib/keyOf"),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=i},{"fbjs/lib/keyOf":472}],318:[function(t,e,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getHostProps:function(t,e){if(!e.disabled)return e;var n={};for(var i in e)!r[i]&&e.hasOwnProperty(i)&&(n[i]=e[i]);return n}};e.exports=i},{}],319:[function(t,e,n){"use strict";var r=t("./EventConstants"),i=t("./EventPropagators"),o=t("./ReactDOMComponentTree"),a=t("./SyntheticMouseEvent"),s=t("fbjs/lib/keyOf"),u=r.topLevelTypes,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},c={eventTypes:l,extractEvents:function(t,e,n,r){if(t===u.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(t!==u.topMouseOut&&t!==u.topMouseOver)return null;var s;if(r.window===r)s=r;else{var c=r.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var f,h;if(t===u.topMouseOut){f=e;var p=n.relatedTarget||n.toElement;h=p?o.getClosestInstanceFromNode(p):null}else f=null,h=e;if(f===h)return null;var d=null==f?s:o.getNodeFromInstance(f),m=null==h?s:o.getNodeFromInstance(h),v=a.getPooled(l.mouseLeave,f,n,r);v.type="mouseleave",v.target=d,v.relatedTarget=m;var y=a.getPooled(l.mouseEnter,h,n,r);return y.type="mouseenter",y.target=m,y.relatedTarget=d,i.accumulateEnterLeaveDispatches(v,y,f,h),[v,y]}};e.exports=c},{"./EventConstants":320,"./EventPropagators":324,"./ReactDOMComponentTree":348,"./SyntheticMouseEvent":414,"fbjs/lib/keyOf":472}],320:[function(t,e,n){"use strict";var r=t("fbjs/lib/keyMirror"),i=r({bubbled:null,captured:null}),o=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};e.exports=a},{"fbjs/lib/keyMirror":471}],321:[function(t,e,n){"use strict";var r=t("./reactProdInvariant"),i=t("./EventPluginRegistry"),o=t("./EventPluginUtils"),a=t("./ReactErrorUtils"),s=t("./accumulateInto"),u=t("./forEachAccumulated"),l=(t("fbjs/lib/invariant"),{}),c=null,f=function(t,e){t&&(o.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},h=function(t){return f(t,!0)},p=function(t){return f(t,!1)},d=function(t){return"."+t._rootNodeID},m={injection:{injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},putListener:function(t,e,n){"function"!=typeof n?r("94",e,typeof n):void 0;var o=d(t),a=l[e]||(l[e]={});a[o]=n;var s=i.registrationNameModules[e];s&&s.didPutListener&&s.didPutListener(t,e,n)},getListener:function(t,e){var n=l[e],r=d(t);return n&&n[r]},deleteListener:function(t,e){var n=i.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var r=l[e];if(r){var o=d(t);delete r[o]}},deleteAllListeners:function(t){var e=d(t);for(var n in l)if(l.hasOwnProperty(n)&&l[n][e]){var r=i.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(t,n),delete l[n][e]}},extractEvents:function(t,e,n,r){for(var o,a=i.plugins,u=0;u<a.length;u++){var l=a[u];if(l){var c=l.extractEvents(t,e,n,r);c&&(o=s(o,c))}}return o},enqueueEvents:function(t){t&&(c=s(c,t))},processEventQueue:function(t){var e=c;c=null,t?u(e,h):u(e,p),c?r("95"):void 0,a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};e.exports=m},{"./EventPluginRegistry":322,"./EventPluginUtils":323,"./ReactErrorUtils":369,"./accumulateInto":421,"./forEachAccumulated":430,"./reactProdInvariant":445,"fbjs/lib/invariant":468}],322:[function(t,e,n){"use strict";function r(){if(s)for(var t in u){var e=u[t],n=s.indexOf(t);if(n>-1?void 0:a("96",t),!l.plugins[n]){e.extractEvents?void 0:a("97",t),l.plugins[n]=e;var r=e.eventTypes;for(var o in r)i(r[o],e,o)?void 0:a("98",o,t)}}}function i(t,e,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,l.eventNameDispatchConfigs[n]=t;var r=t.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,e,n)}return!0}return!!t.registrationName&&(o(t.registrationName,e,n),!0)}function o(t,e,n){l.registrationNameModules[t]?a("100",t):void 0,l.registrationNameModules[t]=e,l.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var a=t("./reactProdInvariant"),s=(t("fbjs/lib/invariant"),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(t){s?a("101"):void 0,s=Array.prototype.slice.call(t),r()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];u.hasOwnProperty(n)&&u[n]===i||(u[n]?a("102",n):void 0,u[n]=i,e=!0)}e&&r()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return l.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[e.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var t in u)u.hasOwnProperty(t)&&delete u[t];l.plugins.length=0;var e=l.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=l.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=l},{"./reactProdInvariant":445,"fbjs/lib/invariant":468}],323:[function(t,e,n){"use strict";function r(t){return t===g.topMouseUp||t===g.topTouchEnd||t===g.topTouchCancel}function i(t){return t===g.topMouseMove||t===g.topTouchMove}function o(t){return t===g.topMouseDown||t===g.topTouchStart}function a(t,e,n,r){var i=t.type||"unknown-event";t.currentTarget=b.getNodeFromInstance(r),e?v.invokeGuardedCallbackWithCatch(i,n,t):v.invokeGuardedCallback(i,n,t),t.currentTarget=null}function s(t,e){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)a(t,e,n[i],r[i]);else n&&a(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null}function u(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e)){for(var r=0;r<e.length&&!t.isPropagationStopped();r++)if(e[r](t,n[r]))return n[r]}else if(e&&e(t,n))return n;return null}function l(t){var e=u(t);return t._dispatchInstances=null,t._dispatchListeners=null,e}function c(t){var e=t._dispatchListeners,n=t._dispatchInstances;Array.isArray(e)?d("103"):void 0,t.currentTarget=e?b.getNodeFromInstance(n):null;var r=e?e(t):null;return t.currentTarget=null,t._dispatchListeners=null,t._dispatchInstances=null,r}function f(t){return!!t._dispatchListeners}var h,p,d=t("./reactProdInvariant"),m=t("./EventConstants"),v=t("./ReactErrorUtils"),y=(t("fbjs/lib/invariant"),t("fbjs/lib/warning"),{injectComponentTree:function(t){h=t},injectTreeTraversal:function(t){p=t}}),g=m.topLevelTypes,b={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:f,getInstanceFromNode:function(t){return h.getInstanceFromNode(t)},getNodeFromInstance:function(t){return h.getNodeFromInstance(t)},isAncestor:function(t,e){return p.isAncestor(t,e)},getLowestCommonAncestor:function(t,e){return p.getLowestCommonAncestor(t,e)},getParentInstance:function(t){return p.getParentInstance(t)},traverseTwoPhase:function(t,e,n){return p.traverseTwoPhase(t,e,n)},traverseEnterLeave:function(t,e,n,r,i){return p.traverseEnterLeave(t,e,n,r,i)},injection:y};e.exports=b},{"./EventConstants":320,"./ReactErrorUtils":369,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"fbjs/lib/warning":477}],324:[function(t,e,n){"use strict";function r(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return b(t,r)}function i(t,e,n){var i=e?g.bubbled:g.captured,o=r(t,n,i);o&&(n._dispatchListeners=v(n._dispatchListeners,o),n._dispatchInstances=v(n._dispatchInstances,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(t._targetInst,i,t)}function a(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst,n=e?m.getParentInstance(e):null;m.traverseTwoPhase(n,i,t)}}function s(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=b(t,r);i&&(n._dispatchListeners=v(n._dispatchListeners,i),n._dispatchInstances=v(n._dispatchInstances,t))}}function u(t){t&&t.dispatchConfig.registrationName&&s(t._targetInst,null,t)}function l(t){y(t,o)}function c(t){y(t,a)}function f(t,e,n,r){m.traverseEnterLeave(n,r,s,t,e)}function h(t){y(t,u)}var p=t("./EventConstants"),d=t("./EventPluginHub"),m=t("./EventPluginUtils"),v=t("./accumulateInto"),y=t("./forEachAccumulated"),g=(t("fbjs/lib/warning"),p.PropagationPhases),b=d.getListener,_={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:h,accumulateEnterLeaveDispatches:f};e.exports=_},{"./EventConstants":320,"./EventPluginHub":321,"./EventPluginUtils":323,"./accumulateInto":421,"./forEachAccumulated":430,"fbjs/lib/warning":477}],325:[function(t,e,n){"use strict";function r(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var i=t("object-assign"),o=t("./PooledClass"),a=t("./getTextContentAccessor");i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);var s=e>1?1-e:void 0;return this._fallbackText=i.slice(t,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},{"./PooledClass":329,"./getTextContentAccessor":438,"object-assign":478}],326:[function(t,e,n){"use strict";var r=t("./DOMProperty"),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,"default":o,defer:o,dir:0,disabled:o,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=l},{"./DOMProperty":314}],327:[function(t,e,n){"use strict";function r(t){var e=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+t).replace(e,function(t){return n[t]});return"$"+r}function i(t){var e=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===t[0]&&"$"===t[1]?t.substring(2):t.substring(1);return(""+r).replace(e,function(t){return n[t]})}var o={escape:r,unescape:i};e.exports=o},{}],328:[function(t,e,n){"use strict";function r(t){null!=t.checkedLink&&null!=t.valueLink?s("87"):void 0}function i(t){r(t),null!=t.value||null!=t.onChange?s("88"):void 0}function o(t){r(t),null!=t.checked||null!=t.onChange?s("89"):void 0}function a(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var s=t("./reactProdInvariant"),u=t("./ReactPropTypes"),l=t("./ReactPropTypeLocations"),c=t("./ReactPropTypesSecret"),f=(t("fbjs/lib/invariant"),t("fbjs/lib/warning"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),h={value:function(t,e,n){return!t[e]||f[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},p={},d={checkPropTypes:function(t,e,n){for(var r in h){if(h.hasOwnProperty(r))var i=h[r](e,r,t,l.prop,null,c);if(i instanceof Error&&!(i.message in p)){p[i.message]=!0;a(n)}}},getValue:function(t){return t.valueLink?(i(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(o(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(i(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(o(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};e.exports=d},{"./ReactPropTypeLocations":388,"./ReactPropTypes":389,"./ReactPropTypesSecret":390,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"fbjs/lib/warning":477}],329:[function(t,e,n){"use strict";var r=t("./reactProdInvariant"),i=(t("fbjs/lib/invariant"),function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)}),o=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},a=function(t,e,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,t,e,n),i}return new r(t,e,n)},s=function(t,e,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,t,e,n,r),o}return new i(t,e,n,r)},u=function(t,e,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,t,e,n,r,i),a}return new o(t,e,n,r,i)},l=function(t){var e=this;t instanceof e?void 0:r("25"),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=10,f=i,h=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||f,n.poolSize||(n.poolSize=c),n.release=l,n},p={addPoolingTo:h,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};e.exports=p},{"./reactProdInvariant":445,"fbjs/lib/invariant":468}],330:[function(t,e,n){"use strict";var r=t("object-assign"),i=t("./ReactChildren"),o=t("./ReactComponent"),a=t("./ReactPureComponent"),s=t("./ReactClass"),u=t("./ReactDOMFactories"),l=t("./ReactElement"),c=t("./ReactPropTypes"),f=t("./ReactVersion"),h=t("./onlyChild"),p=(t("fbjs/lib/warning"),l.createElement),d=l.createFactory,m=l.cloneElement,v=r,y={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:h},Component:o,PureComponent:a,createElement:p,cloneElement:m,isValidElement:l.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:d,createMixin:function(t){return t},DOM:u,version:f,__spread:v};e.exports=y},{"./ReactChildren":335,"./ReactClass":337,"./ReactComponent":338,"./ReactDOMFactories":351,"./ReactElement":366,"./ReactElementValidator":367,"./ReactPropTypes":389,"./ReactPureComponent":391,"./ReactVersion":402,"./onlyChild":443,"fbjs/lib/warning":477,"object-assign":478}],331:[function(t,e,n){"use strict";function r(t){return Object.prototype.hasOwnProperty.call(t,v)||(t[v]=d++,h[t[v]]={}),h[t[v]]}var i,o=t("object-assign"),a=t("./EventConstants"),s=t("./EventPluginRegistry"),u=t("./ReactEventEmitterMixin"),l=t("./ViewportMetrics"),c=t("./getVendorPrefixedEventName"),f=t("./isEventSupported"),h={},p=!1,d=0,m={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},v="_reactListenersID"+String(Math.random()).slice(2),y=o({},u,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(y.handleTopLevel),y.ReactEventListener=t}},setEnabled:function(t){y.ReactEventListener&&y.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!y.ReactEventListener||!y.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,i=r(n),o=s.registrationNameDependencies[t],u=a.topLevelTypes,l=0;l<o.length;l++){var c=o[l];i.hasOwnProperty(c)&&i[c]||(c===u.topWheel?f("wheel")?y.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):f("mousewheel")?y.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):y.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):c===u.topScroll?f("scroll",!0)?y.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):y.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",y.ReactEventListener.WINDOW_HANDLE):c===u.topFocus||c===u.topBlur?(f("focus",!0)?(y.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),y.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):f("focusin")&&(y.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),y.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),i[u.topBlur]=!0,i[u.topFocus]=!0):m.hasOwnProperty(c)&&y.ReactEventListener.trapBubbledEvent(c,m[c],n),i[c]=!0)}},trapBubbledEvent:function(t,e,n){return y.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return y.ReactEventListener.trapCapturedEvent(t,e,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var t=document.createEvent("MouseEvent");return null!=t&&"pageX"in t},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=y.supportsEventPageXY()),!i&&!p){var t=l.refreshScrollValues;y.ReactEventListener.monitorScrollValue(t),p=!0}}});e.exports=y},{"./EventConstants":320,"./EventPluginRegistry":322,"./ReactEventEmitterMixin":370,"./ViewportMetrics":420,"./getVendorPrefixedEventName":439,"./isEventSupported":441,"object-assign":478}],332:[function(t,e,n){"use strict";function r(t){var e="transition"+t+"Timeout",n="transition"+t;return function(t){if(t[n]){if(null==t[e])return new Error(e+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof t[e])return new Error(e+" must be a number (in milliseconds)")}}}var i=t("object-assign"),o=t("./React"),a=t("./ReactTransitionGroup"),s=t("./ReactCSSTransitionGroupChild"),u=o.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:s.propTypes.name,transitionAppear:o.PropTypes.bool,transitionEnter:o.PropTypes.bool,transitionLeave:o.PropTypes.bool,transitionAppearTimeout:r("Appear"),transitionEnterTimeout:r("Enter"),transitionLeaveTimeout:r("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(t){return o.createElement(s,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},t)},render:function(){return o.createElement(a,i({},this.props,{childFactory:this._wrapChild}))}});e.exports=u},{"./React":330,"./ReactCSSTransitionGroupChild":333,"./ReactTransitionGroup":399,"object-assign":478}],333:[function(t,e,n){"use strict";var r=t("./React"),i=t("./ReactDOM"),o=t("fbjs/lib/CSSCore"),a=t("./ReactTransitionEvents"),s=t("./onlyChild"),u=17,l=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(t,e,n){var r=i.findDOMNode(this);if(!r)return void(e&&e());var s=this.props.name[t]||this.props.name+"-"+t,u=this.props.name[t+"Active"]||s+"-active",l=null,c=function(t){t&&t.target!==r||(clearTimeout(l),o.removeClass(r,s),o.removeClass(r,u),a.removeEndEventListener(r,c),e&&e())};o.addClass(r,s),this.queueClassAndNode(u,r),n?(l=setTimeout(c,n),this.transitionTimeouts.push(l)):a.addEndEventListener(r,c)},queueClassAndNode:function(t,e){this.classNameAndNodeQueue.push({className:t,node:e}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,u))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(t){o.addClass(t.node,t.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(t){clearTimeout(t)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(t){this.props.appear?this.transition("appear",t,this.props.appearTimeout):t()},componentWillEnter:function(t){this.props.enter?this.transition("enter",t,this.props.enterTimeout):t()},componentWillLeave:function(t){this.props.leave?this.transition("leave",t,this.props.leaveTimeout):t()},render:function(){return s(this.props.children)}});e.exports=l},{"./React":330,"./ReactDOM":344,"./ReactTransitionEvents":398,"./onlyChild":443,"fbjs/lib/CSSCore":452}],334:[function(t,e,n){(function(n){"use strict";function r(t,e,n,r){var i=void 0===t[n];null!=e&&i&&(t[n]=o(e,!0))}var i=t("./ReactReconciler"),o=t("./instantiateReactComponent"),a=(t("./KeyEscapeUtils"),t("./shouldUpdateReactComponent")),s=t("./traverseAllChildren");t("fbjs/lib/warning");"undefined"!=typeof n&&n.env,1;var u={instantiateChildren:function(t,e,n,i){if(null==t)return null;var o={};return s(t,r,o),o},updateChildren:function(t,e,n,r,s,u,l,c,f){if(e||t){var h,p;for(h in e)if(e.hasOwnProperty(h)){p=t&&t[h];var d=p&&p._currentElement,m=e[h];if(null!=p&&a(d,m))i.receiveComponent(p,m,s,c),e[h]=p;else{p&&(r[h]=i.getHostNode(p),i.unmountComponent(p,!1));var v=o(m,!0);e[h]=v;var y=i.mountComponent(v,s,u,l,c,f);n.push(y)}}for(h in t)!t.hasOwnProperty(h)||e&&e.hasOwnProperty(h)||(p=t[h],r[h]=i.getHostNode(p),i.unmountComponent(p,!1))}},unmountChildren:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];i.unmountComponent(r,e)}}};e.exports=u}).call(this,t("_process"))},{"./KeyEscapeUtils":327,"./ReactComponentTreeHook":341,"./ReactReconciler":393,"./instantiateReactComponent":440,"./shouldUpdateReactComponent":449,"./traverseAllChildren":450,_process:3,"fbjs/lib/warning":477}],335:[function(t,e,n){"use strict";function r(t){return(""+t).replace(_,"$&/")}function i(t,e){this.func=t,this.context=e,this.count=0}function o(t,e,n){var r=t.func,i=t.context;r.call(i,e,t.count++)}function a(t,e,n){if(null==t)return t;var r=i.getPooled(e,n);y(t,o,r),i.release(r)}function s(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function u(t,e,n){var i=t.result,o=t.keyPrefix,a=t.func,s=t.context,u=a.call(s,e,t.count++);Array.isArray(u)?l(u,i,n,v.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,o+(!u.key||e&&e.key===u.key?"":r(u.key)+"/")+n)),
i.push(u))}function l(t,e,n,i,o){var a="";null!=n&&(a=r(n)+"/");var l=s.getPooled(e,a,i,o);y(t,u,l),s.release(l)}function c(t,e,n){if(null==t)return t;var r=[];return l(t,r,null,e,n),r}function f(t,e,n){return null}function h(t,e){return y(t,f,null)}function p(t){var e=[];return l(t,e,null,v.thatReturnsArgument),e}var d=t("./PooledClass"),m=t("./ReactElement"),v=t("fbjs/lib/emptyFunction"),y=t("./traverseAllChildren"),g=d.twoArgumentPooler,b=d.fourArgumentPooler,_=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(i,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(s,b);var x={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:h,toArray:p};e.exports=x},{"./PooledClass":329,"./ReactElement":366,"./traverseAllChildren":450,"fbjs/lib/emptyFunction":460}],336:[function(t,e,n){"use strict";function r(t,e){if(null!=e&&void 0!==e._shadowChildren&&e._shadowChildren!==e.props.children){var n=!1;if(Array.isArray(e._shadowChildren))if(e._shadowChildren.length===e.props.children.length)for(var r=0;r<e._shadowChildren.length;r++)e._shadowChildren[r]!==e.props.children[r]&&(n=!0);else n=!0;!Array.isArray(e._shadowChildren)||n}}var i=t("./ReactComponentTreeHook"),o=(t("fbjs/lib/warning"),{onMountComponent:function(t){r(t,i.getElement(t))},onUpdateComponent:function(t){r(t,i.getElement(t))}});e.exports=o},{"./ReactComponentTreeHook":341,"fbjs/lib/warning":477}],337:[function(t,e,n){"use strict";function r(t,e){var n=w.hasOwnProperty(e)?w[e]:null;E.hasOwnProperty(e)&&(n!==_.OVERRIDE_BASE?f("73",e):void 0),t&&(n!==_.DEFINE_MANY&&n!==_.DEFINE_MANY_MERGED?f("74",e):void 0)}function i(t,e){if(e){"function"==typeof e?f("75"):void 0,d.isValidElement(e)?f("76"):void 0;var n=t.prototype,i=n.__reactAutoBindPairs;e.hasOwnProperty(b)&&M.mixins(t,e.mixins);for(var o in e)if(e.hasOwnProperty(o)&&o!==b){var a=e[o],l=n.hasOwnProperty(o);if(r(l,o),M.hasOwnProperty(o))M[o](t,a);else{var c=w.hasOwnProperty(o),h="function"==typeof a,p=h&&!c&&!l&&e.autobind!==!1;if(p)i.push(o,a),n[o]=a;else if(l){var m=w[o];!c||m!==_.DEFINE_MANY_MERGED&&m!==_.DEFINE_MANY?f("77",m,o):void 0,m===_.DEFINE_MANY_MERGED?n[o]=s(n[o],a):m===_.DEFINE_MANY&&(n[o]=u(n[o],a))}else n[o]=a}}}else;}function o(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in M;i?f("78",n):void 0;var o=n in t;o?f("79",n):void 0,t[n]=r}}}function a(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:f("80");for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?f("81",n):void 0,t[n]=e[n]);return t}function s(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function u(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function l(t,e){var n=e.bind(t);return n}function c(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t[r]=l(t,i)}}var f=t("./reactProdInvariant"),h=t("object-assign"),p=t("./ReactComponent"),d=t("./ReactElement"),m=(t("./ReactPropTypeLocations"),t("./ReactPropTypeLocationNames"),t("./ReactNoopUpdateQueue")),v=t("fbjs/lib/emptyObject"),y=(t("fbjs/lib/invariant"),t("fbjs/lib/keyMirror")),g=t("fbjs/lib/keyOf"),b=(t("fbjs/lib/warning"),g({mixins:null})),_=y({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],w={mixins:_.DEFINE_MANY,statics:_.DEFINE_MANY,propTypes:_.DEFINE_MANY,contextTypes:_.DEFINE_MANY,childContextTypes:_.DEFINE_MANY,getDefaultProps:_.DEFINE_MANY_MERGED,getInitialState:_.DEFINE_MANY_MERGED,getChildContext:_.DEFINE_MANY_MERGED,render:_.DEFINE_ONCE,componentWillMount:_.DEFINE_MANY,componentDidMount:_.DEFINE_MANY,componentWillReceiveProps:_.DEFINE_MANY,shouldComponentUpdate:_.DEFINE_ONCE,componentWillUpdate:_.DEFINE_MANY,componentDidUpdate:_.DEFINE_MANY,componentWillUnmount:_.DEFINE_MANY,updateComponent:_.OVERRIDE_BASE},M={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)i(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=h({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=h({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=s(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=h({},t.propTypes,e)},statics:function(t,e){o(t,e)},autobind:function(){}},E={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},S=function(){};h(S.prototype,p.prototype,E);var T={createClass:function(t){var e=function(t,n,r){this.__reactAutoBindPairs.length&&c(this),this.props=t,this.context=n,this.refs=v,this.updater=r||m,this.state=null;var i=this.getInitialState?this.getInitialState():null;"object"!=typeof i||Array.isArray(i)?f("82",e.displayName||"ReactCompositeComponent"):void 0,this.state=i};e.prototype=new S,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],x.forEach(i.bind(null,e)),i(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:f("83");for(var n in w)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){x.push(t)}}};e.exports=T},{"./ReactComponent":338,"./ReactElement":366,"./ReactNoopUpdateQueue":385,"./ReactPropTypeLocationNames":387,"./ReactPropTypeLocations":388,"./reactProdInvariant":445,"fbjs/lib/emptyObject":461,"fbjs/lib/invariant":468,"fbjs/lib/keyMirror":471,"fbjs/lib/keyOf":472,"fbjs/lib/warning":477,"object-assign":478}],338:[function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=a,this.updater=n||o}var i=t("./reactProdInvariant"),o=t("./ReactNoopUpdateQueue"),a=(t("./canDefineProperty"),t("fbjs/lib/emptyObject"));t("fbjs/lib/invariant"),t("fbjs/lib/warning");r.prototype.isReactComponent={},r.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?i("85"):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},r.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")};e.exports=r},{"./ReactNoopUpdateQueue":385,"./canDefineProperty":423,"./reactProdInvariant":445,"fbjs/lib/emptyObject":461,"fbjs/lib/invariant":468,"fbjs/lib/warning":477}],339:[function(t,e,n){"use strict";var r=t("./DOMChildrenOperations"),i=t("./ReactDOMIDOperations"),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=o},{"./DOMChildrenOperations":311,"./ReactDOMIDOperations":353}],340:[function(t,e,n){"use strict";var r=t("./reactProdInvariant"),i=(t("fbjs/lib/invariant"),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){i?r("104"):void 0,o.replaceNodeWithMarkup=t.replaceNodeWithMarkup,o.processChildrenUpdates=t.processChildrenUpdates,i=!0}}};e.exports=o},{"./reactProdInvariant":445,"fbjs/lib/invariant":468}],341:[function(t,e,n){"use strict";function r(t){var e=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+e.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=e.call(t);return r.test(i)}catch(o){return!1}}function i(t){return"."+t}function o(t){return parseInt(t.substr(1),10)}function a(t){if(M)return y.get(t);var e=i(t);return b[e]}function s(t){if(M)y["delete"](t);else{var e=i(t);delete b[e]}}function u(t,e,n){var r={element:e,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};if(M)y.set(t,r);else{var o=i(t);b[o]=r}}function l(t){if(M)g.add(t);else{var e=i(t);_[e]=!0}}function c(t){if(M)g["delete"](t);else{var e=i(t);delete _[e]}}function f(){return M?Array.from(y.keys()):Object.keys(b).map(o)}function h(){return M?Array.from(g.keys()):Object.keys(_).map(o)}function p(t){var e=a(t);if(e){var n=e.childIDs;s(t),n.forEach(p)}}function d(t,e,n){return"\n    in "+t+(e?" (at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+")":n?" (created by "+n+")":"")}function m(t){return null==t?"#empty":"string"==typeof t||"number"==typeof t?"#text":"string"==typeof t.type?t.type:t.type.displayName||t.type.name||"Unknown"}function v(t){var e,n=S.getDisplayName(t),r=S.getElement(t),i=S.getOwnerID(t);return i&&(e=S.getDisplayName(i)),d(n,r&&r._source,e)}var y,g,b,_,x=t("./reactProdInvariant"),w=t("./ReactCurrentOwner"),M=(t("fbjs/lib/invariant"),t("fbjs/lib/warning"),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));M?(y=new Map,g=new Set):(b={},_={});var E=[],S={onSetChildren:function(t,e){var n=a(t);n.childIDs=e;for(var r=0;r<e.length;r++){var i=e[r],o=a(i);o?void 0:x("140"),null==o.childIDs&&"object"==typeof o.element&&null!=o.element?x("141"):void 0,o.isMounted?void 0:x("71"),null==o.parentID&&(o.parentID=t),o.parentID!==t?x("142",i,o.parentID,t):void 0}},onBeforeMountComponent:function(t,e,n){u(t,e,n)},onBeforeUpdateComponent:function(t,e){var n=a(t);n&&n.isMounted&&(n.element=e)},onMountComponent:function(t){var e=a(t);e.isMounted=!0;var n=0===e.parentID;n&&l(t)},onUpdateComponent:function(t){var e=a(t);e&&e.isMounted&&e.updateCount++},onUnmountComponent:function(t){var e=a(t);if(e){e.isMounted=!1;var n=0===e.parentID;n&&c(t)}E.push(t)},purgeUnmountedComponents:function(){if(!S._preventPurging){for(var t=0;t<E.length;t++){var e=E[t];p(e)}E.length=0}},isMounted:function(t){var e=a(t);return!!e&&e.isMounted},getCurrentStackAddendum:function(t){var e="";if(t){var n=t.type,r="function"==typeof n?n.displayName||n.name:n,i=t._owner;e+=d(r||"Unknown",t._source,i&&i.getName())}var o=w.current,a=o&&o._debugID;return e+=S.getStackAddendumByID(a)},getStackAddendumByID:function(t){for(var e="";t;)e+=v(t),t=S.getParentID(t);return e},getChildIDs:function(t){var e=a(t);return e?e.childIDs:[]},getDisplayName:function(t){var e=S.getElement(t);return e?m(e):null},getElement:function(t){var e=a(t);return e?e.element:null},getOwnerID:function(t){var e=S.getElement(t);return e&&e._owner?e._owner._debugID:null},getParentID:function(t){var e=a(t);return e?e.parentID:null},getSource:function(t){var e=a(t),n=e?e.element:null,r=null!=n?n._source:null;return r},getText:function(t){var e=S.getElement(t);return"string"==typeof e?e:"number"==typeof e?""+e:null},getUpdateCount:function(t){var e=a(t);return e?e.updateCount:0},getRegisteredIDs:f,getRootIDs:h};e.exports=S},{"./ReactCurrentOwner":343,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"fbjs/lib/warning":477}],342:[function(t,e,n){"use strict";function r(t){}function i(t,e){}function o(t){return!(!t.prototype||!t.prototype.isReactComponent)}function a(t){return!(!t.prototype||!t.prototype.isPureReactComponent)}var s=t("./reactProdInvariant"),u=t("object-assign"),l=t("./ReactComponentEnvironment"),c=t("./ReactCurrentOwner"),f=t("./ReactElement"),h=t("./ReactErrorUtils"),p=t("./ReactInstanceMap"),d=(t("./ReactInstrumentation"),t("./ReactNodeTypes")),m=(t("./ReactPropTypeLocations"),t("./ReactReconciler")),v=t("./checkReactTypeSpec"),y=t("fbjs/lib/emptyObject"),g=(t("fbjs/lib/invariant"),t("fbjs/lib/shallowEqual")),b=t("./shouldUpdateReactComponent"),_=(t("fbjs/lib/warning"),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var t=p.get(this)._currentElement.type,e=t(this.props,this.context,this.updater);return i(t,e),e};var x=1,w={construct:function(t){this._currentElement=t,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(t,e,n,u){this._context=u,this._mountOrder=x++,this._hostParent=e,this._hostContainerInfo=n;var l,c=this._currentElement.props,h=this._processContext(u),d=this._currentElement.type,m=t.getUpdateQueue(),v=o(d),g=this._constructComponent(v,c,h,m);v||null!=g&&null!=g.render?a(d)?this._compositeType=_.PureClass:this._compositeType=_.ImpureClass:(l=g,i(d,l),null===g||g===!1||f.isValidElement(g)?void 0:s("105",d.displayName||d.name||"Component"),g=new r(d),this._compositeType=_.StatelessFunctional);g.props=c,g.context=h,g.refs=y,g.updater=m,this._instance=g,p.set(g,this);var b=g.state;void 0===b&&(g.state=b=null),"object"!=typeof b||Array.isArray(b)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var w;return w=g.unstable_handleError?this.performInitialMountWithErrorHandling(l,e,n,t,u):this.performInitialMount(l,e,n,t,u),g.componentDidMount&&t.getReactMountReady().enqueue(g.componentDidMount,g),w},_constructComponent:function(t,e,n,r){return this._constructComponentWithoutOwner(t,e,n,r)},_constructComponentWithoutOwner:function(t,e,n,r){var i=this._currentElement.type;return t?new i(e,n,r):i(e,n,r)},performInitialMountWithErrorHandling:function(t,e,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(t,e,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(t,e,n,r,i)}return o},performInitialMount:function(t,e,n,r,i){var o=this._instance,a=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===t&&(t=this._renderValidatedComponent());var s=d.getType(t);this._renderedNodeType=s;var u=this._instantiateReactComponent(t,s!==d.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,r,e,n,this._processChildContext(i),a);return l},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(t){if(this._renderedComponent){var e=this._instance;if(e.componentWillUnmount&&!e._calledComponentWillUnmount)if(e._calledComponentWillUnmount=!0,t){var n=this.getName()+".componentWillUnmount()";h.invokeGuardedCallback(n,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,t),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,p.remove(e)}},_maskContext:function(t){var e=this._currentElement.type,n=e.contextTypes;if(!n)return y;var r={};for(var i in n)r[i]=t[i];return r},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(e=r.getChildContext()),e){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var i in e)i in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",i);return u({},t,e)}return t},_checkContextTypes:function(t,e,n){v(t,e,n,this.getName(),null,this._debugID)},receiveComponent:function(t,e,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(e,r,t,i,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,t,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(t,e,n,r,i){var o=this._instance;null==o?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,u=!1;this._context===i?a=o.context:(a=this._processContext(i),u=!0);var l=e.props,c=n.props;e!==n&&(u=!0),u&&o.componentWillReceiveProps&&o.componentWillReceiveProps(c,a);var f=this._processPendingState(c,a),h=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?h=o.shouldComponentUpdate(c,f,a):this._compositeType===_.PureClass&&(h=!g(l,c)||!g(o.state,f))),this._updateBatchNumber=null,h?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,f,a,t,i)):(this._currentElement=n,this._context=i,o.props=c,o.state=f,o.context=a)},_processPendingState:function(t,e){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=u({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var s=r[a];u(o,"function"==typeof s?s.call(n,o,t,e):s)}return o},_performComponentUpdate:function(t,e,n,r,i,o){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(e,n,r),this._currentElement=t,this._context=o,l.props=e,l.state=n,l.context=r,this._updateRenderedComponent(i,o),c&&i.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent(),o=0;if(b(r,i))m.receiveComponent(n,i,t,this._processChildContext(e));else{var a=m.getHostNode(n);m.unmountComponent(n,!1);var s=d.getType(i);this._renderedNodeType=s;var u=this._instantiateReactComponent(i,s!==d.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,t,this._hostParent,this._hostContainerInfo,this._processChildContext(e),o);this._replaceNodeWithMarkup(a,l,n)}},_replaceNodeWithMarkup:function(t,e,n){l.replaceNodeWithMarkup(t,e,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t,e=this._instance;return t=e.render()},_renderValidatedComponent:function(){var t;if(this._compositeType!==_.StatelessFunctional){c.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else t=this._renderValidatedComponentWithoutOwnerOrContext();return null===t||t===!1||f.isValidElement(t)?void 0:s("109",this.getName()||"ReactCompositeComponent"),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=e.getPublicInstance(),i=n.refs===y?n.refs={}:n.refs;i[t]=r},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return this._compositeType===_.StatelessFunctional?null:t},_instantiateReactComponent:null},M={Mixin:w};e.exports=M},{"./ReactComponentEnvironment":340,"./ReactCurrentOwner":343,"./ReactElement":366,"./ReactErrorUtils":369,"./ReactInstanceMap":377,"./ReactInstrumentation":378,"./ReactNodeTypes":384,"./ReactPropTypeLocations":388,"./ReactReconciler":393,"./checkReactTypeSpec":424,"./reactProdInvariant":445,"./shouldUpdateReactComponent":449,"fbjs/lib/emptyObject":461,"fbjs/lib/invariant":468,"fbjs/lib/shallowEqual":476,"fbjs/lib/warning":477,"object-assign":478}],343:[function(t,e,n){"use strict";var r={current:null};e.exports=r},{}],344:[function(t,e,n){"use strict";var r=t("./ReactDOMComponentTree"),i=t("./ReactDefaultInjection"),o=t("./ReactMount"),a=t("./ReactReconciler"),s=t("./ReactUpdates"),u=t("./ReactVersion"),l=t("./findDOMNode"),c=t("./getHostComponentFromComposite"),f=t("./renderSubtreeIntoContainer");t("fbjs/lib/warning");i.inject();var h={findDOMNode:l,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(t){return t._renderedComponent&&(t=c(t)),t?r.getNodeFromInstance(t):null}},Mount:o,Reconciler:a});e.exports=h},{"./ReactDOMComponentTree":348,"./ReactDOMNullInputValuePropHook":355,"./ReactDOMUnknownPropertyHook":362,"./ReactDefaultInjection":365,"./ReactInstrumentation":378,"./ReactMount":381,"./ReactReconciler":393,"./ReactUpdates":401,"./ReactVersion":402,"./findDOMNode":428,"./getHostComponentFromComposite":435,"./renderSubtreeIntoContainer":446,"fbjs/lib/ExecutionEnvironment":454,"fbjs/lib/warning":477}],345:[function(t,e,n){"use strict";var r=t("./DisabledInputUtils"),i={getHostProps:r.getHostProps};e.exports=i},{"./DisabledInputUtils":318}],346:[function(t,e,n){"use strict";function r(t){if(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(t,e){e&&(Q[t._tag]&&(null!=e.children||null!=e.dangerouslySetInnerHTML?m("137",t._tag,t._currentElement._owner?" Check the render method of "+t._currentElement._owner.getName()+".":""):void 0),null!=e.dangerouslySetInnerHTML&&(null!=e.children?m("60"):void 0,"object"==typeof e.dangerouslySetInnerHTML&&W in e.dangerouslySetInnerHTML?void 0:m("61")),null!=e.style&&"object"!=typeof e.style?m("62",r(t)):void 0)}function o(t,e,n,r){if(!(r instanceof N)){var i=t._hostContainerInfo,o=i._node&&i._node.nodeType===G,s=o?i._node:i._ownerDocument;B(e,s),r.getReactMountReady().enqueue(a,{inst:t,registrationName:e,listener:n})}}function a(){var t=this;E.putListener(t.inst,t.registrationName,t.listener)}function s(){var t=this;A.postMountWrapper(t)}function u(){var t=this;R.postMountWrapper(t)}function l(){var t=this;I.postMountWrapper(t)}function c(){var t=this;t._rootNodeID?void 0:m("63");var e=U(t);switch(e?void 0:m("64"),t._tag){case"iframe":case"object":t._wrapperState.listeners=[T.trapBubbledEvent(M.topLevelTypes.topLoad,"load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var n in X)X.hasOwnProperty(n)&&t._wrapperState.listeners.push(T.trapBubbledEvent(M.topLevelTypes[n],X[n],e));break;case"source":t._wrapperState.listeners=[T.trapBubbledEvent(M.topLevelTypes.topError,"error",e)];break;case"img":t._wrapperState.listeners=[T.trapBubbledEvent(M.topLevelTypes.topError,"error",e),T.trapBubbledEvent(M.topLevelTypes.topLoad,"load",e)];break;case"form":t._wrapperState.listeners=[T.trapBubbledEvent(M.topLevelTypes.topReset,"reset",e),T.trapBubbledEvent(M.topLevelTypes.topSubmit,"submit",e)];break;case"input":case"select":case"textarea":t._wrapperState.listeners=[T.trapBubbledEvent(M.topLevelTypes.topInvalid,"invalid",e)]}}function f(){O.postUpdateWrapper(this)}function h(t){tt.call(J,t)||($.test(t)?void 0:m("65",t),J[t]=!0)}function p(t,e){return t.indexOf("-")>=0||null!=e.is}function d(t){var e=t.type;h(e),this._currentElement=t,this._tag=e.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=t("./reactProdInvariant"),v=t("object-assign"),y=t("./AutoFocusUtils"),g=t("./CSSPropertyOperations"),b=t("./DOMLazyTree"),_=t("./DOMNamespaces"),x=t("./DOMProperty"),w=t("./DOMPropertyOperations"),M=t("./EventConstants"),E=t("./EventPluginHub"),S=t("./EventPluginRegistry"),T=t("./ReactBrowserEventEmitter"),C=t("./ReactDOMButton"),P=t("./ReactDOMComponentFlags"),k=t("./ReactDOMComponentTree"),A=t("./ReactDOMInput"),I=t("./ReactDOMOption"),O=t("./ReactDOMSelect"),R=t("./ReactDOMTextarea"),D=(t("./ReactInstrumentation"),t("./ReactMultiChild")),N=t("./ReactServerRenderingTransaction"),j=(t("fbjs/lib/emptyFunction"),t("./escapeTextContentForBrowser")),L=(t("fbjs/lib/invariant"),t("./isEventSupported"),t("fbjs/lib/keyOf")),z=(t("fbjs/lib/shallowEqual"),t("./validateDOMNesting"),t("fbjs/lib/warning"),P),F=E.deleteListener,U=k.getNodeFromInstance,B=T.listenTo,V=S.registrationNameModules,q={string:!0,number:!0},H=L({style:null}),W=L({__html:null}),Y={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},G=11,X={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Z={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},K={listing:!0,pre:!0,textarea:!0},Q=v({menuitem:!0},Z),$=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,J={},tt={}.hasOwnProperty,et=1;d.displayName="ReactDOMComponent",d.Mixin={mountComponent:function(t,e,n,r){this._rootNodeID=et++,this._domID=n._idCounter++,this._hostParent=e,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(c,this);break;case"button":o=C.getHostProps(this,o,e);break;case"input":A.mountWrapper(this,o,e),o=A.getHostProps(this,o),t.getReactMountReady().enqueue(c,this);break;case"option":I.mountWrapper(this,o,e),o=I.getHostProps(this,o);break;case"select":O.mountWrapper(this,o,e),o=O.getHostProps(this,o),t.getReactMountReady().enqueue(c,this);break;case"textarea":R.mountWrapper(this,o,e),o=R.getHostProps(this,o),t.getReactMountReady().enqueue(c,this)}i(this,o);var a,f;null!=e?(a=e._namespaceURI,f=e._tag):n._tag&&(a=n._namespaceURI,f=n._tag),(null==a||a===_.svg&&"foreignobject"===f)&&(a=_.html),a===_.html&&("svg"===this._tag?a=_.svg:"math"===this._tag&&(a=_.mathml)),this._namespaceURI=a;var h;if(t.useCreateElement){var p,d=n._ownerDocument;if(a===_.html)if("script"===this._tag){var m=d.createElement("div"),v=this._currentElement.type;m.innerHTML="<"+v+"></"+v+">",p=m.removeChild(m.firstChild)}else p=o.is?d.createElement(this._currentElement.type,o.is):d.createElement(this._currentElement.type);else p=d.createElementNS(a,this._currentElement.type);k.precacheNode(this,p),this._flags|=z.hasCachedChildNodes,this._hostParent||w.setAttributeForRoot(p),this._updateDOMProperties(null,o,t);var g=b(p);this._createInitialChildren(t,o,r,g),h=g}else{var x=this._createOpenTagMarkupAndPutListeners(t,o),M=this._createContentMarkup(t,o,r);h=!M&&Z[this._tag]?x+"/>":x+">"+M+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(s,this),o.autoFocus&&t.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"textarea":t.getReactMountReady().enqueue(u,this),o.autoFocus&&t.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"select":o.autoFocus&&t.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"button":o.autoFocus&&t.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"option":t.getReactMountReady().enqueue(l,this)}return h},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(null!=i)if(V.hasOwnProperty(r))i&&o(this,r,i,t);else{r===H&&(i&&(i=this._previousStyleCopy=v({},e.style)),i=g.createMarkupForStyles(i,this));var a=null;null!=this._tag&&p(this._tag,e)?Y.hasOwnProperty(r)||(a=w.createMarkupForCustomAttribute(r,i)):a=w.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return t.renderToStaticMarkup?n:(this._hostParent||(n+=" "+w.createMarkupForRoot()),n+=" "+w.createMarkupForID(this._domID))},_createContentMarkup:function(t,e,n){var r="",i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=q[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)r=j(o);else if(null!=a){var s=this.mountChildren(a,t,n);r=s.join("")}}return K[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(t,e,n,r){var i=e.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&b.queueHTML(r,i.__html);else{var o=q[typeof e.children]?e.children:null,a=null!=o?null:e.children;if(null!=o)b.queueText(r,o);else if(null!=a)for(var s=this.mountChildren(a,t,n),u=0;u<s.length;u++)b.queueChild(r,s[u])}},receiveComponent:function(t,e,n){var r=this._currentElement;this._currentElement=t,this.updateComponent(e,r,t,n)},updateComponent:function(t,e,n,r){var o=e.props,a=this._currentElement.props;switch(this._tag){case"button":o=C.getHostProps(this,o),a=C.getHostProps(this,a);break;case"input":o=A.getHostProps(this,o),a=A.getHostProps(this,a);break;case"option":o=I.getHostProps(this,o),a=I.getHostProps(this,a);break;case"select":o=O.getHostProps(this,o),a=O.getHostProps(this,a);break;case"textarea":o=R.getHostProps(this,o),a=R.getHostProps(this,a)}switch(i(this,a),this._updateDOMProperties(o,a,t),this._updateDOMChildren(o,a,t,r),this._tag){case"input":A.updateWrapper(this);break;case"textarea":R.updateWrapper(this);break;case"select":t.getReactMountReady().enqueue(f,this)}},_updateDOMProperties:function(t,e,n){var r,i,a;for(r in t)if(!e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&null!=t[r])if(r===H){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else V.hasOwnProperty(r)?t[r]&&F(this,r):p(this._tag,t)?Y.hasOwnProperty(r)||w.deleteValueForAttribute(U(this),r):(x.properties[r]||x.isCustomAttribute(r))&&w.deleteValueForProperty(U(this),r);for(r in e){var u=e[r],l=r===H?this._previousStyleCopy:null!=t?t[r]:void 0;if(e.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if(r===H)if(u?u=this._previousStyleCopy=v({},u):this._previousStyleCopy=null,l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(a=a||{},a[i]=u[i])}else a=u;else if(V.hasOwnProperty(r))u?o(this,r,u,n):l&&F(this,r);else if(p(this._tag,e))Y.hasOwnProperty(r)||w.setValueForAttribute(U(this),r,u);else if(x.properties[r]||x.isCustomAttribute(r)){var c=U(this);null!=u?w.setValueForProperty(c,r,u):w.deleteValueForProperty(c,r)}}a&&g.setValueForStyles(U(this),a,this)},_updateDOMChildren:function(t,e,n,r){var i=q[typeof t.children]?t.children:null,o=q[typeof e.children]?e.children:null,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=null!=i?null:t.children,l=null!=o?null:e.children,c=null!=i||null!=a,f=null!=o||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!f&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return U(this)},unmountComponent:function(t){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var e=this._wrapperState.listeners;if(e)for(var n=0;n<e.length;n++)e[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(t),k.uncacheNode(this),E.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return U(this)}},v(d.prototype,d.Mixin,D.Mixin),e.exports=d},{"./AutoFocusUtils":305,"./CSSPropertyOperations":308,"./DOMLazyTree":312,"./DOMNamespaces":313,"./DOMProperty":314,"./DOMPropertyOperations":315,"./EventConstants":320,"./EventPluginHub":321,"./EventPluginRegistry":322,"./ReactBrowserEventEmitter":331,"./ReactDOMButton":345,
"./ReactDOMComponentFlags":347,"./ReactDOMComponentTree":348,"./ReactDOMInput":354,"./ReactDOMOption":356,"./ReactDOMSelect":357,"./ReactDOMTextarea":360,"./ReactInstrumentation":378,"./ReactMultiChild":382,"./ReactServerRenderingTransaction":395,"./escapeTextContentForBrowser":427,"./isEventSupported":441,"./reactProdInvariant":445,"./validateDOMNesting":451,"fbjs/lib/emptyFunction":460,"fbjs/lib/invariant":468,"fbjs/lib/keyOf":472,"fbjs/lib/shallowEqual":476,"fbjs/lib/warning":477,"object-assign":478}],347:[function(t,e,n){"use strict";var r={hasCachedChildNodes:1};e.exports=r},{}],348:[function(t,e,n){"use strict";function r(t){for(var e;e=t._renderedComponent;)t=e;return t}function i(t,e){var n=r(t);n._hostNode=e,e[m]=n}function o(t){var e=t._hostNode;e&&(delete e[m],t._hostNode=null)}function a(t,e){if(!(t._flags&d.hasCachedChildNodes)){var n=t._renderedChildren,o=e.firstChild;t:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=r(s)._domID;if(0!==u){for(;null!==o;o=o.nextSibling)if(1===o.nodeType&&o.getAttribute(p)===String(u)||8===o.nodeType&&o.nodeValue===" react-text: "+u+" "||8===o.nodeType&&o.nodeValue===" react-empty: "+u+" "){i(s,o);continue t}c("32",u)}}t._flags|=d.hasCachedChildNodes}}function s(t){if(t[m])return t[m];for(var e=[];!t[m];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}for(var n,r;t&&(r=t[m]);t=e.pop())n=r,e.length&&a(r,t);return n}function u(t){var e=s(t);return null!=e&&e._hostNode===t?e:null}function l(t){if(void 0===t._hostNode?c("33"):void 0,t._hostNode)return t._hostNode;for(var e=[];!t._hostNode;)e.push(t),t._hostParent?void 0:c("34"),t=t._hostParent;for(;e.length;t=e.pop())a(t,t._hostNode);return t._hostNode}var c=t("./reactProdInvariant"),f=t("./DOMProperty"),h=t("./ReactDOMComponentFlags"),p=(t("fbjs/lib/invariant"),f.ID_ATTRIBUTE_NAME),d=h,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),v={getClosestInstanceFromNode:s,getInstanceFromNode:u,getNodeFromInstance:l,precacheChildNodes:a,precacheNode:i,uncacheNode:o};e.exports=v},{"./DOMProperty":314,"./ReactDOMComponentFlags":347,"./reactProdInvariant":445,"fbjs/lib/invariant":468}],349:[function(t,e,n){"use strict";function r(t,e){var n={_topLevelWrapper:t,_idCounter:1,_ownerDocument:e?e.nodeType===i?e:e.ownerDocument:null,_node:e,_tag:e?e.nodeName.toLowerCase():null,_namespaceURI:e?e.namespaceURI:null};return n}var i=(t("./validateDOMNesting"),9);e.exports=r},{"./validateDOMNesting":451}],350:[function(t,e,n){"use strict";var r=t("object-assign"),i=t("./DOMLazyTree"),o=t("./ReactDOMComponentTree"),a=function(t){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(t,e,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=e,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(t.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return o.precacheNode(this,l),i(l)}return t.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},{"./DOMLazyTree":312,"./ReactDOMComponentTree":348,"object-assign":478}],351:[function(t,e,n){"use strict";var r=t("./ReactElement"),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),"var":i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};e.exports=o},{"./ReactElement":366,"./ReactElementValidator":367}],352:[function(t,e,n){"use strict";var r={useCreateElement:!0};e.exports=r},{}],353:[function(t,e,n){"use strict";var r=t("./DOMChildrenOperations"),i=t("./ReactDOMComponentTree"),o={dangerouslyProcessChildrenUpdates:function(t,e){var n=i.getNodeFromInstance(t);r.processUpdates(n,e)}};e.exports=o},{"./DOMChildrenOperations":311,"./ReactDOMComponentTree":348}],354:[function(t,e,n){"use strict";function r(){this._rootNodeID&&h.updateWrapper(this)}function i(t){var e=this._currentElement.props,n=l.executeOnChange(e,t);f.asap(r,this);var i=e.name;if("radio"===e.type&&null!=i){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),h=0;h<u.length;h++){var p=u[h];if(p!==a&&p.form===a.form){var d=c.getInstanceFromNode(p);d?void 0:o("90"),f.asap(r,d)}}}return n}var o=t("./reactProdInvariant"),a=t("object-assign"),s=t("./DisabledInputUtils"),u=t("./DOMPropertyOperations"),l=t("./LinkedValueUtils"),c=t("./ReactDOMComponentTree"),f=t("./ReactUpdates"),h=(t("fbjs/lib/invariant"),t("fbjs/lib/warning"),{getHostProps:function(t,e){var n=l.getValue(e),r=l.getChecked(e),i=a({type:void 0,step:void 0,min:void 0,max:void 0},s.getHostProps(t,e),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return i},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,listeners:null,onChange:i.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(t),"checked",n||!1);var r=c.getNodeFromInstance(t),i=l.getValue(e);if(null!=i){var o=""+i;o!==r.value&&(r.value=o)}else null==e.value&&null!=e.defaultValue&&(r.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(r.defaultChecked=!!e.defaultChecked)},postMountWrapper:function(t){var e=t._currentElement.props,n=c.getNodeFromInstance(t);switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=h},{"./DOMPropertyOperations":315,"./DisabledInputUtils":318,"./LinkedValueUtils":328,"./ReactDOMComponentTree":348,"./ReactUpdates":401,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"fbjs/lib/warning":477,"object-assign":478}],355:[function(t,e,n){"use strict";function r(t,e){null!=e&&("input"!==e.type&&"textarea"!==e.type&&"select"!==e.type||null==e.props||null!==e.props.value||i||(i=!0))}var i=(t("./ReactComponentTreeHook"),t("fbjs/lib/warning"),!1),o={onBeforeMountComponent:function(t,e){r(t,e)},onBeforeUpdateComponent:function(t,e){r(t,e)}};e.exports=o},{"./ReactComponentTreeHook":341,"fbjs/lib/warning":477}],356:[function(t,e,n){"use strict";function r(t){var e="";return o.forEach(t,function(t){null!=t&&("string"==typeof t||"number"==typeof t?e+=t:u||(u=!0))}),e}var i=t("object-assign"),o=t("./ReactChildren"),a=t("./ReactDOMComponentTree"),s=t("./ReactDOMSelect"),u=(t("fbjs/lib/warning"),!1),l={mountWrapper:function(t,e,n){var i=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(i=s.getSelectValueContext(o))}var a=null;if(null!=i){var u;if(u=null!=e.value?e.value+"":r(e.children),a=!1,Array.isArray(i)){for(var l=0;l<i.length;l++)if(""+i[l]===u){a=!0;break}}else a=""+i===u}t._wrapperState={selected:a}},postMountWrapper:function(t){var e=t._currentElement.props;if(null!=e.value){var n=a.getNodeFromInstance(t);n.setAttribute("value",e.value)}},getHostProps:function(t,e){var n=i({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(n.selected=t._wrapperState.selected);var o=r(e.children);return o&&(n.children=o),n}};e.exports=l},{"./ReactChildren":335,"./ReactDOMComponentTree":348,"./ReactDOMSelect":357,"fbjs/lib/warning":477,"object-assign":478}],357:[function(t,e,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=u.getValue(t);null!=e&&i(this,Boolean(t.multiple),e)}}function i(t,e,n){var r,i,o=l.getNodeFromInstance(t).options;if(e){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(t){var e=this._currentElement.props,n=u.executeOnChange(e,t);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=t("object-assign"),s=t("./DisabledInputUtils"),u=t("./LinkedValueUtils"),l=t("./ReactDOMComponentTree"),c=t("./ReactUpdates"),f=(t("fbjs/lib/warning"),!1),h={getHostProps:function(t,e){return a({},s.getHostProps(t,e),{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=u.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,listeners:null,onChange:o.bind(t),wasMultiple:Boolean(e.multiple)},void 0===e.value||void 0===e.defaultValue||f||(f=!0)},getSelectValueContext:function(t){return t._wrapperState.initialValue},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var r=u.getValue(e);null!=r?(t._wrapperState.pendingUpdate=!1,i(t,Boolean(e.multiple),r)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?i(t,Boolean(e.multiple),e.defaultValue):i(t,Boolean(e.multiple),e.multiple?[]:""))}};e.exports=h},{"./DisabledInputUtils":318,"./LinkedValueUtils":328,"./ReactDOMComponentTree":348,"./ReactUpdates":401,"fbjs/lib/warning":477,"object-assign":478}],358:[function(t,e,n){"use strict";function r(t,e,n,r){return t===n&&e===r}function i(t){var e=document.selection,n=e.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(t),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,i=e.anchorOffset,o=e.focusNode,a=e.focusOffset,s=e.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var l=r(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),c=l?0:s.toString().length,f=s.cloneRange();f.selectNodeContents(t),f.setEnd(s.startContainer,s.startOffset);var h=r(f.startContainer,f.startOffset,f.endContainer,f.endOffset),p=h?0:f.toString().length,d=p+c,m=document.createRange();m.setStart(n,i),m.setEnd(o,a);var v=m.collapsed;return{start:v?d:p,end:v?p:d}}function a(t,e){var n,r,i=document.selection.createRange().duplicate();void 0===e.end?(n=e.start,r=n):e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),i.moveToElementText(t),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(t,e){if(window.getSelection){var n=window.getSelection(),r=t[c()].length,i=Math.min(e.start,r),o=void 0===e.end?i:Math.min(e.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=l(t,i),u=l(t,o);if(s&&u){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(f),n.extend(u.node,u.offset)):(f.setEnd(u.node,u.offset),n.addRange(f))}}}var u=t("fbjs/lib/ExecutionEnvironment"),l=t("./getNodeForCharacterOffset"),c=t("./getTextContentAccessor"),f=u.canUseDOM&&"selection"in document&&!("getSelection"in window),h={getOffsets:f?i:o,setOffsets:f?a:s};e.exports=h},{"./getNodeForCharacterOffset":437,"./getTextContentAccessor":438,"fbjs/lib/ExecutionEnvironment":454}],359:[function(t,e,n){"use strict";var r=t("./reactProdInvariant"),i=t("object-assign"),o=t("./DOMChildrenOperations"),a=t("./DOMLazyTree"),s=t("./ReactDOMComponentTree"),u=t("./escapeTextContentForBrowser"),l=(t("fbjs/lib/invariant"),t("./validateDOMNesting"),function(t){this._currentElement=t,this._stringText=""+t,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(l.prototype,{mountComponent:function(t,e,n,r){var i=n._idCounter++,o=" react-text: "+i+" ",l=" /react-text ";if(this._domID=i,this._hostParent=e,t.useCreateElement){var c=n._ownerDocument,f=c.createComment(o),h=c.createComment(l),p=a(c.createDocumentFragment());return a.queueChild(p,a(f)),this._stringText&&a.queueChild(p,a(c.createTextNode(this._stringText))),a.queueChild(p,a(h)),s.precacheNode(this,f),this._closingComment=h,p}var d=u(this._stringText);return t.renderToStaticMarkup?d:"<!--"+o+"-->"+d+"<!--"+l+"-->"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var t=this._commentNodes;if(t)return t;if(!this._closingComment)for(var e=s.getNodeFromInstance(this),n=e.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return t=[this._hostNode,this._closingComment],this._commentNodes=t,t},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=l},{"./DOMChildrenOperations":311,"./DOMLazyTree":312,"./ReactDOMComponentTree":348,"./escapeTextContentForBrowser":427,"./reactProdInvariant":445,"./validateDOMNesting":451,"fbjs/lib/invariant":468,"object-assign":478}],360:[function(t,e,n){"use strict";function r(){this._rootNodeID&&f.updateWrapper(this)}function i(t){var e=this._currentElement.props,n=u.executeOnChange(e,t);return c.asap(r,this),n}var o=t("./reactProdInvariant"),a=t("object-assign"),s=t("./DisabledInputUtils"),u=t("./LinkedValueUtils"),l=t("./ReactDOMComponentTree"),c=t("./ReactUpdates"),f=(t("fbjs/lib/invariant"),t("fbjs/lib/warning"),{getHostProps:function(t,e){null!=e.dangerouslySetInnerHTML?o("91"):void 0;var n=a({},s.getHostProps(t,e),{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return n},mountWrapper:function(t,e){var n=u.getValue(e),r=n;if(null==n){var a=e.defaultValue,s=e.children;null!=s&&(null!=a?o("92"):void 0,Array.isArray(s)&&(s.length<=1?void 0:o("93"),s=s[0]),a=""+s),null==a&&(a=""),r=a}t._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=l.getNodeFromInstance(t),r=u.getValue(e);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==e.defaultValue&&(n.defaultValue=i)}null!=e.defaultValue&&(n.defaultValue=e.defaultValue)},postMountWrapper:function(t){var e=l.getNodeFromInstance(t);e.value=e.textContent}});e.exports=f},{"./DisabledInputUtils":318,"./LinkedValueUtils":328,"./ReactDOMComponentTree":348,"./ReactUpdates":401,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"fbjs/lib/warning":477,"object-assign":478}],361:[function(t,e,n){"use strict";function r(t,e){"_hostNode"in t?void 0:u("33"),"_hostNode"in e?void 0:u("33");for(var n=0,r=t;r;r=r._hostParent)n++;for(var i=0,o=e;o;o=o._hostParent)i++;for(;n-i>0;)t=t._hostParent,n--;for(;i-n>0;)e=e._hostParent,i--;for(var a=n;a--;){if(t===e)return t;t=t._hostParent,e=e._hostParent}return null}function i(t,e){"_hostNode"in t?void 0:u("35"),"_hostNode"in e?void 0:u("35");for(;e;){if(e===t)return!0;e=e._hostParent}return!1}function o(t){return"_hostNode"in t?void 0:u("36"),t._hostParent}function a(t,e,n){for(var r=[];t;)r.push(t),t=t._hostParent;var i;for(i=r.length;i-- >0;)e(r[i],!1,n);for(i=0;i<r.length;i++)e(r[i],!0,n)}function s(t,e,n,i,o){for(var a=t&&e?r(t,e):null,s=[];t&&t!==a;)s.push(t),t=t._hostParent;for(var u=[];e&&e!==a;)u.push(e),e=e._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],!0,i);for(l=u.length;l-- >0;)n(u[l],!1,o)}var u=t("./reactProdInvariant");t("fbjs/lib/invariant");e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},{"./reactProdInvariant":445,"fbjs/lib/invariant":468}],362:[function(t,e,n){"use strict";function r(t,e){null!=e&&"string"==typeof e.type&&(e.type.indexOf("-")>=0||e.props.is||o(t,e))}var i,o=(t("./DOMProperty"),t("./EventPluginRegistry"),t("./ReactComponentTreeHook"),t("fbjs/lib/warning"),function(t,e){var n=[];for(var r in e.props){var o=i(e.type,r,t);o||n.push(r)}n.map(function(t){return"`"+t+"`"}).join(", ");1===n.length||n.length>1}),a={onBeforeMountComponent:function(t,e){r(t,e)},onBeforeUpdateComponent:function(t,e){r(t,e)}};e.exports=a},{"./DOMProperty":314,"./EventPluginRegistry":322,"./ReactComponentTreeHook":341,"fbjs/lib/warning":477}],363:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){try{e.call(n,r,i,o,a,s)}catch(u){_[t]=!0}}function i(t,e,n,i,o,a){for(var s=0;s<b.length;s++){var u=b[s],l=u[t];l&&r(t,l,u,e,n,i,o,a)}}function o(){m.purgeUnmountedComponents(),d.clearHistory()}function a(t){return t.reduce(function(t,e){var n=m.getOwnerID(e),r=m.getParentID(e);return t[e]={displayName:m.getDisplayName(e),text:m.getText(e),updateCount:m.getUpdateCount(e),childIDs:m.getChildIDs(e),ownerID:n||m.getOwnerID(r),parentID:r},t},{})}function s(){var t=T,e=S||[],n=d.getHistory();if(0===E)return T=null,S=null,void o();if(e.length||n.length){var r=m.getRegisteredIDs();w.push({duration:g()-t,measurements:e||[],operations:n||[],treeSnapshot:a(r)})}o(),T=g(),S=[]}function u(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1]}function l(t,e){0!==E&&(A&&!I&&(I=!0),P=g(),k=0,C=t,A=e)}function c(t,e){0!==E&&(A===e||I||(I=!0),x&&S.push({timerType:e,instanceID:t,duration:g()-P-k}),P=null,k=null,C=null,A=null)}function f(){var t={startTime:P,nestedFlushStartTime:g(),debugID:C,timerType:A};M.push(t),P=null,k=null,C=null,A=null}function h(){var t=M.pop(),e=t.startTime,n=t.nestedFlushStartTime,r=t.debugID,i=t.timerType,o=g()-n;P=e,k+=o,C=r,A=i}var p=t("./ReactInvalidSetStateWarningHook"),d=t("./ReactHostOperationHistoryHook"),m=t("./ReactComponentTreeHook"),v=t("./ReactChildrenMutationWarningHook"),y=t("fbjs/lib/ExecutionEnvironment"),g=t("fbjs/lib/performanceNow"),b=(t("fbjs/lib/warning"),[]),_={},x=!1,w=[],M=[],E=0,S=null,T=null,C=null,P=null,k=null,A=null,I=!1,O={addHook:function(t){b.push(t)},removeHook:function(t){for(var e=0;e<b.length;e++)b[e]===t&&(b.splice(e,1),e--)},isProfiling:function(){return x},beginProfiling:function(){x||(x=!0,w.length=0,s(),O.addHook(d))},endProfiling:function(){x&&(x=!1,s(),O.removeHook(d))},getFlushHistory:function(){return w},onBeginFlush:function(){E++,s(),f(),i("onBeginFlush")},onEndFlush:function(){s(),E--,h(),i("onEndFlush")},onBeginLifeCycleTimer:function(t,e){u(t),i("onBeginLifeCycleTimer",t,e),l(t,e)},onEndLifeCycleTimer:function(t,e){u(t),c(t,e),i("onEndLifeCycleTimer",t,e)},onBeginProcessingChildContext:function(){i("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){i("onEndProcessingChildContext")},onHostOperation:function(t,e,n){u(t),i("onHostOperation",t,e,n)},onSetState:function(){i("onSetState")},onSetChildren:function(t,e){u(t),e.forEach(u),i("onSetChildren",t,e)},onBeforeMountComponent:function(t,e,n){u(t),u(n,!0),i("onBeforeMountComponent",t,e,n)},onMountComponent:function(t){u(t),i("onMountComponent",t)},onBeforeUpdateComponent:function(t,e){u(t),i("onBeforeUpdateComponent",t,e)},onUpdateComponent:function(t){u(t),i("onUpdateComponent",t)},onBeforeUnmountComponent:function(t){u(t),i("onBeforeUnmountComponent",t)},onUnmountComponent:function(t){u(t),i("onUnmountComponent",t)},onTestEvent:function(){i("onTestEvent")}};O.addDevtool=O.addHook,O.removeDevtool=O.removeHook,O.addHook(p),O.addHook(m),O.addHook(v);var R=y.canUseDOM&&window.location.href||"";/[?&]react_perf\b/.test(R)&&O.beginProfiling(),e.exports=O},{"./ReactChildrenMutationWarningHook":336,"./ReactComponentTreeHook":341,"./ReactHostOperationHistoryHook":374,"./ReactInvalidSetStateWarningHook":379,"fbjs/lib/ExecutionEnvironment":454,"fbjs/lib/performanceNow":475,"fbjs/lib/warning":477}],364:[function(t,e,n){"use strict";function r(){this.reinitializeTransaction()}var i=t("object-assign"),o=t("./ReactUpdates"),a=t("./Transaction"),s=t("fbjs/lib/emptyFunction"),u={initialize:s,close:function(){h.isBatchingUpdates=!1}},l={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[l,u];i(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var f=new r,h={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,r,i,o){var a=h.isBatchingUpdates;h.isBatchingUpdates=!0,a?t(e,n,r,i,o):f.perform(t,null,e,n,r,i,o)}};e.exports=h},{"./ReactUpdates":401,"./Transaction":419,"fbjs/lib/emptyFunction":460,"object-assign":478}],365:[function(t,e,n){"use strict";function r(){w||(w=!0,y.EventEmitter.injectReactEventListener(v),y.EventPluginHub.injectEventPluginOrder(a),y.EventPluginUtils.injectComponentTree(f),y.EventPluginUtils.injectTreeTraversal(p),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:_,BeforeInputEventPlugin:i}),y.HostComponent.injectGenericComponentClass(c),y.HostComponent.injectTextComponentClass(d),y.DOMProperty.injectDOMPropertyConfig(u),y.DOMProperty.injectDOMPropertyConfig(b),y.EmptyComponent.injectEmptyComponentFactory(function(t){return new h(t)}),y.Updates.injectReconcileTransaction(g),y.Updates.injectBatchingStrategy(m),y.Component.injectEnvironment(l))}var i=t("./BeforeInputEventPlugin"),o=t("./ChangeEventPlugin"),a=t("./DefaultEventPluginOrder"),s=t("./EnterLeaveEventPlugin"),u=t("./HTMLDOMPropertyConfig"),l=t("./ReactComponentBrowserEnvironment"),c=t("./ReactDOMComponent"),f=t("./ReactDOMComponentTree"),h=t("./ReactDOMEmptyComponent"),p=t("./ReactDOMTreeTraversal"),d=t("./ReactDOMTextComponent"),m=t("./ReactDefaultBatchingStrategy"),v=t("./ReactEventListener"),y=t("./ReactInjection"),g=t("./ReactReconcileTransaction"),b=t("./SVGDOMPropertyConfig"),_=t("./SelectEventPlugin"),x=t("./SimpleEventPlugin"),w=!1;e.exports={inject:r}},{"./BeforeInputEventPlugin":306,"./ChangeEventPlugin":310,"./DefaultEventPluginOrder":317,"./EnterLeaveEventPlugin":319,"./HTMLDOMPropertyConfig":326,"./ReactComponentBrowserEnvironment":339,"./ReactDOMComponent":346,"./ReactDOMComponentTree":348,"./ReactDOMEmptyComponent":350,"./ReactDOMTextComponent":359,"./ReactDOMTreeTraversal":361,"./ReactDefaultBatchingStrategy":364,"./ReactEventListener":371,"./ReactInjection":375,"./ReactReconcileTransaction":392,"./SVGDOMPropertyConfig":403,"./SelectEventPlugin":404,"./SimpleEventPlugin":405}],366:[function(t,e,n){"use strict";function r(t){return void 0!==t.ref}function i(t){return void 0!==t.key}var o=t("object-assign"),a=t("./ReactCurrentOwner"),s=(t("fbjs/lib/warning"),t("./canDefineProperty"),Object.prototype.hasOwnProperty),u="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,l={key:!0,ref:!0,__self:!0,__source:!0},c=function(t,e,n,r,i,o,a){var s={$$typeof:u,type:t,key:e,ref:n,props:a,_owner:o};return s};c.createElement=function(t,e,n){var o,u={},f=null,h=null,p=null,d=null;if(null!=e){r(e)&&(h=e.ref),i(e)&&(f=""+e.key),p=void 0===e.__self?null:e.__self,d=void 0===e.__source?null:e.__source;for(o in e)s.call(e,o)&&!l.hasOwnProperty(o)&&(u[o]=e[o])}var m=arguments.length-2;if(1===m)u.children=n;else if(m>1){for(var v=Array(m),y=0;y<m;y++)v[y]=arguments[y+2];u.children=v}if(t&&t.defaultProps){var g=t.defaultProps;for(o in g)void 0===u[o]&&(u[o]=g[o])}return c(t,f,h,p,d,a.current,u)},c.createFactory=function(t){var e=c.createElement.bind(null,t);return e.type=t,e},c.cloneAndReplaceKey=function(t,e){var n=c(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},c.cloneElement=function(t,e,n){var u,f=o({},t.props),h=t.key,p=t.ref,d=t._self,m=t._source,v=t._owner;if(null!=e){r(e)&&(p=e.ref,v=a.current),i(e)&&(h=""+e.key);var y;t.type&&t.type.defaultProps&&(y=t.type.defaultProps);for(u in e)s.call(e,u)&&!l.hasOwnProperty(u)&&(void 0===e[u]&&void 0!==y?f[u]=y[u]:f[u]=e[u])}var g=arguments.length-2;if(1===g)f.children=n;else if(g>1){for(var b=Array(g),_=0;_<g;_++)b[_]=arguments[_+2];f.children=b}return c(t.type,h,p,d,m,v,f)},c.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===u},c.REACT_ELEMENT_TYPE=u,e.exports=c},{"./ReactCurrentOwner":343,"./canDefineProperty":423,"fbjs/lib/warning":477,"object-assign":478}],367:[function(t,e,n){"use strict";function r(){if(u.current){var t=u.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(t){var e=r();if(!e){var n="string"==typeof t?t:t.displayName||t.name;n&&(e=" Check the top-level render call using <"+n+">.")}return e}function o(t,e){if(t._store&&!t._store.validated&&null==t.key){t._store.validated=!0;var n=p.uniqueKey||(p.uniqueKey={}),r=i(e);if(!n[r]){n[r]=!0;var o="";t&&t._owner&&t._owner!==u.current&&(o=" It was passed a child from "+t._owner.getName()+".")}}}function a(t,e){if("object"==typeof t)if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];l.isValidElement(r)&&o(r,e)}else if(l.isValidElement(t))t._store&&(t._store.validated=!0);else if(t){var i=h(t);if(i&&i!==t.entries)for(var a,s=i.call(t);!(a=s.next()).done;)l.isValidElement(a.value)&&o(a.value,e)}}function s(t){var e=t.type;if("function"==typeof e){var n=e.displayName||e.name;e.propTypes&&f(e.propTypes,t.props,c.prop,n,t,null),"function"==typeof e.getDefaultProps}}var u=t("./ReactCurrentOwner"),l=(t("./ReactComponentTreeHook"),t("./ReactElement")),c=t("./ReactPropTypeLocations"),f=t("./checkReactTypeSpec"),h=(t("./canDefineProperty"),t("./getIteratorFn")),p=(t("fbjs/lib/warning"),{}),d={createElement:function(t,e,n){var r="string"==typeof t||"function"==typeof t,i=l.createElement.apply(this,arguments);if(null==i)return i;if(r)for(var o=2;o<arguments.length;o++)a(arguments[o],t);return s(i),i},createFactory:function(t){var e=d.createElement.bind(null,t);return e.type=t,e},cloneElement:function(t,e,n){for(var r=l.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)a(arguments[i],r.type);return s(r),r}};e.exports=d},{"./ReactComponentTreeHook":341,"./ReactCurrentOwner":343,"./ReactElement":366,"./ReactPropTypeLocations":388,"./canDefineProperty":423,"./checkReactTypeSpec":424,"./getIteratorFn":436,"fbjs/lib/warning":477}],368:[function(t,e,n){"use strict";var r,i={injectEmptyComponentFactory:function(t){r=t}},o={create:function(t){return r(t)}};o.injection=i,e.exports=o},{}],369:[function(t,e,n){"use strict";function r(t,e,n,r){try{return e(n,r)}catch(o){return void(null===i&&(i=o))}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var t=i;throw i=null,t}}};e.exports=o},{}],370:[function(t,e,n){"use strict";function r(t){i.enqueueEvents(t),i.processEventQueue(!1)}var i=t("./EventPluginHub"),o={handleTopLevel:function(t,e,n,o){var a=i.extractEvents(t,e,n,o);r(a)}};e.exports=o},{"./EventPluginHub":321}],371:[function(t,e,n){"use strict";function r(t){for(;t._hostParent;)t=t._hostParent;var e=f.getNodeFromInstance(t),n=e.parentNode;return f.getClosestInstanceFromNode(n)}function i(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){var e=p(t.nativeEvent),n=f.getClosestInstanceFromNode(e),i=n;do t.ancestors.push(i),i=i&&r(i);while(i);for(var o=0;o<t.ancestors.length;o++)n=t.ancestors[o],m._handleTopLevel(t.topLevelType,n,t.nativeEvent,p(t.nativeEvent))}function a(t){var e=d(window);t(e)}var s=t("object-assign"),u=t("fbjs/lib/EventListener"),l=t("fbjs/lib/ExecutionEnvironment"),c=t("./PooledClass"),f=t("./ReactDOMComponentTree"),h=t("./ReactUpdates"),p=t("./getEventTarget"),d=t("fbjs/lib/getUnboundedScrollPosition");s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(t){m._handleTopLevel=t},setEnabled:function(t){m._enabled=!!t},isEnabled:function(){return m._enabled},trapBubbledEvent:function(t,e,n){var r=n;return r?u.listen(r,e,m.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){var r=n;return r?u.capture(r,e,m.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=a.bind(null,t);u.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(m._enabled){var n=i.getPooled(t,e);try{h.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=m},{"./PooledClass":329,"./ReactDOMComponentTree":348,"./ReactUpdates":401,"./getEventTarget":434,"fbjs/lib/EventListener":453,"fbjs/lib/ExecutionEnvironment":454,"fbjs/lib/getUnboundedScrollPosition":465,"object-assign":478}],372:[function(t,e,n){"use strict";var r={logTopLevelRenders:!1};e.exports=r},{}],373:[function(t,e,n){"use strict";function r(t){return u?void 0:a("111",t.type),new u(t)}function i(t){return new c(t)}function o(t){return t instanceof c}var a=t("./reactProdInvariant"),s=t("object-assign"),u=(t("fbjs/lib/invariant"),null),l={},c=null,f={injectGenericComponentClass:function(t){u=t},injectTextComponentClass:function(t){c=t},injectComponentClasses:function(t){s(l,t)}},h={createInternalComponent:r,createInstanceForText:i,isTextComponent:o,injection:f};e.exports=h},{"./reactProdInvariant":445,"fbjs/lib/invariant":468,"object-assign":478}],374:[function(t,e,n){"use strict";var r=[],i={onHostOperation:function(t,e,n){r.push({instanceID:t,type:e,payload:n})},clearHistory:function(){i._preventClearing||(r=[])},getHistory:function(){return r}};e.exports=i},{}],375:[function(t,e,n){"use strict";var r=t("./DOMProperty"),i=t("./EventPluginHub"),o=t("./EventPluginUtils"),a=t("./ReactComponentEnvironment"),s=t("./ReactClass"),u=t("./ReactEmptyComponent"),l=t("./ReactBrowserEventEmitter"),c=t("./ReactHostComponent"),f=t("./ReactUpdates"),h={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:u.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:l.injection,HostComponent:c.injection,Updates:f.injection};e.exports=h},{"./DOMProperty":314,"./EventPluginHub":321,"./EventPluginUtils":323,"./ReactBrowserEventEmitter":331,"./ReactClass":337,"./ReactComponentEnvironment":340,"./ReactEmptyComponent":368,"./ReactHostComponent":373,"./ReactUpdates":401}],376:[function(t,e,n){"use strict";function r(t){
return o(document.documentElement,t)}var i=t("./ReactDOMSelection"),o=t("fbjs/lib/containsNode"),a=t("fbjs/lib/focusNode"),s=t("fbjs/lib/getActiveElement"),u={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=s();return{focusedElem:t,selectionRange:u.hasSelectionCapabilities(t)?u.getSelection(t):null}},restoreSelection:function(t){var e=s(),n=t.focusedElem,i=t.selectionRange;e!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),a(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=i.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,r=e.end;if(void 0===r&&(r=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(r,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(t,e)}};e.exports=u},{"./ReactDOMSelection":358,"fbjs/lib/containsNode":457,"fbjs/lib/focusNode":462,"fbjs/lib/getActiveElement":463}],377:[function(t,e,n){"use strict";var r={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};e.exports=r},{}],378:[function(t,e,n){"use strict";var r=null;e.exports={debugTool:r}},{"./ReactDebugTool":363}],379:[function(t,e,n){"use strict";var r,i,o=(t("fbjs/lib/warning"),{onBeginProcessingChildContext:function(){r=!0},onEndProcessingChildContext:function(){r=!1},onSetState:function(){i()}});e.exports=o},{"fbjs/lib/warning":477}],380:[function(t,e,n){"use strict";var r=t("./adler32"),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=r(t);return o.test(t)?t:t.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(t);return i===n}};e.exports=a},{"./adler32":422}],381:[function(t,e,n){"use strict";function r(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t.charAt(r)!==e.charAt(r))return r;return t.length===e.length?-1:n}function i(t){return t?t.nodeType===D?t.documentElement:t.firstChild:null}function o(t){return t.getAttribute&&t.getAttribute(I)||""}function a(t,e,n,r,i){var o;if(x.logTopLevelRenders){var a=t._currentElement.props,s=a.type;o="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(o)}var u=E.mountComponent(t,n,null,g(t,e),i,0);o&&console.timeEnd(o),t._renderedComponent._topLevelWrapper=t,F._mountImageIntoNode(u,e,t,r,n)}function s(t,e,n,r){var i=T.ReactReconcileTransaction.getPooled(!n&&b.useCreateElement);i.perform(a,null,t,e,i,n,r),T.ReactReconcileTransaction.release(i)}function u(t,e,n){for(E.unmountComponent(t,n),e.nodeType===D&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function l(t){var e=i(t);if(e){var n=y.getInstanceFromNode(e);return!(!n||!n._hostParent)}}function c(t){return!(!t||t.nodeType!==R&&t.nodeType!==D&&t.nodeType!==N)}function f(t){var e=i(t),n=e&&y.getInstanceFromNode(e);return n&&!n._hostParent?n:null}function h(t){var e=f(t);return e?e._hostContainerInfo._topLevelWrapper:null}var p=t("./reactProdInvariant"),d=t("./DOMLazyTree"),m=t("./DOMProperty"),v=t("./ReactBrowserEventEmitter"),y=(t("./ReactCurrentOwner"),t("./ReactDOMComponentTree")),g=t("./ReactDOMContainerInfo"),b=t("./ReactDOMFeatureFlags"),_=t("./ReactElement"),x=t("./ReactFeatureFlags"),w=t("./ReactInstanceMap"),M=(t("./ReactInstrumentation"),t("./ReactMarkupChecksum")),E=t("./ReactReconciler"),S=t("./ReactUpdateQueue"),T=t("./ReactUpdates"),C=t("fbjs/lib/emptyObject"),P=t("./instantiateReactComponent"),k=(t("fbjs/lib/invariant"),t("./setInnerHTML")),A=t("./shouldUpdateReactComponent"),I=(t("fbjs/lib/warning"),m.ID_ATTRIBUTE_NAME),O=m.ROOT_ATTRIBUTE_NAME,R=1,D=9,N=11,j={},L=1,z=function(){this.rootID=L++};z.prototype.isReactComponent={},z.prototype.render=function(){return this.props};var F={TopLevelWrapper:z,_instancesByReactRootID:j,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,r,i){return F.scrollMonitor(r,function(){S.enqueueElementInternal(t,e,n),i&&S.enqueueCallbackInternal(t,i)}),t},_renderNewRootComponent:function(t,e,n,r){c(e)?void 0:p("37"),v.ensureScrollValueMonitoring();var i=P(t,!1);T.batchedUpdates(s,i,e,n,r);var o=i._instance.rootID;return j[o]=i,i},renderSubtreeIntoContainer:function(t,e,n,r){return null!=t&&w.has(t)?void 0:p("38"),F._renderSubtreeIntoContainer(t,e,n,r)},_renderSubtreeIntoContainer:function(t,e,n,r){S.validateCallback(r,"ReactDOM.render"),_.isValidElement(e)?void 0:p("39","string"==typeof e?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof e?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=e&&void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=_(z,null,null,null,null,null,e);if(t){var u=w.get(t);a=u._processChildContext(u._context)}else a=C;var c=h(n);if(c){var f=c._currentElement,d=f.props;if(A(d,e)){var m=c._renderedComponent.getPublicInstance(),v=r&&function(){r.call(m)};return F._updateRootComponent(c,s,a,n,v),m}F.unmountComponentAtNode(n)}var y=i(n),g=y&&!!o(y),b=l(n),x=g&&!c&&!b,M=F._renderNewRootComponent(s,n,x,a)._renderedComponent.getPublicInstance();return r&&r.call(M),M},render:function(t,e,n){return F._renderSubtreeIntoContainer(null,t,e,n)},unmountComponentAtNode:function(t){c(t)?void 0:p("40");var e=h(t);if(!e){l(t),1===t.nodeType&&t.hasAttribute(O);return!1}return delete j[e._instance.rootID],T.batchedUpdates(u,e,t,!1),!0},_mountImageIntoNode:function(t,e,n,o,a){if(c(e)?void 0:p("41"),o){var s=i(e);if(M.canReuseMarkup(t,s))return void y.precacheNode(n,s);var u=s.getAttribute(M.CHECKSUM_ATTR_NAME);s.removeAttribute(M.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(M.CHECKSUM_ATTR_NAME,u);var f=t,h=r(f,l),m=" (client) "+f.substring(h-20,h+20)+"\n (server) "+l.substring(h-20,h+20);e.nodeType===D?p("42",m):void 0}if(e.nodeType===D?p("43"):void 0,a.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);d.insertTreeBefore(e,t,null)}else k(e,t),y.precacheNode(n,e.firstChild)}};e.exports=F},{"./DOMLazyTree":312,"./DOMProperty":314,"./ReactBrowserEventEmitter":331,"./ReactCurrentOwner":343,"./ReactDOMComponentTree":348,"./ReactDOMContainerInfo":349,"./ReactDOMFeatureFlags":352,"./ReactElement":366,"./ReactFeatureFlags":372,"./ReactInstanceMap":377,"./ReactInstrumentation":378,"./ReactMarkupChecksum":380,"./ReactReconciler":393,"./ReactUpdateQueue":400,"./ReactUpdates":401,"./instantiateReactComponent":440,"./reactProdInvariant":445,"./setInnerHTML":447,"./shouldUpdateReactComponent":449,"fbjs/lib/emptyObject":461,"fbjs/lib/invariant":468,"fbjs/lib/warning":477}],382:[function(t,e,n){"use strict";function r(t,e,n){return{type:h.INSERT_MARKUP,content:t,fromIndex:null,fromNode:null,toIndex:n,afterNode:e}}function i(t,e,n){return{type:h.MOVE_EXISTING,content:null,fromIndex:t._mountIndex,fromNode:p.getHostNode(t),toIndex:n,afterNode:e}}function o(t,e){return{type:h.REMOVE_NODE,content:null,fromIndex:t._mountIndex,fromNode:e,toIndex:null,afterNode:null}}function a(t){return{type:h.SET_MARKUP,content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(t){return{type:h.TEXT_CONTENT,content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(t,e){return e&&(t=t||[],t.push(e)),t}function l(t,e){f.processChildrenUpdates(t,e)}var c=t("./reactProdInvariant"),f=t("./ReactComponentEnvironment"),h=(t("./ReactInstanceMap"),t("./ReactInstrumentation"),t("./ReactMultiChildUpdateTypes")),p=(t("./ReactCurrentOwner"),t("./ReactReconciler")),d=t("./ReactChildReconciler"),m=(t("fbjs/lib/emptyFunction"),t("./flattenChildren")),v=(t("fbjs/lib/invariant"),{Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return d.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,r,i,o){var a,s=0;return a=m(e,s),d.updateChildren(t,a,n,r,i,this,this._hostContainerInfo,o,s),a},mountChildren:function(t,e,n){var r=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=0,l=p.mountComponent(s,e,this,this._hostContainerInfo,n,u);s._mountIndex=o++,i.push(l)}return i},updateTextContent:function(t){var e=this._renderedChildren;d.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&c("118");var r=[s(t)];l(this,r)},updateMarkup:function(t){var e=this._renderedChildren;d.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&c("118");var r=[a(t)];l(this,r)},updateChildren:function(t,e,n){this._updateChildren(t,e,n)},_updateChildren:function(t,e,n){var r=this._renderedChildren,i={},o=[],a=this._reconcilerUpdateChildren(r,t,o,i,e,n);if(a||r){var s,c=null,f=0,h=0,d=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var v=r&&r[s],y=a[s];v===y?(c=u(c,this.moveChild(v,m,f,h)),h=Math.max(v._mountIndex,h),v._mountIndex=f):(v&&(h=Math.max(v._mountIndex,h)),c=u(c,this._mountChildAtIndex(y,o[d],m,f,e,n)),d++),f++,m=p.getHostNode(y)}for(s in i)i.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],i[s])));c&&l(this,c),this._renderedChildren=a}},unmountChildren:function(t){var e=this._renderedChildren;d.unmountChildren(e,t),this._renderedChildren=null},moveChild:function(t,e,n,r){if(t._mountIndex<r)return i(t,e,n)},createChild:function(t,e,n){return r(n,e,t._mountIndex)},removeChild:function(t,e){return o(t,e)},_mountChildAtIndex:function(t,e,n,r,i,o){return t._mountIndex=r,this.createChild(t,n,e)},_unmountChild:function(t,e){var n=this.removeChild(t,e);return t._mountIndex=null,n}}});e.exports=v},{"./ReactChildReconciler":334,"./ReactComponentEnvironment":340,"./ReactCurrentOwner":343,"./ReactInstanceMap":377,"./ReactInstrumentation":378,"./ReactMultiChildUpdateTypes":383,"./ReactReconciler":393,"./flattenChildren":429,"./reactProdInvariant":445,"fbjs/lib/emptyFunction":460,"fbjs/lib/invariant":468}],383:[function(t,e,n){"use strict";var r=t("fbjs/lib/keyMirror"),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=i},{"fbjs/lib/keyMirror":471}],384:[function(t,e,n){"use strict";var r=t("./reactProdInvariant"),i=t("./ReactElement"),o=(t("fbjs/lib/invariant"),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(t){return null===t||t===!1?o.EMPTY:i.isValidElement(t)?"function"==typeof t.type?o.COMPOSITE:o.HOST:void r("26",t)}});e.exports=o},{"./ReactElement":366,"./reactProdInvariant":445,"fbjs/lib/invariant":468}],385:[function(t,e,n){"use strict";function r(t,e){}var i=(t("fbjs/lib/warning"),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){r(t,"forceUpdate")},enqueueReplaceState:function(t,e){r(t,"replaceState")},enqueueSetState:function(t,e){r(t,"setState")}});e.exports=i},{"fbjs/lib/warning":477}],386:[function(t,e,n){"use strict";var r=t("./reactProdInvariant"),i=(t("fbjs/lib/invariant"),{isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){i.isValidOwner(n)?void 0:r("119"),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){i.isValidOwner(n)?void 0:r("120");var o=n.getPublicInstance();o&&o.refs[e]===t.getPublicInstance()&&n.detachRef(e)}});e.exports=i},{"./reactProdInvariant":445,"fbjs/lib/invariant":468}],387:[function(t,e,n){"use strict";var r={};e.exports=r},{}],388:[function(t,e,n){"use strict";var r=t("fbjs/lib/keyMirror"),i=r({prop:null,context:null,childContext:null});e.exports=i},{"fbjs/lib/keyMirror":471}],389:[function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function i(t){this.message=t,this.stack=""}function o(t){function e(e,n,r,o,a,s,u){o=o||T,s=s||r;if(null==n[r]){var l=w[a];return e?new i("Required "+l+" `"+s+"` was not specified in "+("`"+o+"`.")):null}return t(n,r,o,a,s)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function a(t){function e(e,n,r,o,a,s){var u=e[n],l=g(u);if(l!==t){var c=w[o],f=b(u);return new i("Invalid "+c+" `"+a+"` of type "+("`"+f+"` supplied to `"+r+"`, expected ")+("`"+t+"`."))}return null}return o(e)}function s(){return o(E.thatReturns(null))}function u(t){function e(e,n,r,o,a){if("function"!=typeof t)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=e[n];if(!Array.isArray(s)){var u=w[o],l=g(s);return new i("Invalid "+u+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<s.length;c++){var f=t(s,c,r,o,a+"["+c+"]",M);if(f instanceof Error)return f}return null}return o(e)}function l(){function t(t,e,n,r,o){var a=t[e];if(!x.isValidElement(a)){var s=w[r],u=g(a);return new i("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return o(t)}function c(t){function e(e,n,r,o,a){if(!(e[n]instanceof t)){var s=w[o],u=t.name||T,l=_(e[n]);return new i("Invalid "+s+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return o(e)}function f(t){function e(e,n,o,a,s){for(var u=e[n],l=0;l<t.length;l++)if(r(u,t[l]))return null;var c=w[a],f=JSON.stringify(t);return new i("Invalid "+c+" `"+s+"` of value `"+u+"` "+("supplied to `"+o+"`, expected one of "+f+"."))}return Array.isArray(t)?o(e):E.thatReturnsNull}function h(t){function e(e,n,r,o,a){if("function"!=typeof t)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=e[n],u=g(s);if("object"!==u){var l=w[o];return new i("Invalid "+l+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in s)if(s.hasOwnProperty(c)){var f=t(s,c,r,o,a+"."+c,M);if(f instanceof Error)return f}return null}return o(e)}function p(t){function e(e,n,r,o,a){for(var s=0;s<t.length;s++){var u=t[s];if(null==u(e,n,r,o,a,M))return null}var l=w[o];return new i("Invalid "+l+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(t)?o(e):E.thatReturnsNull}function d(){function t(t,e,n,r,o){if(!v(t[e])){var a=w[r];return new i("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(t)}function m(t){function e(e,n,r,o,a){var s=e[n],u=g(s);if("object"!==u){var l=w[o];return new i("Invalid "+l+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in t){var f=t[c];if(f){var h=f(s,c,r,o,a+"."+c,M);if(h)return h}}return null}return o(e)}function v(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(v);if(null===t||x.isValidElement(t))return!0;var e=S(t);if(!e)return!1;var n,r=e.call(t);if(e!==t.entries){for(;!(n=r.next()).done;)if(!v(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!v(i[1]))return!1}return!0;default:return!1}}function y(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function g(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":y(e,t)?"symbol":e}function b(t){var e=g(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function _(t){return t.constructor&&t.constructor.name?t.constructor.name:T}var x=t("./ReactElement"),w=t("./ReactPropTypeLocationNames"),M=t("./ReactPropTypesSecret"),E=t("fbjs/lib/emptyFunction"),S=t("./getIteratorFn"),T=(t("fbjs/lib/warning"),"<<anonymous>>"),C={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:u,element:l(),instanceOf:c,node:d(),objectOf:h,oneOf:f,oneOfType:p,shape:m};i.prototype=Error.prototype,e.exports=C},{"./ReactElement":366,"./ReactPropTypeLocationNames":387,"./ReactPropTypesSecret":390,"./getIteratorFn":436,"fbjs/lib/emptyFunction":460,"fbjs/lib/warning":477}],390:[function(t,e,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},{}],391:[function(t,e,n){"use strict";function r(t,e,n){this.props=t,this.context=e,this.refs=u,this.updater=n||s}function i(){}var o=t("object-assign"),a=t("./ReactComponent"),s=t("./ReactNoopUpdateQueue"),u=t("fbjs/lib/emptyObject");i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r,o(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,e.exports=r},{"./ReactComponent":338,"./ReactNoopUpdateQueue":385,"fbjs/lib/emptyObject":461,"object-assign":478}],392:[function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=t}var i=t("object-assign"),o=t("./CallbackQueue"),a=t("./PooledClass"),s=t("./ReactBrowserEventEmitter"),u=t("./ReactInputSelection"),l=(t("./ReactInstrumentation"),t("./Transaction")),c=t("./ReactUpdateQueue"),f={initialize:u.getSelectionInformation,close:u.restoreSelection},h={initialize:function(){var t=s.isEnabled();return s.setEnabled(!1),t},close:function(t){s.setEnabled(t)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[f,h,p],m={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(t){this.reactMountReady.rollback(t)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,l.Mixin,m),a.addPoolingTo(r),e.exports=r},{"./CallbackQueue":309,"./PooledClass":329,"./ReactBrowserEventEmitter":331,"./ReactInputSelection":376,"./ReactInstrumentation":378,"./ReactUpdateQueue":400,"./Transaction":419,"object-assign":478}],393:[function(t,e,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=t("./ReactRef"),o=(t("./ReactInstrumentation"),t("fbjs/lib/warning"),{mountComponent:function(t,e,n,i,o,a){var s=t.mountComponent(e,n,i,o,a);return t._currentElement&&null!=t._currentElement.ref&&e.getReactMountReady().enqueue(r,t),s},getHostNode:function(t){return t.getHostNode()},unmountComponent:function(t,e){i.detachRefs(t,t._currentElement),t.unmountComponent(e)},receiveComponent:function(t,e,n,o){var a=t._currentElement;if(e!==a||o!==t._context){var s=i.shouldUpdateRefs(a,e);s&&i.detachRefs(t,a),t.receiveComponent(e,n,o),s&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(r,t)}},performUpdateIfNecessary:function(t,e,n){t._updateBatchNumber===n&&t.performUpdateIfNecessary(e)}});e.exports=o},{"./ReactInstrumentation":378,"./ReactRef":394,"fbjs/lib/warning":477}],394:[function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function i(t,e,n){"function"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=t("./ReactOwner"),a={};a.attachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&r(n,t,e._owner)}},a.shouldUpdateRefs=function(t,e){var n=null===t||t===!1,r=null===e||e===!1;return n||r||e.ref!==t.ref||"string"==typeof e.ref&&e._owner!==t._owner},a.detachRefs=function(t,e){if(null!==e&&e!==!1){var n=e.ref;null!=n&&i(n,t,e._owner)}},e.exports=a},{"./ReactOwner":386}],395:[function(t,e,n){"use strict";function r(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=t("object-assign"),o=t("./PooledClass"),a=t("./Transaction"),s=(t("./ReactInstrumentation"),t("./ReactServerUpdateQueue")),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,a.Mixin,c),o.addPoolingTo(r),e.exports=r},{"./PooledClass":329,"./ReactInstrumentation":378,"./ReactServerUpdateQueue":396,"./Transaction":419,"object-assign":478}],396:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){}var o=t("./ReactUpdateQueue"),a=(t("./Transaction"),t("fbjs/lib/warning"),function(){function t(e){r(this,t),this.transaction=e}return t.prototype.isMounted=function(t){return!1},t.prototype.enqueueCallback=function(t,e,n){this.transaction.isInTransaction()&&o.enqueueCallback(t,e,n)},t.prototype.enqueueForceUpdate=function(t){this.transaction.isInTransaction()?o.enqueueForceUpdate(t):i(t,"forceUpdate")},t.prototype.enqueueReplaceState=function(t,e){this.transaction.isInTransaction()?o.enqueueReplaceState(t,e):i(t,"replaceState")},t.prototype.enqueueSetState=function(t,e){this.transaction.isInTransaction()?o.enqueueSetState(t,e):i(t,"setState")},t}());e.exports=a},{"./ReactUpdateQueue":400,"./Transaction":419,"fbjs/lib/warning":477}],397:[function(t,e,n){"use strict";var r=t("./flattenChildren"),i={getChildMapping:function(t,e){return t?r(t):t},mergeChildMappings:function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var r={},i=[];for(var o in t)e.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var u in e){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}};e.exports=i},{"./flattenChildren":429}],398:[function(t,e,n){"use strict";function r(){var t=s("animationend"),e=s("transitionend");t&&u.push(t),e&&u.push(e)}function i(t,e,n){t.addEventListener(e,n,!1)}function o(t,e,n){t.removeEventListener(e,n,!1)}var a=t("fbjs/lib/ExecutionEnvironment"),s=t("./getVendorPrefixedEventName"),u=[];a.canUseDOM&&r();var l={addEndEventListener:function(t,e){return 0===u.length?void window.setTimeout(e,0):void u.forEach(function(n){i(t,n,e)})},removeEndEventListener:function(t,e){0!==u.length&&u.forEach(function(n){o(t,n,e)})}};e.exports=l},{"./getVendorPrefixedEventName":439,"fbjs/lib/ExecutionEnvironment":454}],399:[function(t,e,n){"use strict";var r=t("object-assign"),i=t("./React"),o=(t("./ReactInstanceMap"),t("./ReactTransitionChildMapping")),a=t("fbjs/lib/emptyFunction"),s=i.createClass({displayName:"ReactTransitionGroup",propTypes:{component:i.PropTypes.any,childFactory:i.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var t=this.state.children;for(var e in t)t[e]&&this.performAppear(e)},componentWillReceiveProps:function(t){var e;e=o.getChildMapping(t.children);var n=this.state.children;this.setState({children:o.mergeChildMappings(n,e)});var r;for(r in e){var i=n&&n.hasOwnProperty(r);!e[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var a=e&&e.hasOwnProperty(r);!n[r]||a||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performAppear:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillAppear?e.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)},_handleDoneAppearing:function(t){var e=this.refs[t];e.componentDidAppear&&e.componentDidAppear(),delete this.currentlyTransitioningKeys[t];var n;n=o.getChildMapping(this.props.children),n&&n.hasOwnProperty(t)||this.performLeave(t)},performEnter:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillEnter?e.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)},_handleDoneEntering:function(t){var e=this.refs[t];e.componentDidEnter&&e.componentDidEnter(),delete this.currentlyTransitioningKeys[t];var n;n=o.getChildMapping(this.props.children),n&&n.hasOwnProperty(t)||this.performLeave(t)},performLeave:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillLeave?e.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)},_handleDoneLeaving:function(t){var e=this.refs[t];e.componentDidLeave&&e.componentDidLeave(),delete this.currentlyTransitioningKeys[t];var n;n=o.getChildMapping(this.props.children),n&&n.hasOwnProperty(t)?this.performEnter(t):this.setState(function(e){var n=r({},e.children);return delete n[t],{children:n}})},render:function(){var t=[];for(var e in this.state.children){var n=this.state.children[e];n&&t.push(i.cloneElement(this.props.childFactory(n),{ref:e,key:e}))}var o=r({},this.props);return delete o.transitionLeave,delete o.transitionName,delete o.transitionAppear,delete o.transitionEnter,delete o.childFactory,delete o.transitionLeaveTimeout,delete o.transitionEnterTimeout,delete o.transitionAppearTimeout,delete o.component,i.createElement(this.props.component,o,t)}});e.exports=s},{"./React":330,"./ReactInstanceMap":377,"./ReactTransitionChildMapping":397,"fbjs/lib/emptyFunction":460,"object-assign":478}],400:[function(t,e,n){"use strict";function r(t){u.enqueueUpdate(t)}function i(t){var e=typeof t;if("object"!==e)return e;var n=t.constructor&&t.constructor.name||e,r=Object.keys(t);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function o(t,e){var n=s.get(t);if(!n){return null}return n}var a=t("./reactProdInvariant"),s=(t("./ReactCurrentOwner"),t("./ReactInstanceMap")),u=(t("./ReactInstrumentation"),t("./ReactUpdates")),l=(t("fbjs/lib/invariant"),t("fbjs/lib/warning"),{isMounted:function(t){var e=s.get(t);return!!e&&!!e._renderedComponent},enqueueCallback:function(t,e,n){l.validateCallback(e,n);var i=o(t);return i?(i._pendingCallbacks?i._pendingCallbacks.push(e):i._pendingCallbacks=[e],void r(i)):null},enqueueCallbackInternal:function(t,e){t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],r(t)},enqueueForceUpdate:function(t){var e=o(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,r(e))},enqueueReplaceState:function(t,e){var n=o(t,"replaceState");n&&(n._pendingStateQueue=[e],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(t,e){var n=o(t,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(e),r(n)}},enqueueElementInternal:function(t,e,n){t._pendingElement=e,t._context=n,r(t)},validateCallback:function(t,e){t&&"function"!=typeof t?a("122",e,i(t)):void 0}});e.exports=l},{"./ReactCurrentOwner":343,"./ReactInstanceMap":377,"./ReactInstrumentation":378,"./ReactUpdates":401,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"fbjs/lib/warning":477}],401:[function(t,e,n){"use strict";function r(){C.ReactReconcileTransaction&&x?void 0:c("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=h.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled(!0)}function o(t,e,n,i,o,a){r(),x.batchedUpdates(t,e,n,i,o,a)}function a(t,e){return t._mountOrder-e._mountOrder}function s(t){var e=t.dirtyComponentsLength;e!==y.length?c("124",e,y.length):void 0,y.sort(a),g++;for(var n=0;n<e;n++){var r=y[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var o;if(d.logTopLevelRenders){var s=r;r._currentElement.props===r._renderedComponent._currentElement&&(s=r._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(m.performUpdateIfNecessary(r,t.reconcileTransaction,g),o&&console.timeEnd(o),i)for(var u=0;u<i.length;u++)t.callbackQueue.enqueue(i[u],r.getPublicInstance())}}function u(t){return r(),x.isBatchingUpdates?(y.push(t),void(null==t._updateBatchNumber&&(t._updateBatchNumber=g+1))):void x.batchedUpdates(u,t)}function l(t,e){x.isBatchingUpdates?void 0:c("125"),b.enqueue(t,e),_=!0}var c=t("./reactProdInvariant"),f=t("object-assign"),h=t("./CallbackQueue"),p=t("./PooledClass"),d=t("./ReactFeatureFlags"),m=t("./ReactReconciler"),v=t("./Transaction"),y=(t("fbjs/lib/invariant"),[]),g=0,b=h.getPooled(),_=!1,x=null,w={initialize:function(){this.dirtyComponentsLength=y.length},close:function(){this.dirtyComponentsLength!==y.length?(y.splice(0,this.dirtyComponentsLength),S()):y.length=0}},M={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[w,M];f(i.prototype,v.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,h.release(this.callbackQueue),this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return v.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),p.addPoolingTo(i);var S=function(){for(;y.length||_;){if(y.length){var t=i.getPooled();t.perform(s,null,t),i.release(t)}if(_){_=!1;var e=b;b=h.getPooled(),e.notifyAll(),h.release(e)}}},T={injectReconcileTransaction:function(t){t?void 0:c("126"),C.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:c("127"),"function"!=typeof t.batchedUpdates?c("128"):void 0,"boolean"!=typeof t.isBatchingUpdates?c("129"):void 0,x=t}},C={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:S,injection:T,asap:l};e.exports=C},{"./CallbackQueue":309,"./PooledClass":329,"./ReactFeatureFlags":372,"./ReactReconciler":393,"./Transaction":419,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"object-assign":478}],402:[function(t,e,n){"use strict";e.exports="15.3.2"},{}],403:[function(t,e,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,
k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(t){o.Properties[t]=0,i[t]&&(o.DOMAttributeNames[t]=i[t])}),e.exports=o},{}],404:[function(t,e,n){"use strict";function r(t){if("selectionStart"in t&&l.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(t,e){if(x||null==g||g!==f())return null;var n=r(g);if(!_||!d(_,n)){_=n;var i=c.getPooled(y.select,b,t,e);return i.type="select",i.target=g,a.accumulateTwoPhaseDispatches(i),i}return null}var o=t("./EventConstants"),a=t("./EventPropagators"),s=t("fbjs/lib/ExecutionEnvironment"),u=t("./ReactDOMComponentTree"),l=t("./ReactInputSelection"),c=t("./SyntheticEvent"),f=t("fbjs/lib/getActiveElement"),h=t("./isTextInputElement"),p=t("fbjs/lib/keyOf"),d=t("fbjs/lib/shallowEqual"),m=o.topLevelTypes,v=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,y={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topKeyUp,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},g=null,b=null,_=null,x=!1,w=!1,M=p({onSelect:null}),E={eventTypes:y,extractEvents:function(t,e,n,r){if(!w)return null;var o=e?u.getNodeFromInstance(e):window;switch(t){case m.topFocus:(h(o)||"true"===o.contentEditable)&&(g=o,b=e,_=null);break;case m.topBlur:g=null,b=null,_=null;break;case m.topMouseDown:x=!0;break;case m.topContextMenu:case m.topMouseUp:return x=!1,i(n,r);case m.topSelectionChange:if(v)break;case m.topKeyDown:case m.topKeyUp:return i(n,r)}return null},didPutListener:function(t,e,n){e===M&&(w=!0)}};e.exports=E},{"./EventConstants":320,"./EventPropagators":324,"./ReactDOMComponentTree":348,"./ReactInputSelection":376,"./SyntheticEvent":410,"./isTextInputElement":442,"fbjs/lib/ExecutionEnvironment":454,"fbjs/lib/getActiveElement":463,"fbjs/lib/keyOf":472,"fbjs/lib/shallowEqual":476}],405:[function(t,e,n){"use strict";function r(t){return"."+t._rootNodeID}var i=t("./reactProdInvariant"),o=t("./EventConstants"),a=t("fbjs/lib/EventListener"),s=t("./EventPropagators"),u=t("./ReactDOMComponentTree"),l=t("./SyntheticAnimationEvent"),c=t("./SyntheticClipboardEvent"),f=t("./SyntheticEvent"),h=t("./SyntheticFocusEvent"),p=t("./SyntheticKeyboardEvent"),d=t("./SyntheticMouseEvent"),m=t("./SyntheticDragEvent"),v=t("./SyntheticTouchEvent"),y=t("./SyntheticTransitionEvent"),g=t("./SyntheticUIEvent"),b=t("./SyntheticWheelEvent"),_=t("fbjs/lib/emptyFunction"),x=t("./getEventCharCode"),w=(t("fbjs/lib/invariant"),t("fbjs/lib/keyOf")),M=o.topLevelTypes,E={abort:{phasedRegistrationNames:{bubbled:w({onAbort:!0}),captured:w({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:w({onAnimationEnd:!0}),captured:w({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:w({onAnimationIteration:!0}),captured:w({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:w({onAnimationStart:!0}),captured:w({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:w({onBlur:!0}),captured:w({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:w({onCanPlay:!0}),captured:w({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:w({onCanPlayThrough:!0}),captured:w({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:w({onClick:!0}),captured:w({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:w({onContextMenu:!0}),captured:w({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:w({onCopy:!0}),captured:w({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:w({onCut:!0}),captured:w({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:w({onDoubleClick:!0}),captured:w({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:w({onDrag:!0}),captured:w({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:w({onDragEnd:!0}),captured:w({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:w({onDragEnter:!0}),captured:w({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:w({onDragExit:!0}),captured:w({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:w({onDragLeave:!0}),captured:w({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:w({onDragOver:!0}),captured:w({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:w({onDragStart:!0}),captured:w({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:w({onDrop:!0}),captured:w({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:w({onDurationChange:!0}),captured:w({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:w({onEmptied:!0}),captured:w({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:w({onEncrypted:!0}),captured:w({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:w({onEnded:!0}),captured:w({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:w({onError:!0}),captured:w({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:w({onFocus:!0}),captured:w({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:w({onInput:!0}),captured:w({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:w({onInvalid:!0}),captured:w({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:w({onKeyDown:!0}),captured:w({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:w({onKeyPress:!0}),captured:w({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:w({onKeyUp:!0}),captured:w({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:w({onLoad:!0}),captured:w({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:w({onLoadedData:!0}),captured:w({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:w({onLoadedMetadata:!0}),captured:w({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:w({onLoadStart:!0}),captured:w({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:w({onMouseDown:!0}),captured:w({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:w({onMouseMove:!0}),captured:w({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:w({onMouseOut:!0}),captured:w({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:w({onMouseOver:!0}),captured:w({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:w({onMouseUp:!0}),captured:w({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:w({onPaste:!0}),captured:w({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:w({onPause:!0}),captured:w({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:w({onPlay:!0}),captured:w({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:w({onPlaying:!0}),captured:w({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:w({onProgress:!0}),captured:w({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:w({onRateChange:!0}),captured:w({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:w({onReset:!0}),captured:w({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:w({onScroll:!0}),captured:w({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:w({onSeeked:!0}),captured:w({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:w({onSeeking:!0}),captured:w({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:w({onStalled:!0}),captured:w({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:w({onSubmit:!0}),captured:w({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:w({onSuspend:!0}),captured:w({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:w({onTimeUpdate:!0}),captured:w({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:w({onTouchCancel:!0}),captured:w({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:w({onTouchEnd:!0}),captured:w({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:w({onTouchMove:!0}),captured:w({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:w({onTouchStart:!0}),captured:w({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:w({onTransitionEnd:!0}),captured:w({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:w({onVolumeChange:!0}),captured:w({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:w({onWaiting:!0}),captured:w({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:w({onWheel:!0}),captured:w({onWheelCapture:!0})}}},S={topAbort:E.abort,topAnimationEnd:E.animationEnd,topAnimationIteration:E.animationIteration,topAnimationStart:E.animationStart,topBlur:E.blur,topCanPlay:E.canPlay,topCanPlayThrough:E.canPlayThrough,topClick:E.click,topContextMenu:E.contextMenu,topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topDurationChange:E.durationChange,topEmptied:E.emptied,topEncrypted:E.encrypted,topEnded:E.ended,topError:E.error,topFocus:E.focus,topInput:E.input,topInvalid:E.invalid,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topLoadedData:E.loadedData,topLoadedMetadata:E.loadedMetadata,topLoadStart:E.loadStart,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topPause:E.pause,topPlay:E.play,topPlaying:E.playing,topProgress:E.progress,topRateChange:E.rateChange,topReset:E.reset,topScroll:E.scroll,topSeeked:E.seeked,topSeeking:E.seeking,topStalled:E.stalled,topSubmit:E.submit,topSuspend:E.suspend,topTimeUpdate:E.timeUpdate,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topTransitionEnd:E.transitionEnd,topVolumeChange:E.volumeChange,topWaiting:E.waiting,topWheel:E.wheel};for(var T in S)S[T].dependencies=[T];var C=w({onClick:null}),P={},k={eventTypes:E,extractEvents:function(t,e,n,r){var o=S[t];if(!o)return null;var a;switch(t){case M.topAbort:case M.topCanPlay:case M.topCanPlayThrough:case M.topDurationChange:case M.topEmptied:case M.topEncrypted:case M.topEnded:case M.topError:case M.topInput:case M.topInvalid:case M.topLoad:case M.topLoadedData:case M.topLoadedMetadata:case M.topLoadStart:case M.topPause:case M.topPlay:case M.topPlaying:case M.topProgress:case M.topRateChange:case M.topReset:case M.topSeeked:case M.topSeeking:case M.topStalled:case M.topSubmit:case M.topSuspend:case M.topTimeUpdate:case M.topVolumeChange:case M.topWaiting:a=f;break;case M.topKeyPress:if(0===x(n))return null;case M.topKeyDown:case M.topKeyUp:a=p;break;case M.topBlur:case M.topFocus:a=h;break;case M.topClick:if(2===n.button)return null;case M.topContextMenu:case M.topDoubleClick:case M.topMouseDown:case M.topMouseMove:case M.topMouseOut:case M.topMouseOver:case M.topMouseUp:a=d;break;case M.topDrag:case M.topDragEnd:case M.topDragEnter:case M.topDragExit:case M.topDragLeave:case M.topDragOver:case M.topDragStart:case M.topDrop:a=m;break;case M.topTouchCancel:case M.topTouchEnd:case M.topTouchMove:case M.topTouchStart:a=v;break;case M.topAnimationEnd:case M.topAnimationIteration:case M.topAnimationStart:a=l;break;case M.topTransitionEnd:a=y;break;case M.topScroll:a=g;break;case M.topWheel:a=b;break;case M.topCopy:case M.topCut:case M.topPaste:a=c}a?void 0:i("86",t);var u=a.getPooled(o,e,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(t,e,n){if(e===C){var i=r(t),o=u.getNodeFromInstance(t);P[i]||(P[i]=a.listen(o,"click",_))}},willDeleteListener:function(t,e){if(e===C){var n=r(t);P[n].remove(),delete P[n]}}};e.exports=k},{"./EventConstants":320,"./EventPropagators":324,"./ReactDOMComponentTree":348,"./SyntheticAnimationEvent":406,"./SyntheticClipboardEvent":407,"./SyntheticDragEvent":409,"./SyntheticEvent":410,"./SyntheticFocusEvent":411,"./SyntheticKeyboardEvent":413,"./SyntheticMouseEvent":414,"./SyntheticTouchEvent":415,"./SyntheticTransitionEvent":416,"./SyntheticUIEvent":417,"./SyntheticWheelEvent":418,"./getEventCharCode":431,"./reactProdInvariant":445,"fbjs/lib/EventListener":453,"fbjs/lib/emptyFunction":460,"fbjs/lib/invariant":468,"fbjs/lib/keyOf":472}],406:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticEvent"),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},{"./SyntheticEvent":410}],407:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticEvent"),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},{"./SyntheticEvent":410}],408:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticEvent"),o={data:null};i.augmentClass(r,o),e.exports=r},{"./SyntheticEvent":410}],409:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticMouseEvent"),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},{"./SyntheticMouseEvent":414}],410:[function(t,e,n){"use strict";function r(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=t("object-assign"),o=t("./PooledClass"),a=t("fbjs/lib/emptyFunction"),s=(t("fbjs/lib/warning"),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(t,e){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,t.prototype),t.prototype=a,t.prototype.constructor=t,t.Interface=i({},n.Interface,e),t.augmentClass=n.augmentClass,o.addPoolingTo(t,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r},{"./PooledClass":329,"fbjs/lib/emptyFunction":460,"fbjs/lib/warning":477,"object-assign":478}],411:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticUIEvent"),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},{"./SyntheticUIEvent":417}],412:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticEvent"),o={data:null};i.augmentClass(r,o),e.exports=r},{"./SyntheticEvent":410}],413:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticUIEvent"),o=t("./getEventCharCode"),a=t("./getEventKey"),s=t("./getEventModifierState"),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(t){return"keypress"===t.type?o(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?o(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};i.augmentClass(r,u),e.exports=r},{"./SyntheticUIEvent":417,"./getEventCharCode":431,"./getEventKey":432,"./getEventModifierState":433}],414:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticUIEvent"),o=t("./ViewportMetrics"),a=t("./getEventModifierState"),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},{"./SyntheticUIEvent":417,"./ViewportMetrics":420,"./getEventModifierState":433}],415:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticUIEvent"),o=t("./getEventModifierState"),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},{"./SyntheticUIEvent":417,"./getEventModifierState":433}],416:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticEvent"),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},{"./SyntheticEvent":410}],417:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticEvent"),o=t("./getEventTarget"),a={view:function(t){if(t.view)return t.view;var e=o(t);if(e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};i.augmentClass(r,a),e.exports=r},{"./SyntheticEvent":410,"./getEventTarget":434}],418:[function(t,e,n){"use strict";function r(t,e,n,r){return i.call(this,t,e,n,r)}var i=t("./SyntheticMouseEvent"),o={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},{"./SyntheticMouseEvent":414}],419:[function(t,e,n){"use strict";var r=t("./reactProdInvariant"),i=(t("fbjs/lib/invariant"),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,i,o,a,s,u){this.isInTransaction()?r("27"):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=t.call(e,n,i,o,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(f){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(t){this.isInTransaction()?void 0:r("28");for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i,a=e[n],s=this.wrapperInitData[n];try{i=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}}),o={Mixin:i,OBSERVED_ERROR:{}};e.exports=o},{"./reactProdInvariant":445,"fbjs/lib/invariant":468}],420:[function(t,e,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){r.currentScrollLeft=t.x,r.currentScrollTop=t.y}};e.exports=r},{}],421:[function(t,e,n){"use strict";function r(t,e){return null==e?i("30"):void 0,null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}var i=t("./reactProdInvariant");t("fbjs/lib/invariant");e.exports=r},{"./reactProdInvariant":445,"fbjs/lib/invariant":468}],422:[function(t,e,n){"use strict";function r(t){for(var e=1,n=0,r=0,o=t.length,a=o&-4;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(e+=t.charCodeAt(r))+(e+=t.charCodeAt(r+1))+(e+=t.charCodeAt(r+2))+(e+=t.charCodeAt(r+3));e%=i,n%=i}for(;r<o;r++)n+=e+=t.charCodeAt(r);return e%=i,n%=i,e|n<<16}var i=65521;e.exports=r},{}],423:[function(t,e,n){"use strict";var r=!1;e.exports=r},{}],424:[function(t,e,n){(function(n){"use strict";function r(t,e,n,r,u,l){for(var c in t)if(t.hasOwnProperty(c)){var f;try{"function"!=typeof t[c]?i("84",r||"React class",o[n],c):void 0,f=t[c](e,c,r,n,null,a)}catch(h){f=h}if(f instanceof Error&&!(f.message in s)){s[f.message]=!0}}}var i=t("./reactProdInvariant"),o=t("./ReactPropTypeLocationNames"),a=t("./ReactPropTypesSecret");t("fbjs/lib/invariant"),t("fbjs/lib/warning");"undefined"!=typeof n&&n.env,1;var s={};e.exports=r}).call(this,t("_process"))},{"./ReactComponentTreeHook":341,"./ReactPropTypeLocationNames":387,"./ReactPropTypesSecret":390,"./reactProdInvariant":445,_process:3,"fbjs/lib/invariant":468,"fbjs/lib/warning":477}],425:[function(t,e,n){"use strict";var r=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t};e.exports=r},{}],426:[function(t,e,n){"use strict";function r(t,e,n){var r=null==e||"boolean"==typeof e||""===e;if(r)return"";var i=isNaN(e);if(i||0===e||o.hasOwnProperty(t)&&o[t])return""+e;if("string"==typeof e){e=e.trim()}return e+"px"}var i=t("./CSSProperty"),o=(t("fbjs/lib/warning"),i.isUnitlessNumber);e.exports=r},{"./CSSProperty":307,"fbjs/lib/warning":477}],427:[function(t,e,n){"use strict";function r(t){var e=""+t,n=o.exec(e);if(!n)return e;var r,i="",a=0,s=0;for(a=n.index;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(i+=e.substring(s,a)),s=a+1,i+=r}return s!==a?i+e.substring(s,a):i}function i(t){return"boolean"==typeof t||"number"==typeof t?""+t:r(t)}var o=/["'&<>]/;e.exports=i},{}],428:[function(t,e,n){"use strict";function r(t){if(null==t)return null;if(1===t.nodeType)return t;var e=a.get(t);return e?(e=s(e),e?o.getNodeFromInstance(e):null):void("function"==typeof t.render?i("44"):i("45",Object.keys(t)))}var i=t("./reactProdInvariant"),o=(t("./ReactCurrentOwner"),t("./ReactDOMComponentTree")),a=t("./ReactInstanceMap"),s=t("./getHostComponentFromComposite");t("fbjs/lib/invariant"),t("fbjs/lib/warning");e.exports=r},{"./ReactCurrentOwner":343,"./ReactDOMComponentTree":348,"./ReactInstanceMap":377,"./getHostComponentFromComposite":435,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"fbjs/lib/warning":477}],429:[function(t,e,n){(function(n){"use strict";function r(t,e,n,r){if(t&&"object"==typeof t){var i=t,o=void 0===i[n];o&&null!=e&&(i[n]=e)}}function i(t,e){if(null==t)return t;var n={};return o(t,r,n),n}var o=(t("./KeyEscapeUtils"),t("./traverseAllChildren"));t("fbjs/lib/warning");"undefined"!=typeof n&&n.env,1,e.exports=i}).call(this,t("_process"))},{"./KeyEscapeUtils":327,"./ReactComponentTreeHook":341,"./traverseAllChildren":450,_process:3,"fbjs/lib/warning":477}],430:[function(t,e,n){"use strict";function r(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}e.exports=r},{}],431:[function(t,e,n){"use strict";function r(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}e.exports=r},{}],432:[function(t,e,n){"use strict";function r(t){if(t.key){var e=o[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=i(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?a[t.keyCode]||"Unidentified":""}var i=t("./getEventCharCode"),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},{"./getEventCharCode":431}],433:[function(t,e,n){"use strict";function r(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=o[t];return!!r&&!!n[r]}function i(t){return r}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=i},{}],434:[function(t,e,n){"use strict";function r(t){var e=t.target||t.srcElement||window;return e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}e.exports=r},{}],435:[function(t,e,n){"use strict";function r(t){for(var e;(e=t._renderedNodeType)===i.COMPOSITE;)t=t._renderedComponent;return e===i.HOST?t._renderedComponent:e===i.EMPTY?null:void 0}var i=t("./ReactNodeTypes");e.exports=r},{"./ReactNodeTypes":384}],436:[function(t,e,n){"use strict";function r(t){var e=t&&(i&&t[i]||t[o]);if("function"==typeof e)return e}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=r},{}],437:[function(t,e,n){"use strict";function r(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function o(t,e){for(var n=r(t),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,o<=e&&a>=e)return{node:n,offset:e-o};o=a}n=r(i(n))}}e.exports=o},{}],438:[function(t,e,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=t("fbjs/lib/ExecutionEnvironment"),o=null;e.exports=r},{"fbjs/lib/ExecutionEnvironment":454}],439:[function(t,e,n){"use strict";function r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function i(t){if(s[t])return s[t];if(!a[t])return t;var e=a[t];for(var n in e)if(e.hasOwnProperty(n)&&n in u)return s[t]=e[n];return""}var o=t("fbjs/lib/ExecutionEnvironment"),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};o.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=i},{"fbjs/lib/ExecutionEnvironment":454}],440:[function(t,e,n){"use strict";function r(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function o(t,e){var n;if(null===t||t===!1)n=l.create(o);else if("object"==typeof t){var s=t;!s||"function"!=typeof s.type&&"string"!=typeof s.type?a("130",null==s.type?s.type:typeof s.type,r(s._owner)):void 0,"string"==typeof s.type?n=c.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new f(s)}else"string"==typeof t||"number"==typeof t?n=c.createInstanceForText(t):a("131",typeof t);return n._mountIndex=0,n._mountImage=null,n}var a=t("./reactProdInvariant"),s=t("object-assign"),u=t("./ReactCompositeComponent"),l=t("./ReactEmptyComponent"),c=t("./ReactHostComponent"),f=(t("fbjs/lib/invariant"),t("fbjs/lib/warning"),function(t){this.construct(t)});s(f.prototype,u.Mixin,{_instantiateReactComponent:o});e.exports=o},{"./ReactCompositeComponent":342,"./ReactEmptyComponent":368,
"./ReactHostComponent":373,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"fbjs/lib/warning":477,"object-assign":478}],441:[function(t,e,n){"use strict";function r(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===t&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=t("fbjs/lib/ExecutionEnvironment");o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},{"fbjs/lib/ExecutionEnvironment":454}],442:[function(t,e,n){"use strict";function r(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!i[t.type]:"textarea"===e}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=r},{}],443:[function(t,e,n){"use strict";function r(t){return o.isValidElement(t)?void 0:i("143"),t}var i=t("./reactProdInvariant"),o=t("./ReactElement");t("fbjs/lib/invariant");e.exports=r},{"./ReactElement":366,"./reactProdInvariant":445,"fbjs/lib/invariant":468}],444:[function(t,e,n){"use strict";function r(t){return'"'+i(t)+'"'}var i=t("./escapeTextContentForBrowser");e.exports=r},{"./escapeTextContentForBrowser":427}],445:[function(t,e,n){"use strict";function r(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=r},{}],446:[function(t,e,n){"use strict";var r=t("./ReactMount");e.exports=r.renderSubtreeIntoContainer},{"./ReactMount":381}],447:[function(t,e,n){"use strict";var r,i=t("fbjs/lib/ExecutionEnvironment"),o=t("./DOMNamespaces"),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=t("./createMicrosoftUnsafeLocalFunction"),l=u(function(t,e){if(t.namespaceURI!==o.svg||"innerHTML"in t)t.innerHTML=e;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+e+"</svg>";for(var n=r.firstChild;n.firstChild;)t.appendChild(n.firstChild)}});if(i.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),a.test(e)||"<"===e[0]&&s.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e}),c=null}e.exports=l},{"./DOMNamespaces":313,"./createMicrosoftUnsafeLocalFunction":425,"fbjs/lib/ExecutionEnvironment":454}],448:[function(t,e,n){"use strict";var r=t("fbjs/lib/ExecutionEnvironment"),i=t("./escapeTextContentForBrowser"),o=t("./setInnerHTML"),a=function(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e};r.canUseDOM&&("textContent"in document.documentElement||(a=function(t,e){o(t,i(e))})),e.exports=a},{"./escapeTextContentForBrowser":427,"./setInnerHTML":447,"fbjs/lib/ExecutionEnvironment":454}],449:[function(t,e,n){"use strict";function r(t,e){var n=null===t||t===!1,r=null===e||e===!1;if(n||r)return n===r;var i=typeof t,o=typeof e;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&t.type===e.type&&t.key===e.key}e.exports=r},{}],450:[function(t,e,n){"use strict";function r(t,e){return t&&"object"==typeof t&&null!=t.key?l.escape(t.key):e.toString(36)}function i(t,e,n,o){var h=typeof t;if("undefined"!==h&&"boolean"!==h||(t=null),null===t||"string"===h||"number"===h||s.isValidElement(t))return n(o,t,""===e?c+r(t,0):e),1;var p,d,m=0,v=""===e?c:e+f;if(Array.isArray(t))for(var y=0;y<t.length;y++)p=t[y],d=v+r(p,y),m+=i(p,d,n,o);else{var g=u(t);if(g){var b,_=g.call(t);if(g!==t.entries)for(var x=0;!(b=_.next()).done;)p=b.value,d=v+r(p,x++),m+=i(p,d,n,o);else for(;!(b=_.next()).done;){var w=b.value;w&&(p=w[1],d=v+l.escape(w[0])+f+r(p,0),m+=i(p,d,n,o))}}else if("object"===h){var M="",E=String(t);a("31","[object Object]"===E?"object with keys {"+Object.keys(t).join(", ")+"}":E,M)}}return m}function o(t,e,n){return null==t?0:i(t,"",e,n)}var a=t("./reactProdInvariant"),s=(t("./ReactCurrentOwner"),t("./ReactElement")),u=t("./getIteratorFn"),l=(t("fbjs/lib/invariant"),t("./KeyEscapeUtils")),c=(t("fbjs/lib/warning"),"."),f=":";e.exports=o},{"./KeyEscapeUtils":327,"./ReactCurrentOwner":343,"./ReactElement":366,"./getIteratorFn":436,"./reactProdInvariant":445,"fbjs/lib/invariant":468,"fbjs/lib/warning":477}],451:[function(t,e,n){"use strict";var r=(t("object-assign"),t("fbjs/lib/emptyFunction")),i=(t("fbjs/lib/warning"),r);e.exports=i},{"fbjs/lib/emptyFunction":460,"fbjs/lib/warning":477,"object-assign":478}],452:[function(t,e,n){"use strict";function r(t,e){for(var n=t;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(e);return Array.prototype.indexOf.call(r,t)!==-1}var i=t("./invariant"),o={addClass:function(t,e){return/\s/.test(e)?i(!1):void 0,e&&(t.classList?t.classList.add(e):o.hasClass(t,e)||(t.className=t.className+" "+e)),t},removeClass:function(t,e){return/\s/.test(e)?i(!1):void 0,e&&(t.classList?t.classList.remove(e):o.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),t},conditionClass:function(t,e,n){return(n?o.addClass:o.removeClass)(t,e)},hasClass:function(t,e){return/\s/.test(e)?i(!1):void 0,t.classList?!!e&&t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},matchesSelector:function(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(e){return r(t,e)};return n.call(t,e)}};e.exports=o},{"./invariant":468}],453:[function(t,e,n){"use strict";var r=t("./emptyFunction"),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},{"./emptyFunction":460}],454:[function(t,e,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},{}],455:[function(t,e,n){"use strict";function r(t){return t.replace(i,function(t,e){return e.toUpperCase()})}var i=/-(.)/g;e.exports=r},{}],456:[function(t,e,n){"use strict";function r(t){return i(t.replace(o,"ms-"))}var i=t("./camelize"),o=/^-ms-/;e.exports=r},{"./camelize":455}],457:[function(t,e,n){"use strict";function r(t,e){return!(!t||!e)&&(t===e||!i(t)&&(i(e)?r(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var i=t("./isTextNode");e.exports=r},{"./isTextNode":470}],458:[function(t,e,n){"use strict";function r(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?a(!1):void 0,"number"!=typeof e?a(!1):void 0,0===e||e-1 in t?void 0:a(!1),"function"==typeof t.callee?a(!1):void 0,t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var r=Array(e),i=0;i<e;i++)r[i]=t[i];return r}function i(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function o(t){return i(t)?Array.isArray(t)?t.slice():r(t):[t]}var a=t("./invariant");e.exports=o},{"./invariant":468}],459:[function(t,e,n){"use strict";function r(t){var e=t.match(c);return e&&e[1].toLowerCase()}function i(t,e){var n=l;l?void 0:u(!1);var i=r(t),o=i&&s(i);if(o){n.innerHTML=o[1]+t+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=t;var f=n.getElementsByTagName("script");f.length&&(e?void 0:u(!1),a(f).forEach(e));for(var h=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return h}var o=t("./ExecutionEnvironment"),a=t("./createArrayFromMixed"),s=t("./getMarkupWrap"),u=t("./invariant"),l=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=i},{"./ExecutionEnvironment":454,"./createArrayFromMixed":458,"./getMarkupWrap":464,"./invariant":468}],460:[function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},e.exports=i},{}],461:[function(t,e,n){"use strict";var r={};e.exports=r},{}],462:[function(t,e,n){"use strict";function r(t){try{t.focus()}catch(e){}}e.exports=r},{}],463:[function(t,e,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(t){return document.body}}e.exports=r},{}],464:[function(t,e,n){"use strict";function r(t){return a?void 0:o(!1),h.hasOwnProperty(t)||(t="*"),s.hasOwnProperty(t)||("*"===t?a.innerHTML="<link />":a.innerHTML="<"+t+"></"+t+">",s[t]=!a.firstChild),s[t]?h[t]:null}var i=t("./ExecutionEnvironment"),o=t("./invariant"),a=i.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(t){h[t]=f,s[t]=!0}),e.exports=r},{"./ExecutionEnvironment":454,"./invariant":468}],465:[function(t,e,n){"use strict";function r(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}e.exports=r},{}],466:[function(t,e,n){"use strict";function r(t){return t.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=r},{}],467:[function(t,e,n){"use strict";function r(t){return i(t).replace(o,"-ms-")}var i=t("./hyphenate"),o=/^ms-/;e.exports=r},{"./hyphenate":466}],468:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error(e.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}e.exports=r},{}],469:[function(t,e,n){"use strict";function r(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}e.exports=r},{}],470:[function(t,e,n){"use strict";function r(t){return i(t)&&3==t.nodeType}var i=t("./isNode");e.exports=r},{"./isNode":469}],471:[function(t,e,n){"use strict";var r=t("./invariant"),i=function(t){var e,n={};t instanceof Object&&!Array.isArray(t)?void 0:r(!1);for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};e.exports=i},{"./invariant":468}],472:[function(t,e,n){"use strict";var r=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=r},{}],473:[function(t,e,n){"use strict";function r(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}e.exports=r},{}],474:[function(t,e,n){"use strict";var r,i=t("./ExecutionEnvironment");i.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},{"./ExecutionEnvironment":454}],475:[function(t,e,n){"use strict";var r,i=t("./performance");r=i.now?function(){return i.now()}:function(){return Date.now()},e.exports=r},{"./performance":474}],476:[function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},{}],477:[function(t,e,n){"use strict";var r=t("./emptyFunction"),i=r;e.exports=i},{"./emptyFunction":460}],478:[function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function i(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}var o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=i()?Object.assign:function(t,e){for(var n,i,s=r(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)o.call(n,l)&&(s[l]=n[l]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(n);for(var c=0;c<i.length;c++)a.call(n,i[c])&&(s[i[c]]=n[i[c]])}}return s}},{}],479:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function a(t,e,n,r){switch("undefined"==typeof t?"undefined":o(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,i(n)):t[r];case"function":return t(e);default:return t}}function s(t){var e=t.timestamp,n=t.duration;return function(t,r,i){var o=["action"];return e&&o.push("@ "+r),o.push(t.type),n&&o.push("(in "+i.toFixed(2)+" ms)"),o.join(" ")}}function u(t,e){var n=e.logger,r=e.actionTransformer,i=e.titleFormatter,o=void 0===i?s(e):i,u=e.collapsed,c=e.colors,h=e.level,p=e.diff;t.forEach(function(e,i){var s=e.started,d=e.startedTime,m=e.action,v=e.prevState,y=e.error,g=e.took,b=e.nextState,_=t[i+1];_&&(b=_.prevState,g=_.started-s);var x=r(m),w="function"==typeof u?u(function(){return b},m):u,M=(0,l.formatTime)(d),E=c.title?"color: "+c.title(x)+";":null,S=o(x,M,g);try{w?c.title?n.groupCollapsed("%c "+S,E):n.groupCollapsed(S):c.title?n.group("%c "+S,E):n.group(S)}catch(T){n.log(S)}var C=a(h,x,[v],"prevState"),P=a(h,x,[x],"action"),k=a(h,x,[y,v],"error"),A=a(h,x,[b],"nextState");C&&(c.prevState?n[C]("%c prev state","color: "+c.prevState(v)+"; font-weight: bold",v):n[C]("prev state",v)),P&&(c.action?n[P]("%c action","color: "+c.action(x)+"; font-weight: bold",x):n[P]("action",x)),y&&k&&(c.error?n[k]("%c error","color: "+c.error(y,v)+"; font-weight: bold",y):n[k]("error",y)),A&&(c.nextState?n[A]("%c next state","color: "+c.nextState(b)+"; font-weight: bold",b):n[A]("next state",b)),p&&(0,f["default"])(v,b,n,w);try{n.groupEnd()}catch(T){n.log("ââ log end ââ")}})}Object.defineProperty(n,"__esModule",{value:!0}),n.printBuffer=u;var l=t("./helpers"),c=t("./diff"),f=r(c)},{"./diff":481,"./helpers":482}],480:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=n["default"]},{}],481:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return"color: "+l[t].color+"; font-weight: bold"}function o(t){var e=t.kind,n=t.path,r=t.lhs,i=t.rhs,o=t.index,a=t.item;switch(e){case"E":return n.join(".")+" "+r+" â "+i;case"N":return n.join(".")+" "+i;case"D":return""+n.join(".");case"A":return[n.join(".")+"["+o+"]",a];default:return null}}function a(t,e,n,r){var a=(0,u["default"])(t,e);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(s){n.log("diff")}a?a.forEach(function(t){var e=t.kind,r=o(t);n.log("%c "+l[e].text,i(e),r)}):n.log("ââ no diff ââ");try{n.groupEnd()}catch(s){n.log("ââ diff end ââ ")}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a;var s=t("deep-diff"),u=r(s),l={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=n["default"]},{"deep-diff":483}],482:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=n.repeat=function(t,e){return new Array(e+1).join(t)},i=n.pad=function(t,e){return r("0",e-t.toString().length)+t};n.formatTime=function(t){return i(t.getHours(),2)+":"+i(t.getMinutes(),2)+":"+i(t.getSeconds(),2)+"."+i(t.getMilliseconds(),3)},n.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},{}],483:[function(t,e,n){(function(t){!function(t,r){"use strict";"function"==typeof define&&define.amd?define([],function(){return r()}):"object"==typeof n?e.exports=r():t.DeepDiff=r()}(this,function(e){"use strict";function n(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function i(t,e,n){i.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function l(t){var e=typeof t;return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"undefined"!=typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function c(t,n,r,f,h,p,d){h=h||[];var m=h.slice(0);if("undefined"!=typeof p){if(f){if("function"==typeof f&&f(m,p))return;if("object"==typeof f){if(f.prefilter&&f.prefilter(m,p))return;if(f.normalize){var v=f.normalize(m,p,t,n);v&&(t=v[0],n=v[1])}}}m.push(p)}"regexp"===l(t)&&"regexp"===l(n)&&(t=t.toString(),n=n.toString());var y=typeof t,g=typeof n;if("undefined"===y)"undefined"!==g&&r(new o(m,n));else if("undefined"===g)r(new a(m,t));else if(l(t)!==l(n))r(new i(m,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!==0)r(new i(m,t,n));else if("object"===y&&null!==t&&null!==n){if(d=d||[],d.indexOf(t)<0){if(d.push(t),Array.isArray(t)){var b;t.length;for(b=0;b<t.length;b++)b>=n.length?r(new s(m,b,new a(e,t[b]))):c(t[b],n[b],r,f,m,b,d);for(;b<n.length;)r(new s(m,b,new o(e,n[b++])))}else{var _=Object.keys(t),x=Object.keys(n);_.forEach(function(i,o){var a=x.indexOf(i);a>=0?(c(t[i],n[i],r,f,m,i,d),x=u(x,a)):c(t[i],e,r,f,m,i,d)}),x.forEach(function(t){c(e,n[t],r,f,m,t,d)})}d.length=d.length-1}}else t!==n&&("number"===y&&isNaN(t)&&isNaN(n)||r(new i(m,t,n)))}function f(t,n,r,i){return i=i||[],c(t,n,function(t){t&&i.push(t)},r),i.length?i:e}function h(t,e,n){if(n.path&&n.path.length){var r,i=t[e],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(t[e],n.index,n.item);break;case"D":t=u(t,e);break;case"E":case"N":t[e]=n.rhs}return t}function p(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,i=-1,o=n.path?n.path.length-1:0;++i<o;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function d(t,e,n){if(n.path&&n.path.length){var r,i=t[e],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":i[n.path[r]]=n.lhs;break;case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":d(t[e],n.index,n.item);break;case"D":t[e]=n.lhs;break;case"E":t[e]=n.lhs;break;case"N":t=u(t,e)}return t}function m(t,e,n){if(t&&e&&n&&n.kind){var r,i,o=t;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":d(o[n.path[r]],n.index,n.item);break;case"D":o[n.path[r]]=n.lhs;break;case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function v(t,e,n){if(t&&e){var r=function(r){n&&!n(t,e,r)||p(t,e,r)};c(t,e,r)}}var y,g,b=[];return y="object"==typeof t&&t?t:"undefined"!=typeof window?window:{},g=y.DeepDiff,g&&b.push(function(){"undefined"!=typeof g&&y.DeepDiff===f&&(y.DeepDiff=g,g=e)}),n(i,r),n(o,r),n(a,r),n(s,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:v,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:m,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof g},enumerable:!0},noConflict:{value:function(){return b&&(b.forEach(function(t){t()}),b=null),f},enumerable:!0}}),f})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],484:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,i){var a=t(n,r,i),u=a.dispatch,l=[],c={getState:a.getState,dispatch:function(t){return u(t)}};return l=e.map(function(t){return t(c)}),u=s["default"].apply(void 0,l)(a.dispatch),o({},a,{dispatch:u})}}}n.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n["default"]=i;var a=t("./compose"),s=r(a)},{"./compose":487}],485:[function(t,e,n){"use strict";function r(t,e){return function(){return e(t.apply(void 0,arguments))}}function i(t,e){if("function"==typeof t)return r(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),i={},o=0;o<n.length;o++){var a=n[o],s=t[a];"function"==typeof s&&(i[a]=r(s,e))}return i}n.__esModule=!0,n["default"]=i},{}],486:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n=e&&e.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var a=e[r];"function"==typeof t[a]&&(n[a]=t[a])}var s,u=Object.keys(n);try{o(n)}catch(l){s=l}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1];if(s)throw s;for(var r=!1,o={},a=0;a<u.length;a++){var l=u[a],c=n[l],f=t[l],h=c(f,e);if("undefined"==typeof h){var p=i(l,e);throw new Error(p)}o[l]=h,r=r||h!==f}return r?o:t}}n.__esModule=!0,n["default"]=a;var s=t("./createStore"),u=t("lodash/isPlainObject"),l=(r(u),t("./utils/warning"));r(l)},{"./createStore":488,"./utils/warning":489,"lodash/isPlainObject":29}],487:[function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];var r=e[e.length-1],i=e.slice(0,-1);return function(){return i.reduceRight(function(t,e){return e(t)},r.apply(void 0,arguments))}}n.__esModule=!0,n["default"]=r},{}],488:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){function r(){y===v&&(y=v.slice())}function o(){return m}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),y.push(t),function(){if(e){e=!1,r();var n=y.indexOf(t);y.splice(n,1)}}}function c(t){if(!(0,a["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,m=d(m,t)}finally{g=!1}for(var e=v=y,n=0;n<e.length;n++)e[n]();return t}function f(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");d=t,c({type:l.INIT})}function h(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");n();var r=e(n);return{unsubscribe:r}}},t[u["default"]]=function(){return this},t}var p;if("function"==typeof e&&"undefined"==typeof n&&(n=e,e=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var d=t,m=e,v=[],y=v,g=!1;return c({type:l.INIT}),p={dispatch:c,subscribe:s,getState:o,replaceReducer:f},p[u["default"]]=h,p}n.__esModule=!0,n.ActionTypes=void 0,n["default"]=i;var o=t("lodash/isPlainObject"),a=r(o),s=t("symbol-observable"),u=r(s),l=n.ActionTypes={INIT:"@@redux/INIT"}},{"lodash/isPlainObject":29,"symbol-observable":490}],489:[function(t,e,n){"use strict";function r(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}n.__esModule=!0,n["default"]=r},{}],490:[function(t,e,n){e.exports=t("./lib/index")},{"./lib/index":491}],491:[function(t,e,n){(function(r){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o,a=t("./ponyfill"),s=i(a);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof e?e:Function("return this")();var u=(0,s["default"])(o);n["default"]=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill":492}],492:[function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r},{}],493:[function(t,e,n){var r=t("turf-meta").coordEach;e.exports=function(t){var e=[1/0,1/0,-(1/0),-(1/0)];return r(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}},{"turf-meta":494}],494:[function(t,e,n){function r(t,e,n){var r,i,o,a,s,u,l,c,f,h,p=0,d="FeatureCollection"===t.type,m="Feature"===t.type,v=d?t.features.length:1;for(r=0;r<v;r++)for(f=d?t.features[r].geometry:m?t.geometry:t,h="GeometryCollection"===f.type,l=h?f.geometries.length:1,a=0;a<l;a++)if(u=h?f.geometries[a]:f,c=u.coordinates,p=!n||"Polygon"!==u.type&&"MultiPolygon"!==u.type?0:1,"Point"===u.type)e(c);else if("LineString"===u.type||"MultiPoint"===u.type)for(i=0;i<c.length;i++)e(c[i]);else if("Polygon"===u.type||"MultiLineString"===u.type)for(i=0;i<c.length;i++)for(o=0;o<c[i].length-p;o++)e(c[i][o]);else{if("MultiPolygon"!==u.type)throw new Error("Unknown Geometry Type");for(i=0;i<c.length;i++)for(o=0;o<c[i].length;o++)for(s=0;s<c[i][o].length-p;s++)e(c[i][o][s])}}function i(t,e,n,i){return r(t,function(t){n=e(n,t)},i),n}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties);break;case"Feature":e(t.properties)}}function a(t,e,n){return o(t,function(t){n=e(n,t)}),n}function s(t,e){if("Feature"===t.type)e(t);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n])}function u(t){var e=[];return r(t,function(t){e.push(t)}),e}e.exports.coordEach=r,e.exports.coordReduce=i,e.exports.propEach=o,e.exports.propReduce=a,e.exports.featureEach=s,e.exports.coordAll=u},{}],495:[function(t,e,n){function r(t,e){return{type:"Feature",properties:e||{},geometry:t}}e.exports.feature=r,e.exports.point=function(t,e){if(!Array.isArray(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return r({type:"Point",coordinates:t.slice()},e)},e.exports.polygon=function(t,e){if(!t)throw new Error("No coordinates passed");for(var n=0;n<t.length;n++){var i=t[n];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:t},e)},e.exports.lineString=function(t,e){if(!t)throw new Error("No coordinates passed");return r({type:"LineString",coordinates:t},e)},e.exports.featureCollection=function(t){return{type:"FeatureCollection",features:t}},e.exports.multiLineString=function(t,e){if(!t)throw new Error("No coordinates passed");return r({type:"MultiLineString",coordinates:t},e)},e.exports.multiPoint=function(t,e){if(!t)throw new Error("No coordinates passed");return r({type:"MultiPoint",coordinates:t},e)},e.exports.multiPolygon=function(t,e){if(!t)throw new Error("No coordinates passed");return r({type:"MultiPolygon",coordinates:t},e)},e.exports.geometryCollection=function(t,e){return r({type:"GeometryCollection",geometries:t},e)};var i={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};e.exports.radiansToDistance=function(t,e){var n=i[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t*n;
},e.exports.distanceToRadians=function(t,e){var n=i[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n},e.exports.distanceToDegrees=function(t,e){var n=i[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n*57.2958}},{}],"chroma-js":[function(t,e,n){(function(){var t,r,i,o,a,s,u,l,c,f,h,p,d,m,v,y,g,b,_,x,w,M,E,S,T,C,P,k,A,I,O,R,D,N,j,L,z,F,U,B,V,q,H,W,Y,G,X,Z,K,Q,$,J,tt,et,nt,rt,it,ot,at,st,ut,lt,ct,ft,ht,pt,dt,mt,vt,yt,gt,bt,_t,xt,wt,Mt,Et,St,Tt,Ct=[].slice;wt=function(){var t,e,n,r,i;for(t={},i="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),r=0,e=i.length;r<e;r++)n=i[r],t["[object "+n+"]"]=n.toLowerCase();return function(e){var n;return n=Object.prototype.toString.call(e),t[n]||"object"}}(),Y=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),t<e&&(t=e),t>n&&(t=n),t},Mt=function(t){return t.length>=3?[].slice.call(t):t[0]},x=function(t){var e;for(e in t)e<3?(t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t},o=Math.PI,yt=Math.round,E=Math.cos,k=Math.floor,et=Math.pow,G=Math.log,bt=Math.sin,_t=Math.sqrt,d=Math.atan2,K=Math.max,p=Math.abs,u=2*o,a=o/3,r=o/180,s=180/o,_=function(){return arguments[0]instanceof t?arguments[0]:function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,arguments,function(){})},h=[],"undefined"!=typeof e&&null!==e&&null!=e.exports&&(e.exports=_),"function"==typeof define&&define.amd?define([],function(){return _}):(vt="undefined"!=typeof n&&null!==n?n:this,vt.chroma=_),_.version="1.1.1",f={},l=[],c=!1,t=function(){function t(){var t,e,n,r,i,o,a,s,u;for(o=this,e=[],s=0,r=arguments.length;s<r;s++)t=arguments[s],null!=t&&e.push(t);if(a=e[e.length-1],null!=f[a])o._rgb=x(f[a](Mt(e.slice(0,-1))));else{for(c||(l=l.sort(function(t,e){return e.p-t.p}),c=!0),u=0,i=l.length;u<i&&(n=l[u],!(a=n.test.apply(n,e)));u++);a&&(o._rgb=x(f[a].apply(f,e)))}null==o._rgb&&console.warn("unknown format: "+e),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return t.prototype.alpha=function(t){return arguments.length?(this._rgb[3]=t,this):this._rgb[3]},t.prototype.toString=function(){return this.name()},t}(),_._input=f,_.brewer=g={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Et={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"},_.colors=M=Et,B=function(){var t,e,n,r,o,a,s,u,l;return e=Mt(arguments),o=e[0],t=e[1],n=e[2],u=(o+16)/116,s=isNaN(t)?u:u+t/500,l=isNaN(n)?u:u-n/200,u=i.Yn*V(u),s=i.Xn*V(s),l=i.Zn*V(l),a=Tt(3.2404542*s-1.5371385*u-.4985314*l),r=Tt(-.969266*s+1.8760108*u+.041556*l),n=Tt(.0556434*s-.2040259*u+1.0572252*l),a=Y(a,0,255),r=Y(r,0,255),n=Y(n,0,255),[a,r,n,e.length>3?e[3]:1]},Tt=function(t){return yt(255*(t<=.00304?12.92*t:1.055*et(t,1/2.4)-.055))},V=function(t){return t>i.t1?t*t*t:i.t2*(t-i.t0)},i={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ut=function(){var t,e,n,r,i,o,a,s;return r=Mt(arguments),n=r[0],e=r[1],t=r[2],i=pt(n,e,t),o=i[0],a=i[1],s=i[2],[116*a-16,500*(o-a),200*(a-s)]},dt=function(t){return(t/=255)<=.04045?t/12.92:et((t+.055)/1.055,2.4)},St=function(t){return t>i.t3?et(t,1/3):t/i.t2+i.t0},pt=function(){var t,e,n,r,o,a,s;return r=Mt(arguments),n=r[0],e=r[1],t=r[2],n=dt(n),e=dt(e),t=dt(t),o=St((.4124564*n+.3575761*e+.1804375*t)/i.Xn),a=St((.2126729*n+.7151522*e+.072175*t)/i.Yn),s=St((.0193339*n+.119192*e+.9503041*t)/i.Zn),[o,a,s]},_.lab=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,Ct.call(arguments).concat(["lab"]),function(){})},f.lab=B,t.prototype.lab=function(){return ut(this._rgb)},m=function(t){var e,n,r,i,o,a,s,u,l,c,f;return t=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(_(i));return r}(),2===t.length?(l=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(i.lab());return r}(),o=l[0],a=l[1],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;n<=2;e=++n)r.push(o[e]+t*(a[e]-o[e]));return r}(),_.lab.apply(_,n)}):3===t.length?(c=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(i.lab());return r}(),o=c[0],a=c[1],s=c[2],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;n<=2;e=++n)r.push((1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]);return r}(),_.lab.apply(_,n)}):4===t.length?(f=function(){var e,n,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],r.push(i.lab());return r}(),o=f[0],a=f[1],s=f[2],u=f[3],e=function(t){var e,n;return n=function(){var n,r;for(r=[],e=n=0;n<=2;e=++n)r.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*u[e]);return r}(),_.lab.apply(_,n)}):5===t.length&&(n=m(t.slice(0,3)),r=m(t.slice(2,5)),e=function(t){return t<.5?n(2*t):r(2*(t-.5))}),e},_.bezier=function(t){var e;return e=m(t),e.scale=function(){return _.scale(e)},e},_.cubehelix=function(t,e,n,r,i){var o,a,s;return null==t&&(t=300),null==e&&(e=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),a=i[1]-i[0],o=0,s=function(s){var l,c,f,h,p,d,m,v,y;return l=u*((t+120)/360+e*s),m=et(i[0]+a*s,r),d=0!==o?n[0]+s*o:n,c=d*m*(1-m)/2,h=E(l),y=bt(l),v=m+c*(-.14861*h+1.78277*y),p=m+c*(-.29227*h-.90649*y),f=m+c*(1.97294*h),_(x([255*v,255*p,255*f]))},s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:(n=t,"array"===wt(n)?(o=n[1]-n[0],0===o&&(n=n[1])):o=0,s)},s.lightness=function(t){return null==t?i:(i=t,"array"===wt(i)?(a=i[1]-i[0],0===a&&(i=i[1])):a=0,s)},s.scale=function(){return _.scale(s)},s.hue(n),s},_.random=function(){var e,n,r,i;for(n="0123456789abcdef",e="#",r=i=0;i<6;r=++i)e+=n.charAt(k(16*Math.random()));return new t(e)},_.average=function(e){var n,r,i,o,a,s,u,l,c;for(l=o=r=n=0,a=e.length,u=0,s=e.length;u<s;u++)i=e[u],c=_(i).rgba(),l+=c[0],o+=c[1],r+=c[2],n+=c[3];return new t(l/a,o/a,r/a,n/a)},f.rgb=function(){var t,e,n,r;e=Mt(arguments),n=[];for(t in e)r=e[t],n.push(r);return n},_.rgb=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,Ct.call(arguments).concat(["rgb"]),function(){})},t.prototype.rgb=function(){return this._rgb.slice(0,3)},t.prototype.rgba=function(){return this._rgb},l.push({p:15,test:function(t){var e;return e=Mt(arguments),"array"===wt(e)&&3===e.length?"rgb":4===e.length&&"number"===wt(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),A=function(t){var e,n,r,i,o,a;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),a=parseInt(t,16),i=a>>16,r=a>>8&255,n=255&a,[i,r,n,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),a=parseInt(t,16),i=a>>24&255,r=a>>16&255,n=a>>8&255,e=yt((255&a)/255*100)/100,[i,r,n,e];if(null!=f.css&&(o=f.css(t)))return o;throw"unknown color: "+t},it=function(t,e){var n,r,i,o,a,s,u;return null==e&&(e="rgb"),a=t[0],i=t[1],r=t[2],n=t[3],u=a<<16|i<<8|r,s="000000"+u.toString(16),s=s.substr(s.length-6),o="0"+yt(255*n).toString(16),o=o.substr(o.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},f.hex=function(t){return A(t)},_.hex=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,Ct.call(arguments).concat(["hex"]),function(){})},t.prototype.hex=function(t){return null==t&&(t="rgb"),it(this._rgb,t)},l.push({p:10,test:function(t){if(1===arguments.length&&"string"===wt(t))return"hex"}}),R=function(){var t,e,n,r,i,o,a,s,u,l,c,f,h,p;if(t=Mt(arguments),i=t[0],c=t[1],a=t[2],0===c)u=r=e=255*a;else{for(p=[0,0,0],n=[0,0,0],h=a<.5?a*(1+c):a+c-a*c,f=2*a-h,i/=360,p[0]=i+1/3,p[1]=i,p[2]=i-1/3,o=s=0;s<=2;o=++s)p[o]<0&&(p[o]+=1),p[o]>1&&(p[o]-=1),6*p[o]<1?n[o]=f+6*(h-f)*p[o]:2*p[o]<1?n[o]=h:3*p[o]<2?n[o]=f+(h-f)*(2/3-p[o])*6:n[o]=f;l=[yt(255*n[0]),yt(255*n[1]),yt(255*n[2])],u=l[0],r=l[1],e=l[2]}return t.length>3?[u,r,e,t[3]]:[u,r,e]},at=function(t,e,n){var r,i,o,a,s;return void 0!==t&&t.length>=3&&(a=t,t=a[0],e=a[1],n=a[2]),t/=255,e/=255,n/=255,o=Math.min(t,e,n),K=Math.max(t,e,n),i=(K+o)/2,K===o?(s=0,r=Number.NaN):s=i<.5?(K-o)/(K+o):(K-o)/(2-K-o),t===K?r=(e-n)/(K-o):e===K?r=2+(n-t)/(K-o):n===K&&(r=4+(t-e)/(K-o)),r*=60,r<0&&(r+=360),[r,s,i]},_.hsl=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,Ct.call(arguments).concat(["hsl"]),function(){})},f.hsl=R,t.prototype.hsl=function(){return at(this._rgb)},D=function(){var t,e,n,r,i,o,a,s,u,l,c,f,h,p,d,m,v,y;if(t=Mt(arguments),i=t[0],m=t[1],y=t[2],y*=255,0===m)u=r=e=y;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60,o=k(i),n=i-o,a=y*(1-m),s=y*(1-m*n),v=y*(1-m*(1-n)),o){case 0:l=[y,v,a],u=l[0],r=l[1],e=l[2];break;case 1:c=[s,y,a],u=c[0],r=c[1],e=c[2];break;case 2:f=[a,y,v],u=f[0],r=f[1],e=f[2];break;case 3:h=[a,s,y],u=h[0],r=h[1],e=h[2];break;case 4:p=[v,a,y],u=p[0],r=p[1],e=p[2];break;case 5:d=[y,a,s],u=d[0],r=d[1],e=d[2]}return u=yt(u),r=yt(r),e=yt(e),[u,r,e,t.length>3?t[3]:1]},st=function(){var t,e,n,r,i,o,a,s,u;return a=Mt(arguments),o=a[0],n=a[1],t=a[2],i=Math.min(o,n,t),K=Math.max(o,n,t),e=K-i,u=K/255,0===K?(r=Number.NaN,s=0):(s=e/K,o===K&&(r=(n-t)/e),n===K&&(r=2+(t-o)/e),t===K&&(r=4+(o-n)/e),r*=60,r<0&&(r+=360)),[r,s,u]},_.hsv=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,Ct.call(arguments).concat(["hsv"]),function(){})},f.hsv=D,t.prototype.hsv=function(){return st(this._rgb)},J=function(t){var e,n,r;return"number"===wt(t)&&t>=0&&t<=16777215?(r=t>>16,n=t>>8&255,e=255&t,[r,n,e,1]):(console.warn("unknown num color: "+t),[0,0,0,1])},ft=function(){var t,e,n,r;return r=Mt(arguments),n=r[0],e=r[1],t=r[2],(n<<16)+(e<<8)+t},_.num=function(e){return new t(e,"num")},t.prototype.num=function(t){return null==t&&(t="rgb"),ft(this._rgb,t)},f.num=J,l.push({p:10,test:function(t){if(1===arguments.length&&"number"===wt(t)&&t>=0&&t<=16777215)return"num"}}),S=function(t){var e,n,r,i,o,a,s,u;if(t=t.toLowerCase(),null!=_.colors&&_.colors[t])return A(_.colors[t]);if(o=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),i=a=0;a<=2;i=++a)s[i]=+s[i];s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),i=u=0;u<=3;i=++u)s[i]=+s[i];else if(o=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),i=e=0;e<=2;i=++e)s[i]=yt(2.55*s[i]);s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),i=n=0;n<=2;i=++n)s[i]=yt(2.55*s[i]);s[3]=+s[3]}else(o=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,s=R(r),s[3]=1):(o=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(r=o.slice(1,4),r[1]*=.01,r[2]*=.01,s=R(r),s[3]=+o[4]);return s},rt=function(t){var e;return e=t[3]<1?"rgba":"rgb","rgb"===e?e+"("+t.slice(0,3).map(yt).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(yt).join(",")+","+t[3]+")":void 0},mt=function(t){return yt(100*t)/100},O=function(t,e){var n;return n=e<1?"hsla":"hsl",t[0]=mt(t[0]||0),t[1]=mt(100*t[1])+"%",t[2]=mt(100*t[2])+"%","hsla"===n&&(t[3]=e),n+"("+t.join(",")+")"},f.css=function(t){return S(t)},_.css=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,Ct.call(arguments).concat(["css"]),function(){})},t.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?rt(this._rgb):"hsl"===t.slice(0,3)?O(this.hsl(),this.alpha()):void 0},f.named=function(t){return A(Et[t])},l.push({p:20,test:function(t){if(1===arguments.length&&null!=Et[t])return"named"}}),t.prototype.name=function(t){var e,n;arguments.length&&(Et[t]&&(this._rgb=A(Et[t])),this._rgb[3]=1),e=this.hex();for(n in Et)if(e===Et[n])return n;return e},q=function(){var t,e,n,i;return i=Mt(arguments),n=i[0],t=i[1],e=i[2],e*=r,[n,E(e)*t,bt(e)*t]},H=function(){var t,e,n,r,i,o,a,s,u,l,c;return n=Mt(arguments),s=n[0],i=n[1],a=n[2],l=q(s,i,a),t=l[0],e=l[1],r=l[2],c=B(t,e,r),u=c[0],o=c[1],r=c[2],[Y(u,0,255),Y(o,0,255),Y(r,0,255),n.length>3?n[3]:1]},U=function(){var t,e,n,r,i,o;return o=Mt(arguments),i=o[0],t=o[1],e=o[2],n=_t(t*t+e*e),r=(d(e,t)*s+360)%360,0===yt(1e4*n)&&(r=Number.NaN),[i,n,r]},lt=function(){var t,e,n,r,i,o,a;return o=Mt(arguments),i=o[0],n=o[1],e=o[2],a=ut(i,n,e),r=a[0],t=a[1],e=a[2],U(r,t,e)},_.lch=function(){var e;return e=Mt(arguments),new t(e,"lch")},_.hcl=function(){var e;return e=Mt(arguments),new t(e,"hcl")},f.lch=H,f.hcl=function(){var t,e,n,r;return r=Mt(arguments),e=r[0],t=r[1],n=r[2],H([n,t,e])},t.prototype.lch=function(){return lt(this._rgb)},t.prototype.hcl=function(){return lt(this._rgb).reverse()},nt=function(t){var e,n,r,i,o,a,s,u,l;return null==t&&(t="rgb"),u=Mt(arguments),s=u[0],i=u[1],e=u[2],s/=255,i/=255,e/=255,o=1-Math.max(s,Math.max(i,e)),r=o<1?1/(1-o):0,n=(1-s-o)*r,a=(1-i-o)*r,l=(1-e-o)*r,[n,a,l,o]},w=function(){var t,e,n,r,i,o,a,s,u;return e=Mt(arguments),r=e[0],a=e[1],u=e[2],o=e[3],t=e.length>4?e[4]:1,1===o?[0,0,0,t]:(s=r>=1?0:yt(255*(1-r)*(1-o)),i=a>=1?0:yt(255*(1-a)*(1-o)),n=u>=1?0:yt(255*(1-u)*(1-o)),[s,i,n,t])},f.cmyk=function(){return w(Mt(arguments))},_.cmyk=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,Ct.call(arguments).concat(["cmyk"]),function(){})},t.prototype.cmyk=function(){return nt(this._rgb)},f.gl=function(){var t,e,n,r,i;for(r=function(){var t,n;t=Mt(arguments),n=[];for(e in t)i=t[e],n.push(i);return n}.apply(this,arguments),t=n=0;n<=2;t=++n)r[t]*=255;return r},_.gl=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,Ct.call(arguments).concat(["gl"]),function(){})},t.prototype.gl=function(){var t;return t=this._rgb,[t[0]/255,t[1]/255,t[2]/255,t[3]]},ct=function(t,e,n){var r;return r=Mt(arguments),t=r[0],e=r[1],n=r[2],t=X(t),e=X(e),n=X(n),.2126*t+.7152*e+.0722*n},X=function(t){return t/=255,t<=.03928?t/12.92:et((t+.055)/1.055,2.4)},h=[],N=function(t,e,n,r){var i,o,a,s;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==wt(t)&&(t=_(t)),"object"!==wt(e)&&(e=_(e)),a=0,o=h.length;a<o;a++)if(i=h[a],r===i[0]){s=i[1](t,e,n,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(t.alpha()+n*(e.alpha()-t.alpha())),s},_.interpolate=N,t.prototype.interpolate=function(t,e,n){return N(this,t,e,n)},_.mix=N,t.prototype.mix=t.prototype.interpolate,F=function(e,n,r,i){var o,a;return o=e._rgb,a=n._rgb,new t(o[0]+r*(a[0]-o[0]),o[1]+r*(a[1]-o[1]),o[2]+r*(a[2]-o[2]),i)},h.push(["rgb",F]),t.prototype.luminance=function(t,e){var n,r,i,o;return null==e&&(e="rgb"),arguments.length?(0===t?this._rgb=[0,0,0,this._rgb[3]]:1===t?this._rgb=[255,255,255,this._rgb[3]]:(r=1e-7,i=20,o=function(n,a){var s,u;return u=n.interpolate(a,.5,e),s=u.luminance(),Math.abs(t-s)<r||!i--?u:s>t?o(n,u):o(u,a)},n=ct(this._rgb),this._rgb=(n>t?o(_("black"),this):o(this,_("white"))).rgba()),this):ct(this._rgb)},xt=function(t){var e,n,r,i;return i=t/100,i<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*G(n),e=i<20?0:-254.76935184120902+.8274096064007395*(e=i-10)+115.67994401066147*G(e)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*G(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*G(n),e=255),x([r,n,e])},ht=function(){var t,e,n,r,i,o,a,s,u;for(a=Mt(arguments),o=a[0],n=a[1],t=a[2],i=1e3,r=4e4,e=.4;r-i>e;)u=.5*(r+i),s=xt(u),s[2]/s[0]>=t/o?r=u:i=u;return yt(u)},_.temperature=_.kelvin=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,Ct.call(arguments).concat(["temperature"]),function(){})},f.temperature=f.kelvin=f.K=xt,t.prototype.temperature=function(){return ht(this._rgb)},t.prototype.kelvin=t.prototype.temperature,_.contrast=function(e,n){var r,i,o,a;return"string"!==(o=wt(e))&&"number"!==o||(e=new t(e)),"string"!==(a=wt(n))&&"number"!==a||(n=new t(n)),r=e.luminance(),i=n.luminance(),r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)},t.prototype.get=function(t){var e,n,r,i,o,a;return r=this,o=t.split("."),i=o[0],e=o[1],a=r[i](),e?(n=i.indexOf(e),n>-1?a[n]:console.warn("unknown channel "+e+" in mode "+i)):a},t.prototype.set=function(t,e){var n,r,i,o,a,s;if(i=this,a=t.split("."),o=a[0],n=a[1],n)if(s=i[o](),r=o.indexOf(n),r>-1)if("string"===wt(e))switch(e.charAt(0)){case"+":s[r]+=+e;break;case"-":s[r]+=+e;break;case"*":s[r]*=+e.substr(1);break;case"/":s[r]/=+e.substr(1);break;default:s[r]=+e}else s[r]=e;else console.warn("unknown channel "+n+" in mode "+o);else s=e;return i._rgb=_(s,o).alpha(i.alpha())._rgb,i},t.prototype.darken=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lab(),e[0]-=i.Kn*t,_.lab(e).alpha(n.alpha())},t.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},t.prototype.darker=t.prototype.darken,t.prototype.brighter=t.prototype.brighten,t.prototype.saturate=function(t){var e,n;return null==t&&(t=1),n=this,e=n.lch(),e[1]+=t*i.Kn,e[1]<0&&(e[1]=0),_.lch(e).alpha(n.alpha())},t.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},t.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),_(e[0]*t,e[1]*t,e[2]*t,t)},v=function(t,e,n){if(!v[n])throw"unknown blend mode "+n;return v[n](t,e)},y=function(t){return function(e,n){var r,i;return r=_(n).rgb(),i=_(e).rgb(),_(t(r,i),"rgb")}},P=function(t){return function(e,n){var r,i,o;for(o=[],r=i=0;i<=3;r=++i)o[r]=t(e[r],n[r]);return o}},$=function(t,e){return t},Q=function(t,e){return t*e/255},T=function(t,e){return t>e?e:t},W=function(t,e){return t>e?t:e},gt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},tt=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},b=function(t,e){return 255*(1-(1-e/255)/(t/255))},C=function(t,e){return 255===t?255:(t=255*(e/255)/(1-t/255),t>255?255:t)},v.normal=y(P($)),v.multiply=y(P(Q)),v.screen=y(P(gt)),v.overlay=y(P(tt)),v.darken=y(P(T)),v.lighten=y(P(W)),v.dodge=y(P(C)),v.burn=y(P(b)),_.blend=v,_.analyze=function(t){var e,n,r,i;for(r={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},n=0,e=t.length;n<e;n++)i=t[n],null==i||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(t,e){return _.limits(r,t,e)},r},_.scale=function(t,e){var n,r,i,o,a,s,u,l,c,f,h,p,d,m,v,y,g,b,x,w,M;return c="rgb",f=_("#ccc"),m=0,s=!1,a=[0,1],d=[],p=[0,0],n=!1,i=[],h=!1,l=0,u=1,o=!1,r={},w=function(t){var e,n,r,o,a,s,u;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===wt(t)&&null!=(null!=(o=_.brewer)?o[t]:void 0)&&(t=_.brewer[t]),"array"===wt(t)){for(t=t.slice(0),e=r=0,a=t.length-1;0<=a?r<=a:r>=a;e=0<=a?++r:--r)n=t[e],"string"===wt(n)&&(t[e]=_(n));for(d.length=0,e=u=0,s=t.length-1;0<=s?u<=s:u>=s;e=0<=s?++u:--u)d.push(e/(t.length-1))}return x(),i=t},g=function(t){var e,r;if(null!=n){for(r=n.length-1,e=0;e<r&&t>=n[e];)e++;return e-1}return 0},M=function(t){return t},v=function(t){var e,r,i,o,a;return a=t,n.length>2&&(o=n.length-1,e=g(t),i=n[0]+(n[1]-n[0])*(0+.5*m),r=n[o-1]+(n[o]-n[o-1])*(1-.5*m),a=l+(n[e]+.5*(n[e+1]-n[e])-i)/(r-i)*(u-l)),a},b=function(t,e){var o,a,s,h,m,v,y,b;if(null==e&&(e=!1),isNaN(t))return f;if(e?b=t:n&&n.length>2?(o=g(t),b=o/(n.length-2),b=p[0]+b*(1-p[0]-p[1])):u!==l?(b=(t-l)/(u-l),b=p[0]+b*(1-p[0]-p[1]),b=Math.min(1,Math.max(0,b))):b=1,e||(b=M(b)),h=Math.floor(1e4*b),r[h])a=r[h];else{if("array"===wt(i))for(s=m=0,y=d.length-1;0<=y?m<=y:m>=y;s=0<=y?++m:--m){if(v=d[s],b<=v){a=i[s];break}if(b>=v&&s===d.length-1){a=i[s];break}if(b>v&&b<d[s+1]){b=(b-v)/(d[s+1]-v),a=_.interpolate(i[s],i[s+1],b,c);break}}else"function"===wt(i)&&(a=i(b));r[h]=a}return a},x=function(){return r={}},w(t),y=function(t){var e;return e=_(b(t)),h&&e[h]?e[h]():e},y.classes=function(t){var e;return null!=t?("array"===wt(t)?(n=t,a=[t[0],t[t.length-1]]):(e=_.analyze(a),n=0===t?[e.min,e.max]:_.limits(e,"e",t)),y):n},y.domain=function(t){var e,n,r,o,s,c,f;if(!arguments.length)return a;if(l=t[0],u=t[t.length-1],d=[],r=i.length,t.length===r&&l!==u)for(s=0,o=t.length;s<o;s++)n=t[s],d.push((n-l)/(u-l));else for(e=f=0,c=r-1;0<=c?f<=c:f>=c;e=0<=c?++f:--f)d.push(e/(r-1));return a=[l,u],y},y.mode=function(t){return arguments.length?(c=t,x(),y):c},y.range=function(t,e){return w(t,e),y},y.out=function(t){return h=t,y},y.spread=function(t){return arguments.length?(m=t,y):m},y.correctLightness=function(t){return null==t&&(t=!0),o=t,x(),M=o?function(t){var e,n,r,i,o,a,s,u,l;for(e=b(0,!0).lab()[0],n=b(1,!0).lab()[0],s=e>n,r=b(t,!0).lab()[0],o=e+(n-e)*t,i=r-o,u=0,l=1,a=20;Math.abs(i)>.01&&a-- >0;)!function(){return s&&(i*=-1),i<0?(u=t,t+=.5*(l-t)):(l=t,t+=.5*(u-t)),r=b(t,!0).lab()[0],i=r-o}();return t}:function(t){return t},y},y.padding=function(t){return null!=t?("number"===wt(t)&&(t=[t,t]),p=t,y):p},y.colors=function(){var e,r,i,o,s,u,l,c,f;if(o=0,s="hex",1===arguments.length&&("string"===wt(arguments[0])?s=arguments[0]:o=arguments[0]),2===arguments.length&&(o=arguments[0],s=arguments[1]),o)return r=a[0],e=a[1]-r,function(){l=[];for(var t=0;0<=o?t<o:t>o;0<=o?t++:t--)l.push(t);return l}.apply(this).map(function(t){return y(r+t/(o-1)*e)[s]()});if(t=[],c=[],n&&n.length>2)for(i=f=1,u=n.length;1<=u?f<u:f>u;i=1<=u?++f:--f)c.push(.5*(n[i-1]+n[i]));else c=a;return c.map(function(t){return y(t)[s]()})},y},null==_.scales&&(_.scales={}),_.scales.cool=function(){return _.scale([_.hsl(180,1,.9),_.hsl(250,.7,.4)])},_.scales.hot=function(){return _.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},_.analyze=function(t,e,n){var r,i,o,a,s,u,l;if(s={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(t){null==t||isNaN(t)||(s.values.push(t),s.sum+=t,t<s.min&&(s.min=t),t>s.max&&(s.max=t),s.count+=1)},l=function(t,i){if(n(t,i))return r(null!=e&&"function"===wt(e)?e(t):null!=e&&"string"===wt(e)||"number"===wt(e)?t[e]:t)},"array"===wt(t))for(a=0,o=t.length;a<o;a++)u=t[a],l(u);else for(i in t)u=t[i],l(u,i);return s.domain=[s.min,s.max],s.limits=function(t,e){return _.limits(s,t,e)},s},_.limits=function(t,e,n){var r,i,o,a,s,u,l,c,f,h,d,m,v,y,g,b,x,w,M,E,S,T,C,P,A,I,O,R,D,N,j,L,z,F,U,B,V,q,H,W,Y,X,Z,Q,$,J,tt,nt,rt,it,ot,at,st,ut,lt;if(null==e&&(e="equal"),null==n&&(n=7),"array"===wt(t)&&(t=_.analyze(t)),A=t.min,K=t.max,ot=t.sum,ut=t.values.sort(function(t,e){return t-e}),C=[],"c"===e.substr(0,1)&&(C.push(A),C.push(K)),"e"===e.substr(0,1)){for(C.push(A),E=j=1,U=n-1;1<=U?j<=U:j>=U;E=1<=U?++j:--j)C.push(A+E/n*(K-A));C.push(K)}else if("l"===e.substr(0,1)){if(A<=0)throw"Logarithmic scales are only possible for values > 0";for(I=Math.LOG10E*G(A),P=Math.LOG10E*G(K),C.push(A),E=lt=1,B=n-1;1<=B?lt<=B:lt>=B;E=1<=B?++lt:--lt)C.push(et(10,I+E/n*(P-I)));C.push(K)}else if("q"===e.substr(0,1)){for(C.push(A),E=r=1,X=n-1;1<=X?r<=X:r>=X;E=1<=X?++r:--r)L=ut.length*E/n,z=k(L),z===L?C.push(ut[z]):(F=L-z,C.push(ut[z]*F+ut[z+1]*(1-F)));C.push(K)}else if("k"===e.substr(0,1)){for(R=ut.length,y=new Array(R),w=new Array(n),it=!0,D=0,b=null,b=[],b.push(A),E=i=1,Z=n-1;1<=Z?i<=Z:i>=Z;E=1<=Z?++i:--i)b.push(A+E/n*(K-A));for(b.push(K);it;){for(S=o=0,Q=n-1;0<=Q?o<=Q:o>=Q;S=0<=Q?++o:--o)w[S]=0;for(E=a=0,$=R-1;0<=$?a<=$:a>=$;E=0<=$?++a:--a){for(st=ut[E],O=Number.MAX_VALUE,S=s=0,J=n-1;0<=J?s<=J:s>=J;S=0<=J?++s:--s)M=p(b[S]-st),M<O&&(O=M,g=S);w[g]++,y[E]=g}for(N=new Array(n),S=u=0,tt=n-1;0<=tt?u<=tt:u>=tt;S=0<=tt?++u:--u)N[S]=null;for(E=l=0,nt=R-1;0<=nt?l<=nt:l>=nt;E=0<=nt?++l:--l)x=y[E],null===N[x]?N[x]=ut[E]:N[x]+=ut[E];for(S=c=0,rt=n-1;0<=rt?c<=rt:c>=rt;S=0<=rt?++c:--c)N[S]*=1/w[S];for(it=!1,S=f=0,V=n-1;0<=V?f<=V:f>=V;S=0<=V?++f:--f)if(N[S]!==b[E]){it=!0;break}b=N,D++,D>200&&(it=!1)}for(T={},S=h=0,q=n-1;0<=q?h<=q:h>=q;S=0<=q?++h:--h)T[S]=[];for(E=d=0,H=R-1;0<=H?d<=H:d>=H;E=0<=H?++d:--d)x=y[E],T[x].push(ut[E]);for(at=[],S=m=0,W=n-1;0<=W?m<=W:m>=W;S=0<=W?++m:--m)at.push(T[S][0]),at.push(T[S][T[S].length-1]);for(at=at.sort(function(t,e){return t-e}),C.push(at[0]),E=v=1,Y=at.length-1;v<=Y;E=v+=2)isNaN(at[E])||C.push(at[E])}return C},I=function(t,e,n){var r,i,o,s;return r=Mt(arguments),t=r[0],e=r[1],n=r[2],t/=360,t<1/3?(i=(1-e)/3,s=(1+e*E(u*t)/E(a-u*t))/3,o=1-(i+s)):t<2/3?(t-=1/3,s=(1-e)/3,o=(1+e*E(u*t)/E(a-u*t))/3,i=1-(s+o)):(t-=2/3,o=(1-e)/3,i=(1+e*E(u*t)/E(a-u*t))/3,s=1-(o+i)),s=Y(n*s*3),o=Y(n*o*3),i=Y(n*i*3),[255*s,255*o,255*i,r.length>3?r[3]:1]},ot=function(){var t,e,n,r,i,o,a,s;return a=Mt(arguments),o=a[0],e=a[1],t=a[2],u=2*Math.PI,o/=255,e/=255,t/=255,i=Math.min(o,e,t),r=(o+e+t)/3,s=1-i/r,0===s?n=0:(n=(o-e+(o-t))/2,n/=Math.sqrt((o-e)*(o-e)+(o-t)*(e-t)),n=Math.acos(n),t>e&&(n=u-n),n/=u),[360*n,s,r]},_.hsi=function(){return function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(t,Ct.call(arguments).concat(["hsi"]),function(){})},f.hsi=I,t.prototype.hsi=function(){return ot(this._rgb)},j=function(t,e,n,r){var i,o,a,s,u,l,c,f,h,p,d,m,v;return"hsl"===r?(m=t.hsl(),v=e.hsl()):"hsv"===r?(m=t.hsv(),v=e.hsv()):"hsi"===r?(m=t.hsi(),v=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",m=t.hcl(),v=e.hcl()),"h"===r.substr(0,1)&&(a=m[0],p=m[1],l=m[2],s=v[0],d=v[1],c=v[2]),isNaN(a)||isNaN(s)?isNaN(a)?isNaN(s)?o=Number.NaN:(o=s,1!==l&&0!==l||"hsv"===r||(h=d)):(o=a,1!==c&&0!==c||"hsv"===r||(h=p)):(i=s>a&&s-a>180?s-(a+360):s<a&&a-s>180?s+360-a:s-a,
o=a+n*i),null==h&&(h=p+n*(d-p)),u=l+n*(c-l),f=_[r](o,h,u)},h=h.concat(function(){var t,e,n,r;for(n=["hsv","hsl","hsi","hcl","lch"],r=[],e=0,t=n.length;e<t;e++)Z=n[e],r.push([Z,j]);return r}()),z=function(t,e,n,r){var i,o;return i=t.num(),o=e.num(),_.num(i+(o-i)*n,"num")},h.push(["num",z]),L=function(e,n,r,i){var o,a,s;return a=e.lab(),s=n.lab(),o=new t(a[0]+r*(s[0]-a[0]),a[1]+r*(s[1]-a[1]),a[2]+r*(s[2]-a[2]),i)},h.push(["lab",L])}).call(this)},{}],classnames:[function(t,e,n){!function(){"use strict";function t(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(t.apply(null,i));else if("object"===o)for(var a in i)n.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}var n={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=t:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return t}):window.classNames=t}()},{}],"d3-scale":[function(t,e,n){!function(r,i){"object"==typeof n&&"undefined"!=typeof e?i(n,t("d3-array"),t("d3-collection"),t("d3-interpolate"),t("d3-format"),t("d3-time"),t("d3-time-format"),t("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],i):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,e,n,r,i,o,a,s){"use strict";function u(t){function e(e){var n=e+"",a=r.get(n);if(!a){if(o!==Q)return o;r.set(n,a=i.push(e))}return t[(a-1)%t.length]}var r=n.map(),i=[],o=Q;return t=null==t?[]:K.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],r=n.map();for(var o,a,s=-1,u=t.length;++s<u;)r.has(a=(o=t[s])+"")||r.set(a,i.push(o));return e},e.range=function(n){return arguments.length?(t=K.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(o=t,e):o},e.copy=function(){return u().domain(i).range(t).unknown(o)},e}function l(){function t(){var t=o().length,i=s[1]<s[0],u=s[i-0],l=s[1-i];n=(l-u)/Math.max(1,t-f+2*h),c&&(n=Math.floor(n)),u+=(l-u-n*(t-f))*p,r=n*(1-f),c&&(u=Math.round(u),r=Math.round(r));var d=e.range(t).map(function(t){return u+n*t});return a(i?d.reverse():d)}var n,r,i=u().unknown(void 0),o=i.domain,a=i.range,s=[0,1],c=!1,f=0,h=0,p=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(o(e),t()):o()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],c=!0,t()},i.bandwidth=function(){return r},i.step=function(){return n},i.round=function(e){return arguments.length?(c=!!e,t()):c},i.padding=function(e){return arguments.length?(f=h=Math.max(0,Math.min(1,e)),t()):f},i.paddingInner=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},i.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},i.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),t()):p},i.copy=function(){return l().domain(o()).range(s).round(c).paddingInner(f).paddingOuter(h).align(p)},t()}function c(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return c(e())},t}function f(){return c(l().paddingInner(1))}function h(t){return function(){return t}}function p(t){return+t}function d(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:h(e)}function m(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function v(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function y(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function g(t,n,r,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),s=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<o;)a[u]=r(t[u],t[u+1]),s[u]=i(n[u],n[u+1]);return function(n){var r=e.bisect(t,n,1,o)-1;return s[r](a[r](n))}}function b(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function _(t,e){function n(){return o=Math.min(u.length,l.length)>2?g:y,a=s=null,i}function i(e){return(a||(a=o(u,l,f?m(t):t,c)))(+e)}var o,a,s,u=$,l=$,c=r.interpolate,f=!1;return i.invert=function(t){return(s||(s=o(l,u,d,f?v(e):e)))(+t)},i.domain=function(t){return arguments.length?(u=Z.call(t,p),n()):u.slice()},i.range=function(t){return arguments.length?(l=K.call(t),n()):l.slice()},i.rangeRound=function(t){return l=K.call(t),c=r.interpolateRound,n()},i.clamp=function(t){return arguments.length?(f=!!t,n()):f},i.interpolate=function(t){return arguments.length?(c=t,n()):c},n()}function x(t,n,r){var o,a=t[0],s=t[t.length-1],u=e.tickStep(a,s,null==n?10:n);switch(r=i.formatSpecifier(null==r?",f":r),r.type){case"s":var l=Math.max(Math.abs(a),Math.abs(s));return null!=r.precision||isNaN(o=i.precisionPrefix(u,l))||(r.precision=o),i.formatPrefix(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=i.precisionRound(u,Math.max(Math.abs(a),Math.abs(s))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=i.precisionFixed(u))||(r.precision=o-2*("%"===r.type))}return i.format(r)}function w(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.ticks(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,e){return x(n(),t,e)},t.nice=function(r){var i=n(),o=i.length-1,a=null==r?10:r,s=i[0],u=i[o],l=e.tickStep(s,u,a);return l&&(l=e.tickStep(Math.floor(s/l)*l,Math.ceil(u/l)*l,a),i[0]=Math.floor(s/l)*l,i[o]=Math.ceil(u/l)*l,n(i)),t},t}function M(){var t=_(d,r.interpolateNumber);return t.copy=function(){return b(t,M())},w(t)}function E(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Z.call(n,p),t):e.slice()},t.copy=function(){return E().domain(e)},w(t)}function S(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function T(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:h(e)}function C(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function P(t){return isFinite(t)?+("1e"+t):t<0?0:t}function k(t){return 10===t?P:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function A(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function I(t){return function(e){return-t(-e)}}function O(){function t(){return a=A(o),s=k(o),r()[0]<0&&(a=I(a),s=I(s)),n}var n=_(T,C).domain([1,10]),r=n.domain,o=10,a=A(10),s=k(10);return n.base=function(e){return arguments.length?(o=+e,t()):o},n.domain=function(e){return arguments.length?(r(e),t()):r()},n.ticks=function(t){var n,i=r(),u=i[0],l=i[i.length-1];(n=l<u)&&(p=u,u=l,l=p);var c,f,h,p=a(u),d=a(l),m=null==t?10:+t,v=[];if(!(o%1)&&d-p<m){if(p=Math.round(p)-1,d=Math.round(d)+1,u>0){for(;p<d;++p)for(f=1,c=s(p);f<o;++f)if(h=c*f,!(h<u)){if(h>l)break;v.push(h)}}else for(;p<d;++p)for(f=o-1,c=s(p);f>=1;--f)if(h=c*f,!(h<u)){if(h>l)break;v.push(h)}}else v=e.ticks(p,d,Math.min(d-p,m)).map(s);return n?v.reverse():v},n.tickFormat=function(t,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=i.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,o*t/n.ticks().length);return function(t){var n=t/s(Math.round(a(t)));return n*o<o-.5&&(n*=o),n<=r?e(t):""}},n.nice=function(){return r(S(r(),{floor:function(t){return s(Math.floor(a(t)))},ceil:function(t){return s(Math.ceil(a(t)))}}))},n.copy=function(){return b(n,O().base(o))},n}function R(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function D(){function t(t,e){return(e=R(e,n)-(t=R(t,n)))?function(r){return(R(r,n)-t)/e}:h(e)}function e(t,e){return e=R(e,n)-(t=R(t,n)),function(r){return R(t+e*r,1/n)}}var n=1,r=_(t,e),i=r.domain;return r.exponent=function(t){return arguments.length?(n=+t,i(i())):n},r.copy=function(){return b(r,D().exponent(n))},w(r)}function N(){return D().exponent(.5)}function j(){function t(){var t=0,a=Math.max(1,i.length);for(o=new Array(a-1);++t<a;)o[t-1]=e.quantile(r,t/a);return n}function n(t){if(!isNaN(t=+t))return i[e.bisect(o,t)]}var r=[],i=[],o=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?o[e-1]:r[0],e<o.length?o[e]:r[r.length-1]]},n.domain=function(n){if(!arguments.length)return r.slice();r=[];for(var i,o=0,a=n.length;o<a;++o)i=n[o],null==i||isNaN(i=+i)||r.push(i);return r.sort(e.ascending),t()},n.range=function(e){return arguments.length?(i=K.call(e),t()):i.slice()},n.quantiles=function(){return o.slice()},n.copy=function(){return j().domain(r).range(i)},n}function L(){function t(t){if(t<=t)return s[e.bisect(a,t,0,o)]}function n(){var e=-1;for(a=new Array(o);++e<o;)a[e]=((e+1)*i-(e-o)*r)/(o+1);return t}var r=0,i=1,o=1,a=[.5],s=[0,1];return t.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],n()):[r,i]},t.range=function(t){return arguments.length?(o=(s=K.call(t)).length-1,n()):s.slice()},t.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[r,a[0]]:e>=o?[a[o-1],i]:[a[e-1],a[e]]},t.copy=function(){return L().domain([r,i]).range(s)},w(t)}function z(){function t(t){if(t<=t)return r[e.bisect(n,t,0,i)]}var n=[.5],r=[0,1],i=1;return t.domain=function(e){return arguments.length?(n=K.call(e),i=Math.min(n.length,r.length-1),t):n.slice()},t.range=function(e){return arguments.length?(r=K.call(e),i=Math.min(n.length,r.length-1),t):r.slice()},t.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},t.copy=function(){return z().domain(n).range(r)},t}function F(t){return new Date(t)}function U(t){return t instanceof Date?+t:+new Date((+t))}function B(t,n,i,o,a,s,u,l,c){function f(e){return(u(e)<e?y:s(e)<e?g:a(e)<e?x:o(e)<e?w:n(e)<e?i(e)<e?M:E:t(e)<e?T:C)(e)}function h(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,s=e.bisector(function(t){return t[2]}).right(P,a);s===P.length?(o=e.tickStep(r/ot,i/ot,n),n=t):s?(s=P[a/P[s-1][2]<P[s][2]/a?s-1:s],o=s[1],n=s[0]):(o=e.tickStep(r,i,n),n=l)}return null==o?n:n.every(o)}var p=_(d,r.interpolateNumber),m=p.invert,v=p.domain,y=c(".%L"),g=c(":%S"),x=c("%I:%M"),w=c("%I %p"),M=c("%a %d"),E=c("%b %d"),T=c("%B"),C=c("%Y"),P=[[u,1,J],[u,5,5*J],[u,15,15*J],[u,30,30*J],[s,1,tt],[s,5,5*tt],[s,15,15*tt],[s,30,30*tt],[a,1,et],[a,3,3*et],[a,6,6*et],[a,12,12*et],[o,1,nt],[o,2,2*nt],[i,1,rt],[n,1,it],[n,3,3*it],[t,1,ot]];return p.invert=function(t){return new Date(m(t))},p.domain=function(t){return arguments.length?v(Z.call(t,U)):v().map(F)},p.ticks=function(t,e){var n,r=v(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=h(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},p.tickFormat=function(t,e){return null==e?f:c(e)},p.nice=function(t,e){var n=v();return(t=h(t,n[0],n[n.length-1],e))?v(S(n,t)):p},p.copy=function(){return b(p,B(t,n,i,o,a,s,u,l,c))},p}function V(){return B(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function q(){return B(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function H(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function W(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return pt.h=360*t-100,pt.s=1.5-1.5*e,pt.l=.8-.9*e,pt+""}function Y(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function G(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return G(t).domain([n,r]).clamp(i)},w(e)}var X=Array.prototype,Z=X.map,K=X.slice,Q={name:"implicit"},$=[0,1],J=1e3,tt=60*J,et=60*tt,nt=24*et,rt=7*nt,it=30*nt,ot=365*nt,at=H("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),st=H("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ut=H("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),lt=H("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ct=r.interpolateCubehelixLong(s.cubehelix(300,.5,0),s.cubehelix(-240,.5,1)),ft=r.interpolateCubehelixLong(s.cubehelix(-100,.75,.35),s.cubehelix(80,1.5,.8)),ht=r.interpolateCubehelixLong(s.cubehelix(260,.75,.35),s.cubehelix(80,1.5,.8)),pt=s.cubehelix(),dt=Y(H("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),mt=Y(H("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),vt=Y(H("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),yt=Y(H("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.scaleBand=l,t.scalePoint=f,t.scaleIdentity=E,t.scaleLinear=M,t.scaleLog=O,t.scaleOrdinal=u,t.scaleImplicit=Q,t.scalePow=D,t.scaleSqrt=N,t.scaleQuantile=j,t.scaleQuantize=L,t.scaleThreshold=z,t.scaleTime=V,t.scaleUtc=q,t.schemeCategory10=at,t.schemeCategory20b=st,t.schemeCategory20c=ut,t.schemeCategory20=lt,t.interpolateCubehelixDefault=ct,t.interpolateRainbow=W,t.interpolateWarm=ft,t.interpolateCool=ht,t.interpolateViridis=dt,t.interpolateMagma=mt,t.interpolateInferno=vt,t.interpolatePlasma=yt,t.scaleSequential=G,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-array":13,"d3-collection":14,"d3-color":15,"d3-format":16,"d3-interpolate":17,"d3-time":19,"d3-time-format":18}],d3:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return function(e,n){return Ml(t(e),n)}}function n(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Fl?i*=10:o>=Ul?i*=5:o>=Bl&&(i*=2),e<t?-i:i}function r(t){return t.length}function i(){}function o(t,e){var n=new i;if(t instanceof i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(r=t[o],o,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}function a(){return{}}function s(t,e,n){t[e]=n}function u(){return o()}function l(t,e,n){t.set(e,n)}function c(){}function f(t,e){var n=new c;if(t instanceof c)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function h(t){return+t}function p(t){return t*t}function d(t){return t*(2-t)}function m(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function v(t){return t*t*t}function y(t){return--t*t*t+1}function g(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function b(t){return 1-Math.cos(t*Mc)}function _(t){return Math.sin(t*Mc)}function x(t){return(1-Math.cos(wc*t))/2}function w(t){return Math.pow(2,10*t-10)}function M(t){return 1-Math.pow(2,-10*t)}function E(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function S(t){return 1-Math.sqrt(1-t*t)}function T(t){return Math.sqrt(1- --t*t)}function C(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function P(t){return 1-k(1-t)}function k(t){return(t=+t)<Ec?Rc*t*t:t<Tc?Rc*(t-=Sc)*t+Cc:t<kc?Rc*(t-=Pc)*t+Ac:Rc*(t-=Ic)*t+Oc}function A(t){return((t*=2)<=1?1-k(1-t):k(t-1)+1)/2}function I(t,e){return t[0]-e[0]||t[1]-e[1]}function O(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&Yc(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function R(){this._x0=this._y0=this._x1=this._y1=null,this._=[]}function D(){return new R}function N(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,f,h,p=t._root,d={data:r},m=t._x0,v=t._y0,y=t._x1,g=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(m+y)/2))?m=o:y=o,(c=n>=(a=(v+g)/2))?v=a:g=a,i=p,!(p=p[f=c<<1|l]))return i[f]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,i?i[f]=d:t._root=d,t;do i=i?i[f]=new Array(4):t._root=new Array(4),(l=e>=(o=(m+y)/2))?m=o:y=o,(c=n>=(a=(v+g)/2))?v=a:g=a;while((f=c<<1|l)===(h=(u>=a)<<1|s>=o));return i[h]=p,i[f]=d,t}function j(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-(1/0),f=-(1/0);for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));for(c<u&&(u=this._x0,c=this._x1),f<l&&(l=this._y0,f=this._y1),this.cover(u,l).cover(c,f),n=0;n<o;++n)N(this,a[n],s[n],t[n]);return this}function L(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function z(t){return t[0]}function F(t){return t[1]}function U(t,e,n){var r=new B(null==e?z:e,null==n?F:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function B(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function V(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function q(t){if(!(t>=1))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function H(t){if(!t._start)try{W(t)}catch(e){if(t._tasks[t._ended+t._active-1])G(t,e);else if(!t._data)throw e}}function W(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=Y(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||vf)}}function Y(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?G(t,n):(t._data[e]=r,t._waiting?H(t):X(t))))}}function G(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,X(t)}function X(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function Z(t){return new q(arguments.length?+t:1/0)}function K(t){return t.innerRadius}function Q(t){return t.outerRadius}function $(t){return t.startAngle}function J(t){return t.endAngle}function tt(t){return t&&t.padAngle}function et(t){return t>=1?_f:t<=-1?-_f:Math.asin(t)}function nt(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=a-i,f=s-o,h=(c*(e-o)-f*(t-i))/(f*u-c*l);return[t+h*u,e+h*l]}function rt(t,e,n,r,i,o,a){var s=t-n,u=e-r,l=(a?o:-o)/Math.sqrt(s*s+u*u),c=l*u,f=-l*s,h=t+c,p=e+f,d=n+c,m=r+f,v=(h+d)/2,y=(p+m)/2,g=d-h,b=m-p,_=g*g+b*b,x=i-o,w=h*m-d*p,M=(b<0?-1:1)*Math.sqrt(Math.max(0,x*x*_-w*w)),E=(w*b-g*M)/_,S=(-w*g-b*M)/_,T=(w*b+g*M)/_,C=(-w*g+b*M)/_,P=E-v,k=S-y,A=T-v,I=C-y;return P*P+k*k>A*A+I*I&&(E=T,S=C),{cx:E,cy:S,x01:-c,y01:-f,x11:E*(i/x-1),y11:S*(i/x-1)}}function it(t){this._context=t}function ot(t){return t[0]}function at(t){return t[1]}function st(t){this._curve=t}function ut(t){function e(e){return new st(t(e))}return e._curve=t,e}function lt(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(ut(t)):e()._curve},t}function ct(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ft(t){this._context=t}function ht(t){this._context=t}function pt(t){this._context=t}function dt(t,e){this._basis=new ft(t),this._beta=e}function mt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function vt(t,e){this._context=t,this._k=(1-e)/6}function yt(t,e){this._context=t,this._k=(1-e)/6}function gt(t,e){this._context=t,this._k=(1-e)/6}function bt(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>gf){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>gf){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function _t(t,e){this._context=t,this._alpha=e}function xt(t,e){this._context=t,this._alpha=e}function wt(t,e){this._context=t,this._alpha=e}function Mt(t){this._context=t}function Et(t){return t<0?-1:1}function St(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Et(o)+Et(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Tt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ct(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Pt(t){this._context=t}function kt(t){this._context=new At(t)}function At(t){this._context=t}function It(t){return new Pt(t)}function Ot(t){return new kt(t)}function Rt(t){this._context=t}function Dt(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Nt(t,e){this._context=t,this._t=e}function jt(t){return new Nt(t,0)}function Lt(t){return new Nt(t,1)}function zt(t,e){return t[e]}function Ft(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function Ut(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Bt(){}function Vt(t){var e;return t=(t+"").trim().toLowerCase(),(e=Th.exec(t))?(e=parseInt(e[1],16),new Gt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Ch.exec(t))?qt(parseInt(e[1],16)):(e=Ph.exec(t))?new Gt(e[1],e[2],e[3],1):(e=kh.exec(t))?new Gt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ah.exec(t))?Ht(e[1],e[2],e[3],e[4]):(e=Ih.exec(t))?Ht(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Oh.exec(t))?Xt(e[1],e[2]/100,e[3]/100,1):(e=Rh.exec(t))?Xt(e[1],e[2]/100,e[3]/100,e[4]):Dh.hasOwnProperty(t)?qt(Dh[t]):"transparent"===t?new Gt(NaN,NaN,NaN,0):null}function qt(t){return new Gt(t>>16&255,t>>8&255,255&t,1)}function Ht(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gt(t,e,n,r)}function Wt(t){return t instanceof Bt||(t=Vt(t)),t?(t=t.rgb(),new Gt(t.r,t.g,t.b,t.opacity)):new Gt}function Yt(t,e,n,r){return 1===arguments.length?Wt(t):new Gt(t,e,n,null==r?1:r)}function Gt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Xt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qt(t,e,n,r)}function Zt(t){if(t instanceof Qt)return new Qt(t.h,t.s,t.l,t.opacity);if(t instanceof Bt||(t=Vt(t)),!t)return new Qt;if(t instanceof Qt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Qt(a,s,u,t.opacity)}function Kt(t,e,n,r){return 1===arguments.length?Zt(t):new Qt(t,e,n,null==r?1:r)}function Qt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function $t(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Jt(t){if(t instanceof ee)return new ee(t.l,t.a,t.b,t.opacity);if(t instanceof ue){var e=t.h*Nh;return new ee(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Gt||(t=Wt(t));var n=oe(t.r),r=oe(t.g),i=oe(t.b),o=ne((.4124564*n+.3575761*r+.1804375*i)/zh),a=ne((.2126729*n+.7151522*r+.072175*i)/Fh),s=ne((.0193339*n+.119192*r+.9503041*i)/Uh);return new ee(116*a-16,500*(o-a),200*(a-s),t.opacity)}function te(t,e,n,r){return 1===arguments.length?Jt(t):new ee(t,e,n,null==r?1:r)}function ee(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ne(t){return t>Hh?Math.pow(t,1/3):t/qh+Bh}function re(t){return t>Vh?t*t*t:qh*(t-Bh)}function ie(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function oe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ae(t){if(t instanceof ue)return new ue(t.h,t.c,t.l,t.opacity);t instanceof ee||(t=Jt(t));var e=Math.atan2(t.b,t.a)*jh;return new ue(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function se(t,e,n,r){return 1===arguments.length?ae(t):new ue(t,e,n,null==r?1:r)}function ue(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function le(t){if(t instanceof fe)return new fe(t.h,t.s,t.l,t.opacity);t instanceof Gt||(t=Wt(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=($h*r+Kh*e-Qh*n)/($h+Kh-Qh),o=r-i,a=(Zh*(n-i)-Gh*o)/Xh,s=Math.sqrt(a*a+o*o)/(Zh*i*(1-i)),u=s?Math.atan2(a,o)*jh-120:NaN;return new fe(u<0?u+360:u,s,i,t.opacity)}function ce(t,e,n,r){return 1===arguments.length?le(t):new fe(t,e,n,null==r?1:r)}function fe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function he(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function pe(t,e){return function(n){return t+n*e}}function de(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function me(t,e){var n=e-t;return n?pe(t,n>180||n<-180?n-360*Math.round(n/360):n):op(isNaN(t)?e:t)}function ve(t){return 1===(t=+t)?ye:function(e,n){return n-e?de(e,n,t):op(isNaN(e)?n:e)}}function ye(t,e){var n=e-t;return n?pe(t,n):op(isNaN(t)?e:t)}function ge(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Yt(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function be(t){return function(){return t}}function _e(t){return function(e){return t(e)+""}}function xe(t){return"none"===t?bp:(Jh||(Jh=document.createElement("DIV"),tp=document.documentElement,ep=document.defaultView),Jh.style.transform=t,t=ep.getComputedStyle(tp.appendChild(Jh),null).getPropertyValue("transform"),tp.removeChild(Jh),t=t.slice(7,-1).split(","),_p(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]));
}function we(t){return null==t?bp:(np||(np=document.createElementNS("http://www.w3.org/2000/svg","g")),np.setAttribute("transform",t),(t=np.transform.baseVal.consolidate())?(t=t.matrix,_p(t.a,t.b,t.c,t.d,t.e,t.f)):bp)}function Me(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:fp(t,i)},{i:u-2,x:fp(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:fp(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:fp(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:fp(t,n)},{i:s-2,x:fp(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function Ee(t){return((t=Math.exp(t))+1/t)/2}function Se(t){return((t=Math.exp(t))-1/t)/2}function Te(t){return((t=Math.exp(2*t))-1)/(t+1)}function Ce(t){return function(e,n){var r=t((e=Kt(e)).h,(n=Kt(n)).h),i=ye(e.s,n.s),o=ye(e.l,n.l),a=ye(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function Pe(t,e){var n=ye((t=te(t)).l,(e=te(e)).l),r=ye(t.a,e.a),i=ye(t.b,e.b),o=ye(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function ke(t){return function(e,n){var r=t((e=se(e)).h,(n=se(n)).h),i=ye(e.c,n.c),o=ye(e.l,n.l),a=ye(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function Ae(t){return function e(n){function r(e,r){var i=t((e=ce(e)).h,(r=ce(r)).h),o=ye(e.s,r.s),a=ye(e.l,r.l),s=ye(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}function Ie(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Oe(r)}function Oe(t){this._=t}function Re(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function De(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Ne(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Np,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function je(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Le(t,e){var n=je(t);return function(r,i){return e(n(r),i,t)}}function ze(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function Fe(t){return function(e,n){t(null==e?n:null)}}function Ue(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Be(t,e){return function(n){return t(n.responseText,e)}}function Ve(){return ld||(hd(qe),ld=fd.now()+cd)}function qe(){ld=0}function He(){this._call=this._time=this._next=null}function We(t,e,n){var r=new He;return r.restart(t,e,n),r}function Ye(){Ve(),++id;for(var t,e=jp;e;)(t=ld-e._time)>=0&&e._call.call(null,t),e=e._next;--id}function Ge(){ld=(ud=fd.now())+cd,id=od=0;try{Ye()}finally{id=0,Ze(),ld=0}}function Xe(){var t=fd.now(),e=t-ud;e>sd&&(cd-=e,ud=t)}function Ze(){for(var t,e,n=jp,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:jp=e);Lp=t,Ke(r)}function Ke(t){if(!id){od&&(od=clearTimeout(od));var e=t-ld;e>24?(t<1/0&&(od=setTimeout(Ge,e)),ad&&(ad=clearInterval(ad))):(ad||(ad=setInterval(Xe,sd)),id=1,hd(Ge))}}function Qe(t,e,n,r){function i(e){return t(e=new Date((+e))),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date((+t)),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;do a.push(new Date((+n)));while(e(n,o),t(n),n<r);return a},i.filter=function(n){return Qe(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return md.setTime(+e),vd.setTime(+r),t(md),t(vd),Math.floor(n(md,vd))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}function $e(t){return Qe(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_d)/Md})}function Je(t){return Qe(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Md})}function tn(t){if(!(e=Pm.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):Cm[c]||(c=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function en(t){return t}function nn(e){return Am=Om(e),t.format=Am.format,t.formatPrefix=Am.formatPrefix,Am}function rn(t){if(0<=t.y&&t.y<100){var e=new Date((-1),t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function on(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function an(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function sn(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date((+n)));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Lm[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var i=an(1900),o=r(i,t,n+="",0);if(o!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var a="Z"in i?on(an(i.y)).getUTCDay():e(an(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,on(i)):e(i)}}function r(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=V[i in Lm?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function i(t,e,n){var r=A.exec(e.slice(n));return r?(t.p=I[r[0].toLowerCase()],n+r[0].length):-1}function o(t,e,n){var r=D.exec(e.slice(n));return r?(t.w=N[r[0].toLowerCase()],n+r[0].length):-1}function a(t,e,n){var r=O.exec(e.slice(n));return r?(t.w=R[r[0].toLowerCase()],n+r[0].length):-1}function s(t,e,n){var r=z.exec(e.slice(n));return r?(t.m=F[r[0].toLowerCase()],n+r[0].length):-1}function u(t,e,n){var r=j.exec(e.slice(n));return r?(t.m=L[r[0].toLowerCase()],n+r[0].length):-1}function l(t,e,n){return r(t,w,e,n)}function c(t,e,n){return r(t,M,e,n)}function f(t,e,n){return r(t,E,e,n)}function h(t){return C[t.getDay()]}function p(t){return T[t.getDay()]}function d(t){return k[t.getMonth()]}function m(t){return P[t.getMonth()]}function v(t){return S[+(t.getHours()>=12)]}function y(t){return C[t.getUTCDay()]}function g(t){return T[t.getUTCDay()]}function b(t){return k[t.getUTCMonth()]}function _(t){return P[t.getUTCMonth()]}function x(t){return S[+(t.getUTCHours()>=12)]}var w=t.dateTime,M=t.date,E=t.time,S=t.periods,T=t.days,C=t.shortDays,P=t.months,k=t.shortMonths,A=cn(S),I=fn(S),O=cn(T),R=fn(T),D=cn(C),N=fn(C),j=cn(P),L=fn(P),z=cn(k),F=fn(k),U={a:h,A:p,b:d,B:m,c:null,d:Tn,e:Tn,H:Cn,I:Pn,j:kn,L:An,m:In,M:On,p:v,S:Rn,U:Dn,w:Nn,W:jn,x:null,X:null,y:Ln,Y:zn,Z:Fn,"%":tr},B={a:y,A:g,b:b,B:_,c:null,d:Un,e:Un,H:Bn,I:Vn,j:qn,L:Hn,m:Wn,M:Yn,p:x,S:Gn,U:Xn,w:Zn,W:Kn,x:null,X:null,y:Qn,Y:$n,Z:Jn,"%":tr},V={a:o,A:a,b:s,B:u,c:l,d:bn,e:bn,H:xn,I:xn,j:_n,L:En,m:gn,M:wn,p:i,S:Mn,U:pn,w:hn,W:dn,x:c,X:f,y:vn,Y:mn,Z:yn,"%":Sn};return U.x=e(M,U),U.X=e(E,U),U.c=e(w,U),B.x=e(M,B),B.X=e(E,B),B.c=e(w,B),{format:function(t){var n=e(t+="",U);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",rn);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",B);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,on);return e.toString=function(){return t},e}}}function un(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ln(t){return t.replace(Um,"\\$&")}function cn(t){return new RegExp("^(?:"+t.map(ln).join("|")+")","i")}function fn(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function hn(t,e,n){var r=zm.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pn(t,e,n){var r=zm.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function dn(t,e,n){var r=zm.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function mn(t,e,n){var r=zm.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function vn(t,e,n){var r=zm.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yn(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gn(t,e,n){var r=zm.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bn(t,e,n){var r=zm.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _n(t,e,n){var r=zm.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xn(t,e,n){var r=zm.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wn(t,e,n){var r=zm.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Mn(t,e,n){var r=zm.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function En(t,e,n){var r=zm.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Sn(t,e,n){var r=Fm.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Tn(t,e){return un(t.getDate(),e,2)}function Cn(t,e){return un(t.getHours(),e,2)}function Pn(t,e){return un(t.getHours()%12||12,e,2)}function kn(t,e){return un(1+Ad.count(Xd(t),t),e,3)}function An(t,e){return un(t.getMilliseconds(),e,3)}function In(t,e){return un(t.getMonth()+1,e,2)}function On(t,e){return un(t.getMinutes(),e,2)}function Rn(t,e){return un(t.getSeconds(),e,2)}function Dn(t,e){return un(Od.count(Xd(t),t),e,2)}function Nn(t){return t.getDay()}function jn(t,e){return un(Rd.count(Xd(t),t),e,2)}function Ln(t,e){return un(t.getFullYear()%100,e,2)}function zn(t,e){return un(t.getFullYear()%1e4,e,4)}function Fn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+un(e/60|0,"0",2)+un(e%60,"0",2)}function Un(t,e){return un(t.getUTCDate(),e,2)}function Bn(t,e){return un(t.getUTCHours(),e,2)}function Vn(t,e){return un(t.getUTCHours()%12||12,e,2)}function qn(t,e){return un(1+tm.count(gm(t),t),e,3)}function Hn(t,e){return un(t.getUTCMilliseconds(),e,3)}function Wn(t,e){return un(t.getUTCMonth()+1,e,2)}function Yn(t,e){return un(t.getUTCMinutes(),e,2)}function Gn(t,e){return un(t.getUTCSeconds(),e,2)}function Xn(t,e){return un(nm.count(gm(t),t),e,2)}function Zn(t){return t.getUTCDay()}function Kn(t,e){return un(rm.count(gm(t),t),e,2)}function Qn(t,e){return un(t.getUTCFullYear()%100,e,2)}function $n(t,e){return un(t.getUTCFullYear()%1e4,e,4)}function Jn(){return"+0000"}function tr(){return"%"}function er(e){return Rm=sn(e),t.timeFormat=Rm.format,t.timeParse=Rm.parse,t.utcFormat=Rm.utcFormat,t.utcParse=Rm.utcParse,Rm}function nr(t){return t.toISOString()}function rr(t){var e=new Date(t);return isNaN(e)?null:e}function ir(t){function e(e){var o=e+"",a=n.get(o);if(!a){if(i!==Gm)return i;n.set(o,a=r.push(e))}return t[(a-1)%t.length]}var n=o(),r=[],i=Gm;return t=null==t?[]:Ym.call(t),e.domain=function(t){if(!arguments.length)return r.slice();r=[],n=o();for(var i,a,s=-1,u=t.length;++s<u;)n.has(a=(i=t[s])+"")||n.set(a,r.push(i));return e},e.range=function(n){return arguments.length?(t=Ym.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return ir().domain(r).range(t).unknown(i)},e}function or(){function t(){var t=i().length,r=a[1]<a[0],f=a[r-0],h=a[1-r];e=(h-f)/Math.max(1,t-u+2*l),s&&(e=Math.floor(e)),f+=(h-f-e*(t-u))*c,n=e*(1-u),s&&(f=Math.round(f),n=Math.round(n));var p=zl(t).map(function(t){return f+e*t});return o(r?p.reverse():p)}var e,n,r=ir().unknown(void 0),i=r.domain,o=r.range,a=[0,1],s=!1,u=0,l=0,c=.5;return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),t()):i()},r.range=function(e){return arguments.length?(a=[+e[0],+e[1]],t()):a.slice()},r.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,t()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,t()):s},r.padding=function(e){return arguments.length?(u=l=Math.max(0,Math.min(1,e)),t()):u},r.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},r.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),t()):l},r.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},r.copy=function(){return or().domain(i()).range(a).round(s).paddingInner(u).paddingOuter(l).align(c)},t()}function ar(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ar(e())},t}function sr(){return ar(or().paddingInner(1))}function ur(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Xm(e)}function lr(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function cr(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function fr(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function hr(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=n(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(e){var n=Tl(t,e,1,i)-1;return a[n](o[n](e))}}function pr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function dr(t,e){function n(){return i=Math.min(s.length,u.length)>2?hr:fr,o=a=null,r}function r(e){return(o||(o=i(s,u,c?lr(t):t,l)))(+e)}var i,o,a,s=Km,u=Km,l=vp,c=!1;return r.invert=function(t){return(a||(a=i(u,s,ur,c?cr(e):e)))(+t)},r.domain=function(t){return arguments.length?(s=Wm.call(t,Zm),n()):s.slice()},r.range=function(t){return arguments.length?(u=Ym.call(t),n()):u.slice()},r.rangeRound=function(t){return u=Ym.call(t),l=yp,n()},r.clamp=function(t){return arguments.length?(c=!!t,n()):c},r.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function mr(t){var e=t.domain;return t.ticks=function(t){var n=e();return Vl(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Qm(e(),t,n)},t.nice=function(r){var i=e(),o=i.length-1,a=null==r?10:r,s=i[0],u=i[o],l=n(s,u,a);return l&&(l=n(Math.floor(s/l)*l,Math.ceil(u/l)*l,a),i[0]=Math.floor(s/l)*l,i[o]=Math.ceil(u/l)*l,e(i)),t},t}function vr(){var t=dr(ur,fp);return t.copy=function(){return pr(t,vr())},mr(t)}function yr(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Wm.call(n,Zm),t):e.slice()},t.copy=function(){return yr().domain(e)},mr(t)}function gr(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Xm(e)}function br(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function _r(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xr(t){return 10===t?_r:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function wr(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Mr(t){return function(e){return-t(-e)}}function Er(){function e(){return o=wr(i),a=xr(i),r()[0]<0&&(o=Mr(o),a=Mr(a)),n}var n=dr(gr,br).domain([1,10]),r=n.domain,i=10,o=wr(10),a=xr(10);return n.base=function(t){return arguments.length?(i=+t,e()):i},n.domain=function(t){return arguments.length?(r(t),e()):r()},n.ticks=function(t){var e,n=r(),s=n[0],u=n[n.length-1];(e=u<s)&&(h=s,s=u,u=h);var l,c,f,h=o(s),p=o(u),d=null==t?10:+t,m=[];if(!(i%1)&&p-h<d){if(h=Math.round(h)-1,p=Math.round(p)+1,s>0){for(;h<p;++h)for(c=1,l=a(h);c<i;++c)if(f=l*c,!(f<s)){if(f>u)break;m.push(f)}}else for(;h<p;++h)for(c=i-1,l=a(h);c>=1;--c)if(f=l*c,!(f<s)){if(f>u)break;m.push(f)}}else m=Vl(h,p,Math.min(p-h,d)).map(a);return e?m.reverse():m},n.tickFormat=function(e,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),e===1/0)return r;null==e&&(e=10);var s=Math.max(1,i*e/n.ticks().length);return function(t){var e=t/a(Math.round(o(t)));return e*i<i-.5&&(e*=i),e<=s?r(t):""}},n.nice=function(){return r($m(r(),{floor:function(t){return a(Math.floor(o(t)))},ceil:function(t){return a(Math.ceil(o(t)))}}))},n.copy=function(){return pr(n,Er().base(i))},n}function Sr(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Tr(){function t(t,e){return(e=Sr(e,n)-(t=Sr(t,n)))?function(r){return(Sr(r,n)-t)/e}:Xm(e)}function e(t,e){return e=Sr(e,n)-(t=Sr(t,n)),function(r){return Sr(t+e*r,1/n)}}var n=1,r=dr(t,e),i=r.domain;return r.exponent=function(t){return arguments.length?(n=+t,i(i())):n},r.copy=function(){return pr(r,Tr().exponent(n))},mr(r)}function Cr(){return Tr().exponent(.5)}function Pr(){function t(){var t=0,o=Math.max(1,r.length);for(i=new Array(o-1);++t<o;)i[t-1]=Wl(n,t/o);return e}function e(t){if(!isNaN(t=+t))return r[Tl(i,t)]}var n=[],r=[],i=[];return e.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var r,i=0,o=e.length;i<o;++i)r=e[i],null==r||isNaN(r=+r)||n.push(r);return n.sort(Ml),t()},e.range=function(e){return arguments.length?(r=Ym.call(e),t()):r.slice()},e.quantiles=function(){return i.slice()},e.copy=function(){return Pr().domain(n).range(r)},e}function kr(){function t(t){if(t<=t)return a[Tl(o,t,0,i)]}function e(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return t}var n=0,r=1,i=1,o=[.5],a=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e()):[n,r]},t.range=function(t){return arguments.length?(i=(a=Ym.call(t)).length-1,e()):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=i?[o[i-1],r]:[o[e-1],o[e]]},t.copy=function(){return kr().domain([n,r]).range(a)},mr(t)}function Ar(){function t(t){if(t<=t)return n[Tl(e,t,0,r)]}var e=[.5],n=[0,1],r=1;return t.domain=function(i){return arguments.length?(e=Ym.call(i),r=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(i){return arguments.length?(n=Ym.call(i),r=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},t.copy=function(){return Ar().domain(e).range(n)},t}function Ir(t){return new Date(t)}function Or(t){return t instanceof Date?+t:+new Date((+t))}function Rr(t,e,r,i,o,a,s,u,l){function c(n){return(s(n)<n?m:a(n)<n?v:o(n)<n?y:i(n)<n?g:e(n)<n?r(n)<n?b:_:t(n)<n?x:w)(n)}function f(e,r,i,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-r)/e,s=El(function(t){return t[2]}).right(M,a);s===M.length?(o=n(r/ov,i/ov,e),e=t):s?(s=M[a/M[s-1][2]<M[s][2]/a?s-1:s],o=s[1],e=s[0]):(o=n(r,i,e),e=u)}return null==o?e:e.every(o)}var h=dr(ur,fp),p=h.invert,d=h.domain,m=l(".%L"),v=l(":%S"),y=l("%I:%M"),g=l("%I %p"),b=l("%a %d"),_=l("%b %d"),x=l("%B"),w=l("%Y"),M=[[s,1,Jm],[s,5,5*Jm],[s,15,15*Jm],[s,30,30*Jm],[a,1,tv],[a,5,5*tv],[a,15,15*tv],[a,30,30*tv],[o,1,ev],[o,3,3*ev],[o,6,6*ev],[o,12,12*ev],[i,1,nv],[i,2,2*nv],[r,1,rv],[e,1,iv],[e,3,3*iv],[t,1,ov]];return h.invert=function(t){return new Date(p(t))},h.domain=function(t){return arguments.length?d(Wm.call(t,Or)):d().map(Ir)},h.ticks=function(t,e){var n,r=d(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=f(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(t,e){return null==e?c:l(e)},h.nice=function(t,e){var n=d();return(t=f(t,n[0],n[n.length-1],e))?d($m(n,t)):h},h.copy=function(){return pr(h,Rr(t,e,r,i,o,a,s,u,l))},h}function Dr(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Nr(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return Nr(t).domain([n,r]).clamp(i)},mr(e)}function jr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wv&&e.documentElement.namespaceURI===wv?e.createElement(t):e.createElementNS(n,t)}}function Lr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zr(){return new Fr}function Fr(){this._="@"+(++Tv).toString(36)}function Ur(t,e,n){return t=Br(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Br(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function Vr(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function qr(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Hr(t,e,n){var r=Iv.hasOwnProperty(t.type)?Ur:Br;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var c=0,f=u.length;c<f;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function Wr(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function Yr(){}function Gr(){return[]}function Xr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Zr(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Xr(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Kr(t,e,n,r,i,o,a){var s,u,l,c={},f=e.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(p[s]=l=Wv+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<h;++s)l=Wv+a.call(t,o[s],s,o),(u=c[l])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new Xr(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&c[p[s]]===u&&(i[s]=u)}function Qr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $r(t){return function(){this.removeAttribute(t)}}function Jr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ti(t,e){return function(){this.setAttribute(t,e)}}function ei(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ni(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ri(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ii(t){return function(){this.style.removeProperty(t)}}function oi(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ai(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function si(t){return function(){delete this[t]}}function ui(t,e){return function(){this[t]=e}}function li(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ci(t){return t.trim().split(/^|\s+/)}function fi(t){return t.classList||new hi(t)}function hi(t){this._node=t,this._names=ci(t.getAttribute("class")||"")}function pi(t,e){for(var n=fi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function di(t,e){for(var n=fi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mi(t){return function(){pi(this,t)}}function vi(t){return function(){di(this,t)}}function yi(t,e){return function(){(e.apply(this,arguments)?pi:di)(this,t)}}function gi(){this.textContent=""}function bi(t){return function(){this.textContent=t}}function _i(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function xi(){this.innerHTML=""}function wi(t){return function(){this.innerHTML=t}}function Mi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ei(){this.nextSibling&&this.parentNode.appendChild(this)}function Si(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ti(){return null}function Ci(){var t=this.parentNode;t&&t.removeChild(this)}function Pi(t,e,n){var r=iy(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ki(t,e){return function(){return Pi(this,t,e)}}function Ai(t,e){return function(){return Pi(this,t,e.apply(this,arguments))}}function Ii(t,e){this._groups=t,this._parents=e}function Oi(){return new Ii([[document.documentElement]],yy)}function Ri(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Ey)throw new Error("too late");return n}function Di(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Ty)throw new Error("too late");return n}function Ni(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function ji(t,e,n){function r(t){n.state=Sy,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)}function i(r){var l,c,f,h;if(n.state!==Sy)return a();for(l in u)if(h=u[l],h.name===n.name){if(h.state===Cy)return pd(i);h.state===Py?(h.state=Ay,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete u[l]):+l<e&&(h.state=Ay,h.timer.stop(),delete u[l])}if(pd(function(){n.state===Cy&&(n.state=Py,n.timer.restart(o,n.delay,n.time),o(r))}),n.state=Ty,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ty){for(n.state=Cy,s=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(s[++c]=h);s.length=c+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=ky,1),i=-1,o=s.length;++i<o;)s[i].call(null,r);n.state===ky&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Ay,n.timer.stop(),delete u[e];for(var r in u)return;delete t.__transition}var s,u=t.__transition;u[e]=n,n.timer=We(r,0,n.time)}function Li(t,e){var n,r;return function(){var i=Di(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function zi(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Di(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Fi(t,e,n){var r=t._id;return t.each(function(){var t=Di(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ni(t,r).value[e]}}function Ui(t){return function(){this.removeAttribute(t)}}function Bi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vi(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}}function qi(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}function Hi(t,e,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===r&&s===i?o:o=e(r=a,i=s))}}function Wi(t,e,n){var r,i,o;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===r&&s===i?o:o=e(r=a,i=s))}}function Yi(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function Gi(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function Xi(t,e){return function(){Ri(this,t).delay=+e.apply(this,arguments)}}function Zi(t,e){return e=+e,function(){Ri(this,t).delay=e}}function Ki(t,e){return function(){Di(this,t).duration=+e.apply(this,arguments)}}function Qi(t,e){return e=+e,function(){Di(this,t).duration=e}}function $i(t,e){if("function"!=typeof e)throw new Error;return function(){Di(this,t).ease=e}}function Ji(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function to(t,e,n){var r,i,o=Ji(e)?Ri:Di;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function eo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function no(t,e){var n,r,i;return function(){var o=iy(this).getComputedStyle(this,null),a=o.getPropertyValue(t),s=(this.style.removeProperty(t),o.getPropertyValue(t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function ro(t){return function(){this.style.removeProperty(t)}}function io(t,e,n){var r,i;return function(){var o=iy(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===r?i:i=e(r=o,n)}}function oo(t,e,n){var r,i,o;return function(){var a=iy(this).getComputedStyle(this,null),s=a.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=a.getPropertyValue(t)),s===u?null:s===r&&u===i?o:o=e(r=s,i=u)}}function ao(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}function so(t){return function(){this.textContent=t}}function uo(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function lo(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function co(t){return Oi().transition(t)}function fo(){return++Jy}function ho(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return eg.time=Ve(),eg;return n}function po(t,e,n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"}function mo(t,e,n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"}function vo(t){var e=t.bandwidth()/2;return t.round()&&(e=Math.round(e)),function(n){return t(n)+e}}function yo(){return!this.__axis}function go(t,e){function n(n){var l,c=null==i?e.ticks?e.ticks.apply(e,r):e.domain():i,f=null==o?e.tickFormat?e.tickFormat.apply(e,r):ag:o,h=Math.max(a,0)+u,p=t===sg||t===lg?po:mo,d=e.range(),m=d[0]+.5,v=d[d.length-1]+.5,y=(e.bandwidth?vo:ag)(e.copy()),g=n.selection?n.selection():n,b=g.selectAll(".domain").data([null]),_=g.selectAll(".tick").data(c,e).order(),x=_.exit(),w=_.enter().append("g").attr("class","tick"),M=_.select("line"),E=_.select("text"),S=t===sg||t===cg?-1:1,T=t===cg||t===ug?(l="x","y"):(l="y","x");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),_=_.merge(w),M=M.merge(w.append("line").attr("stroke","#000").attr(l+"2",S*a).attr(T+"1",.5).attr(T+"2",.5)),E=E.merge(w.append("text").attr("fill","#000").attr(l,S*h).attr(T,.5).attr("dy",t===sg?"0em":t===lg?"0.71em":"0.32em")),
n!==g&&(b=b.transition(n),_=_.transition(n),M=M.transition(n),E=E.transition(n),x=x.transition(n).attr("opacity",fg).attr("transform",function(t){return p(y,this.parentNode.__axis||y,t)}),w.attr("opacity",fg).attr("transform",function(t){return p(this.parentNode.__axis||y,y,t)})),x.remove(),b.attr("d",t===cg||t==ug?"M"+S*s+","+m+"H0.5V"+v+"H"+S*s:"M"+m+","+S*s+"V0.5H"+v+"V"+S*s),_.attr("opacity",1).attr("transform",function(t){return p(y,y,t)}),M.attr(l+"2",S*a),E.attr(l,S*h).text(f),g.filter(yo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ug?"start":t===cg?"end":"middle"),g.each(function(){this.__axis=y})}var r=[],i=null,o=null,a=6,s=6,u=3;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return r=og.call(arguments),n},n.tickArguments=function(t){return arguments.length?(r=null==t?[]:og.call(t),n):r.slice()},n.tickValues=function(t){return arguments.length?(i=null==t?null:og.call(t),n):i&&i.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(a=s=+t,n):a},n.tickSizeInner=function(t){return arguments.length?(a=+t,n):a},n.tickSizeOuter=function(t){return arguments.length?(s=+t,n):s},n.tickPadding=function(t){return arguments.length?(u=+t,n):u},n}function bo(t){return go(sg,t)}function _o(t){return go(ug,t)}function xo(t){return go(lg,t)}function wo(t){return go(cg,t)}function Mo(t,e){return t.parent===e.parent?1:2}function Eo(t){return t.reduce(So,0)/t.length}function So(t,e){return t+e.x}function To(t){return 1+t.reduce(Co,0)}function Co(t,e){return Math.max(t,e.y)}function Po(t){for(var e;e=t.children;)t=e[0];return t}function ko(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Ao(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Io(t,e){var n,r,i,o,a,s=new jo(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=Ro);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new jo(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(No)}function Oo(){return Io(this).eachBefore(Do)}function Ro(t){return t.children}function Do(t){t.data=t.data.data}function No(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function jo(t){this.data=t,this.depth=this.height=0,this.parent=null}function Lo(t){this._=t,this.next=null}function zo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r-e.r;return i*i+1e-6>n*n+r*r}function Fo(t,e){var n,r,i,o=null,a=t.head;switch(e.length){case 1:n=Uo(e[0]);break;case 2:n=Bo(e[0],e[1]);break;case 3:n=Vo(e[0],e[1],e[2])}for(;a;)i=a._,r=a.next,n&&zo(n,i)?o=a:(o?(t.tail=o,o.next=null):t.head=t.tail=null,e.push(i),n=Fo(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),o=t.tail,o.next=r),a=r;return t.tail=o,n}function Uo(t){return{x:t.x,y:t.y,r:t.r}}function Bo(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+o+u/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+s)/2}}function Vo(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,f=n.r,h=2*(r-a),p=2*(i-s),d=2*(u-o),m=r*r+i*i-o*o-a*a-s*s+u*u,v=2*(r-l),y=2*(i-c),g=2*(f-o),b=r*r+i*i-o*o-l*l-c*c+f*f,_=v*p-h*y,x=(p*b-y*m)/_-r,w=(y*d-p*g)/_,M=(v*m-h*b)/_-i,E=(h*g-v*d)/_,S=w*w+E*E-1,T=2*(x*w+M*E+o),C=x*x+M*M-o*o,P=(-T-Math.sqrt(T*T-4*S*C))/(2*S);return{x:x+w*P+r,y:M+E*P+i,r:P}}function qo(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-r,u=e.y-i,l=s*s+u*u;if(l){var c=.5+((a*=a)-(o*=o))/(2*l),f=Math.sqrt(Math.max(0,2*o*(a+l)-(a-=l)*a-o*o))/(2*l);n.x=r+c*s+f*u,n.y=i+c*u-f*s}else n.x=r+a,n.y=i}function Ho(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i>n*n+r*r}function Wo(t,e,n){var r=t.x-e,i=t.y-n;return r*r+i*i}function Yo(t){this._=t,this.next=null,this.previous=null}function Go(t){if(!(i=t.length))return 0;var e,n,r,i;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;qo(n,e,r=t[2]);var o,a,s,u,l,c,f,h=e.r*e.r,p=n.r*n.r,d=r.r*r.r,m=h+p+d,v=h*e.x+p*n.x+d*r.x,y=h*e.y+p*n.y+d*r.y;e=new Yo(e),n=new Yo(n),r=new Yo(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){if(qo(e._,n._,r=t[s]),r=new Yo(r),(l=e.previous)===(u=n.next)){if(Ho(u._,r._)){e=n,n=u,--s;continue t}}else{c=u._.r,f=l._.r;do if(c<=f){if(Ho(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}u=u.next,c+=u._.r}else{if(Ho(l._,r._)){e=l,e.next=n,n.previous=e,--s;continue t}l=l.previous,f+=l._.r}while(u!==l.next)}for(r.previous=e,r.next=n,e.next=n.previous=n=r,m+=d=r._.r*r._.r,v+=d*r._.x,y+=d*r._.y,h=Wo(e._,o=v/m,a=y/m);(r=r.next)!==n;)(d=Wo(r._,o,a))<h&&(e=r,h=d);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Eg(e),s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function Xo(t){return null==t?null:Zo(t)}function Zo(t){if("function"!=typeof t)throw new Error;return t}function Ko(){return 0}function Qo(t){return Math.sqrt(t.value)}function $o(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Jo(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Go(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function ta(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function ea(t){return t.id}function na(t){return t.parentId}function ra(t,e){return t.parent===e.parent?1:2}function ia(t){var e=t.children;return e?e[0]:t.t}function oa(t){var e=t.children;return e?e[e.length-1]:t.t}function aa(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function sa(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function ua(t,e,n){return t.a.parent===e.parent?t.a:n}function la(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ca(t){for(var e,n,r,i,o,a=new la(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new la(r[i],i)),n.parent=e;return(a.parent=new la(null,0)).children=[a],a}function fa(t,e,n,r,i,o){for(var a,s,u,l,c,f,h,p,d,m,v,y,g=[],b=e.children,_=0,x=b.length,w=e.value;_<x;){for(l=i-n,c=o-r,h=p=f=b[_].value,v=Math.max(c/l,l/c)/(w*t),y=f*f*v,m=Math.max(p/y,y/h),u=_+1;u<x;++u){if(f+=s=b[u].value,s<h&&(h=s),s>p&&(p=s),y=f*f*v,d=Math.max(p/y,y/h),d>m){f-=s;break}m=d}g.push(a={value:f,dice:l<c,children:b.slice(_,u)}),a.dice?kg(a,n,r,i,w?r+=c*f/w:o):jg(a,n,r,w?n+=l*f/w:i,o),w-=f,_=u}return g}function ha(t){return t.x+t.vx}function pa(t){return t.y+t.vy}function da(t,e){return e}function ma(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function va(t){return t.x}function ya(t){return t.y}function ga(){t.event.stopImmediatePropagation()}function ba(t,e){var n=t.document.documentElement,r=gy(t).on("dragstart.drag",null);e&&(r.on("click.drag",tb,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function _a(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function xa(){return!t.event.button}function wa(){return this.parentNode}function Ma(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Ea(t){return t[0]}function Sa(t){return t[1]}function Ta(){this._=null}function Ca(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Pa(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ka(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Aa(t){for(;t.L;)t=t.L;return t}function Ia(t,e,n,r){var i=[null,null],o=lb.push(i)-1;return i.left=t,i.right=e,n&&Ra(i,t,e,n),r&&Ra(i,e,t,r),sb[t.index].halfedges.push(o),sb[e.index].halfedges.push(o),i}function Oa(t,e,n){var r=[e,n];return r.left=t,r}function Ra(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Da(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=s[0],f=s[1],h=0,p=1,d=c-u,m=f-l;if(o=e-u,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<p&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=r-u,d||!(o<0)){if(o/=d,d<0){if(o>p)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<p&&(p=o)}if(o=n-l,m||!(o>0)){if(o/=m,m<0){if(o<h)return;o<p&&(p=o)}else if(m>0){if(o>p)return;o>h&&(h=o)}if(o=i-l,m||!(o<0)){if(o/=m,m<0){if(o>p)return;o>h&&(h=o)}else if(m>0){if(o<h)return;o<p&&(p=o)}return!(h>0||p<1)||(h>0&&(t[0]=[u+h*d,l+h*m]),p<1&&(t[1]=[u+p*d,l+p*m]),!0)}}}}}function Na(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,f=l[0],h=l[1],p=c[0],d=c[1],m=(f+p)/2,v=(h+d)/2;if(d===h){if(m<e||m>=r)return;if(f>p){if(u){if(u[1]>=i)return}else u=[m,n];o=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];o=[m,n]}}else if(a=(f-p)/(d-h),s=v-a*m,a<-1||a>1)if(f>p){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function ja(t,e,n,r){for(var i,o=lb.length;o--;)Na(i=lb[o],t,e,n,r)&&Da(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>hb||Math.abs(i[0][1]-i[1][1])>hb)||delete lb[o]}function La(t){return sb[t.index]={site:t,halfedges:[]}}function za(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Fa(t,e){return e[+(e.left!==t.site)]}function Ua(t,e){return e[+(e.left===t.site)]}function Ba(){for(var t,e,n,r,i=0,o=sb.length;i<o;++i)if((t=sb[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=za(t,lb[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}function Va(t,e,n,r){var i,o,a,s,u,l,c,f,h,p,d,m,v=sb.length,y=!0;for(i=0;i<v;++i)if(o=sb[i]){for(a=o.site,u=o.halfedges,s=u.length;s--;)lb[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=Ua(o,lb[u[s]]),d=p[0],m=p[1],c=Fa(o,lb[u[++s%l]]),f=c[0],h=c[1],(Math.abs(d-f)>hb||Math.abs(m-h)>hb)&&(u.splice(s,0,lb.push(Oa(a,p,Math.abs(d-t)<hb&&r-m>hb?[t,Math.abs(f-t)<hb?h:r]:Math.abs(m-r)<hb&&n-d>hb?[Math.abs(h-r)<hb?f:n,r]:Math.abs(d-n)<hb&&m-e>hb?[n,Math.abs(f-n)<hb?h:e]:Math.abs(m-e)<hb&&d-t>hb?[Math.abs(h-e)<hb?f:t,e]:null))-1),++l);l&&(y=!1)}if(y){var g,b,_,x=1/0;for(i=0,y=null;i<v;++i)(o=sb[i])&&(a=o.site,g=a[0]-t,b=a[1]-e,_=g*g+b*b,_<x&&(x=_,y=o));if(y){var w=[t,e],M=[t,r],E=[n,r],S=[n,e];y.halfedges.push(lb.push(Oa(a=y.site,w,M))-1,lb.push(Oa(a,M,E))-1,lb.push(Oa(a,E,S))-1,lb.push(Oa(a,S,w))-1)}}for(i=0;i<v;++i)(o=sb[i])&&(o.halfedges.length||delete sb[i])}function qa(){Ca(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ha(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,f=o[1]-s,h=2*(u*f-l*c);if(!(h>=-pb)){var p=u*u+l*l,d=c*c+f*f,m=(f*p-l*d)/h,v=(u*d-c*p)/h,y=cb.pop()||new qa;y.arc=t,y.site=i,y.x=m+a,y.y=(y.cy=v+s)+Math.sqrt(m*m+v*v),t.circle=y;for(var g=null,b=ub._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}ub.insert(g,y),g||(ob=y)}}}}function Wa(t){var e=t.circle;e&&(e.P||(ob=e.N),ub.remove(e),cb.push(e),Ca(e),t.circle=null)}function Ya(){Ca(this),this.edge=this.site=this.circle=null}function Ga(t){var e=fb.pop()||new Ya;return e.site=t,e}function Xa(t){Wa(t),ab.remove(t),fb.push(t),Ca(t)}function Za(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Xa(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<hb&&Math.abs(r-u.circle.cy)<hb;)o=u.P,s.unshift(u),Xa(u),u=o;s.unshift(u),Wa(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<hb&&Math.abs(r-l.circle.cy)<hb;)a=l.N,s.push(l),Xa(l),l=a;s.push(l),Wa(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],Ra(l.edge,u.site,l.site,i);u=s[0],l=s[f-1],l.edge=Ia(u.site,l.site,null,i),Ha(u),Ha(l)}function Ka(t){for(var e,n,r,i,o=t[0],a=t[1],s=ab._;s;)if(r=Qa(s,a)-o,r>hb)s=s.L;else{if(i=o-$a(s,a),!(i>hb)){r>-hb?(e=s.P,n=s):i>-hb?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}La(t);var u=Ga(t);if(ab.insert(e,u),e||n){if(e===n)return Wa(e),n=Ga(e.site),ab.insert(u,n),u.edge=n.edge=Ia(e.site,u.site),Ha(e),void Ha(n);if(!n)return void(u.edge=Ia(e.site,u.site));Wa(e),Wa(n);var l=e.site,c=l[0],f=l[1],h=t[0]-c,p=t[1]-f,d=n.site,m=d[0]-c,v=d[1]-f,y=2*(h*v-p*m),g=h*h+p*p,b=m*m+v*v,_=[(v*g-p*b)/y+c,(h*b-m*g)/y+f];Ra(n.edge,l,d,_),u.edge=Ia(l,t,null,_),n.edge=Ia(t,d,null,_),Ha(e),Ha(n)}}function Qa(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function $a(t,e){var n=t.N;if(n)return Qa(n,e);var r=t.site;return r[1]===e?r[0]:1/0}function Ja(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function ts(t,e){return e[1]-t[1]||e[0]-t[0]}function es(t,e){var n,r,i,o=t.sort(ts).pop();for(lb=[],sb=new Array(t.length),ab=new Ta,ub=new Ta;;)if(i=ob,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Ka(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Za(i.arc)}if(Ba(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];ja(a,s,u,l),Va(a,s,u,l)}this.edges=lb,this.cells=sb,ab=ub=lb=sb=null}function ns(t,e,n){this.target=t,this.type=e,this.transform=n}function rs(t,e,n){this.k=t,this.x=e,this.y=n}function is(t){return t.__zoom||vb}function os(){t.event.stopImmediatePropagation()}function as(){return!t.event.button}function ss(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function us(){return this.__zoom||vb}function ls(){t.event.stopImmediatePropagation()}function cs(t){return{type:t}}function fs(){return!t.event.button}function hs(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function ps(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function ds(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function ms(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function vs(){return gs(Tb)}function ys(){return gs(Cb)}function gs(e){function n(t){var n=t.property("__brush",s).selectAll(".overlay").data([cs("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",kb.overlay).merge(n).each(function(){var t=ps(this).extent;gy(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([cs("selection")]).enter().append("rect").attr("class","selection").attr("cursor",kb.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return kb[t.type]}),t.each(r).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function r(){var t=gy(this),e=ps(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-h/2:e[0][0]-h/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-h/2:e[0][1]-h/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+h:h}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+h:h})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){function n(){var t=jv(E);!j||w||M||(Math.abs(t[0]-z[0])>Math.abs(t[1]-z[1])?M=!0:w=!0),z=t,x=!0,xb(),o()}function o(){var t;switch(b=z[0]-L[0],_=z[1]-L[1],T){case Mb:case wb:C&&(b=Math.max(O-f,Math.min(D-m,b)),h=f+b,v=m+b),P&&(_=Math.max(R-p,Math.min(N-y,_)),d=p+_,g=y+_);break;case Eb:C<0?(b=Math.max(O-f,Math.min(D-f,b)),h=f+b,v=m):C>0&&(b=Math.max(O-m,Math.min(D-m,b)),h=f,v=m+b),P<0?(_=Math.max(R-p,Math.min(N-p,_)),d=p+_,g=y):P>0&&(_=Math.max(R-y,Math.min(N-y,_)),d=p,g=y+_);break;case Sb:C&&(h=Math.max(O,Math.min(D,f-b*C)),v=Math.max(O,Math.min(D,m+b*C))),P&&(d=Math.max(R,Math.min(N,p-_*P)),g=Math.max(R,Math.min(N,y+_*P)))}v<h&&(C*=-1,t=f,f=m,m=t,t=h,h=v,v=t,S in Ab&&B.attr("cursor",kb[S=Ab[S]])),g<d&&(P*=-1,t=p,p=y,y=t,t=d,d=g,g=t,S in Ib&&B.attr("cursor",kb[S=Ib[S]])),k.selection&&(I=k.selection),w&&(h=I[0][0],v=I[1][0]),M&&(d=I[0][1],g=I[1][1]),I[0][0]===h&&I[0][1]===d&&I[1][0]===v&&I[1][1]===g||(k.selection=[[h,d],[v,g]],r.call(E),F.brush())}function a(){if(ls(),t.event.touches){if(t.event.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500),U.on("touchmove.brush touchend.brush touchcancel.brush",null)}else ba(t.event.view,x),V.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);U.attr("pointer-events","all"),B.attr("cursor",kb.overlay),k.selection&&(I=k.selection),ds(I)&&(k.selection=null,r.call(E)),F.end()}function s(){switch(t.event.keyCode){case 16:j=C&&P;break;case 18:T===Eb&&(C&&(m=v-b*C,f=h+b*C),P&&(y=g-_*P,p=d+_*P),T=Sb,o());break;case 32:T!==Eb&&T!==Sb||(C<0?m=v-b:C>0&&(f=h-b),P<0?y=g-_:P>0&&(p=d-_),T=Mb,B.attr("cursor",kb.selection),o());break;default:return}xb()}function l(){switch(t.event.keyCode){case 16:j&&(w=M=j=!1,o());break;case 18:T===Sb&&(C<0?m=v:C>0&&(f=h),P<0?y=g:P>0&&(p=d),T=Eb,o());break;case 32:T===Mb&&(t.event.altKey?(C&&(m=v-b*C,f=h+b*C),P&&(y=g-_*P,p=d+_*P),T=Sb):(C<0?m=v:C>0&&(f=h),P<0?y=g:P>0&&(p=d),T=Eb),B.attr("cursor",kb[S]),o());break;default:return}xb()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return xb()}else if(u)return;if(c.apply(this,arguments)){var f,h,p,d,m,v,y,g,b,_,x,w,M,E=this,S=t.event.target.__data__.type,T="selection"===(t.event.metaKey?S="overlay":S)?wb:t.event.altKey?Sb:Eb,C=e===Cb?null:Ob[S],P=e===Tb?null:Rb[S],k=ps(E),A=k.extent,I=k.selection,O=A[0][0],R=A[0][1],D=A[1][0],N=A[1][1],j=C&&P&&t.event.shiftKey,L=jv(E),z=L,F=i(E,arguments).beforestart();"overlay"===S?k.selection=I=[[f=e===Cb?O:L[0],p=e===Tb?R:L[1]],[m=e===Cb?D:f,y=e===Tb?N:p]]:(f=I[0][0],p=I[0][1],m=I[1][0],y=I[1][1]),h=f,d=p,v=m,g=y;var U=gy(E).attr("pointer-events","none"),B=U.selectAll(".overlay").attr("cursor",kb[S]);if(t.event.touches)U.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",a,!0);else{var V=gy(t.event.view).on("keydown.brush",s,!0).on("keyup.brush",l,!0).on("mousemove.brush",n,!0).on("mouseup.brush",a,!0);eb(t.event.view)}ls(),Oy(E),r.call(E),F.start()}}function s(){var t=this.__brush||{selection:null};return t.extent=l.apply(this,arguments),t.dim=e,t}var u,l=hs,c=fs,f=Ie(n,"start","brush","end"),h=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){a.selection=1===t&&ds(l)?null:c(t),r.call(o),s.brush()}var o=this,a=o.__brush,s=i(o,arguments),u=a.selection,l=e.input("function"==typeof n?n.apply(this,arguments):n,a.extent),c=vp(u,l);return u&&l?t:t(1)}):t.each(function(){var t=this,o=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,o):n,a.extent),u=i(t,o).beforestart();Oy(t),a.selection=null==s||ds(s)?null:s,r.call(t),u.start().brush().end()})},o.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Wr(new _b(n,t,e.output(this.state.selection)),f.apply,f,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(l="function"==typeof t?t:bb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):l},n.filter=function(t){return arguments.length?(c="function"==typeof t?t:bb(!!t),n):c},n.handleSize=function(t){return arguments.length?(h=+t,n):h},n.on=function(){var t=f.on.apply(f,arguments);return t===f?n:t},n}function bs(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function _s(t){return t.source}function xs(t){return t.target}function ws(t){return t.radius}function Ms(t){return t.startAngle}function Es(t){return t.endAngle}function Ss(){this.reset()}function Ts(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function Cs(t){return t>1?0:t<-1?T_:Math.acos(t)}function Ps(t){return t>1?C_:t<-1?-C_:Math.asin(t)}function ks(t){return(t=U_(t/2))*t}function As(){}function Is(t,e){t&&W_.hasOwnProperty(t.type)&&W_[t.type](t,e)}function Os(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Rs(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Os(t[n],e,1);e.polygonEnd()}function Ds(){Z_.point=js}function Ns(){Ls(Yb,Gb)}function js(t,e){Z_.point=Ls,Yb=t,Gb=e,t*=I_,e*=I_,Xb=t,Zb=N_(e=e/2+P_),Kb=U_(e)}function Ls(t,e){t*=I_,e*=I_,e=e/2+P_;var n=t-Xb,r=n>=0?1:-1,i=r*n,o=N_(e),a=U_(e),s=Kb*a,u=Zb*o+s*N_(i),l=s*r*U_(i);G_.add(D_(l,u)),Xb=t,Zb=o,Kb=a}function zs(t){return[D_(t[1],t[0]),Ps(t[2])]}function Fs(t){var e=t[0],n=t[1],r=N_(n);return[r*N_(e),r*U_(e),U_(n)]}function Us(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Bs(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Vs(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function qs(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Hs(t){var e=V_(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ws(t,e){o_.push(a_=[Qb=t,Jb=t]),e<$b&&($b=e),e>t_&&(t_=e)}function Ys(t,e){var n=Fs([t*I_,e*I_]);if(i_){var r=Bs(i_,n),i=[r[1],-r[0],0],o=Bs(i,r);Hs(o),o=zs(o);var a,s=t-e_,u=s>0?1:-1,l=o[0]*A_*u,c=O_(s)>180;c^(u*e_<l&&l<u*t)?(a=o[1]*A_,a>t_&&(t_=a)):(l=(l+360)%360-180,c^(u*e_<l&&l<u*t)?(a=-o[1]*A_,a<$b&&($b=a)):(e<$b&&($b=e),e>t_&&(t_=e))),c?t<e_?$s(Qb,t)>$s(Qb,Jb)&&(Jb=t):$s(t,Jb)>$s(Qb,Jb)&&(Qb=t):Jb>=Qb?(t<Qb&&(Qb=t),t>Jb&&(Jb=t)):t>e_?$s(Qb,t)>$s(Qb,Jb)&&(Jb=t):$s(t,Jb)>$s(Qb,Jb)&&(Qb=t)}else Ws(t,e);i_=n,e_=t}function Gs(){$_.point=Ys}function Xs(){a_[0]=Qb,a_[1]=Jb,$_.point=Ws,i_=null}function Zs(t,e){if(i_){var n=t-e_;Q_.add(O_(n)>180?n+(n>0?360:-360):n)}else n_=t,r_=e;Z_.point(t,e),Ys(t,e)}function Ks(){Z_.lineStart()}function Qs(){Zs(n_,r_),Z_.lineEnd(),O_(Q_)>E_&&(Qb=-(Jb=180)),a_[0]=Qb,a_[1]=Jb,i_=null}function $s(t,e){return(e-=t)<0?e+360:e}function Js(t,e){return t[0]-e[0]}function tu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function eu(t,e){t*=I_,e*=I_;var n=N_(e);nu(n*N_(t),n*U_(t),U_(e))}function nu(t,e,n){++s_,l_+=(t-l_)/s_,c_+=(e-c_)/s_,f_+=(n-f_)/s_}function ru(){tx.point=iu}function iu(t,e){t*=I_,e*=I_;var n=N_(e);__=n*N_(t),x_=n*U_(t),w_=U_(e),tx.point=ou,nu(__,x_,w_)}function ou(t,e){t*=I_,e*=I_;var n=N_(e),r=n*N_(t),i=n*U_(t),o=U_(e),a=D_(V_((a=x_*o-w_*i)*a+(a=w_*r-__*o)*a+(a=__*i-x_*r)*a),__*r+x_*i+w_*o);u_+=a,h_+=a*(__+(__=r)),p_+=a*(x_+(x_=i)),d_+=a*(w_+(w_=o)),nu(__,x_,w_)}function au(){tx.point=eu}function su(){tx.point=lu}function uu(){cu(g_,b_),tx.point=eu}function lu(t,e){g_=t,b_=e,t*=I_,e*=I_,tx.point=cu;var n=N_(e);__=n*N_(t),x_=n*U_(t),w_=U_(e),nu(__,x_,w_)}function cu(t,e){t*=I_,e*=I_;var n=N_(e),r=n*N_(t),i=n*U_(t),o=U_(e),a=x_*o-w_*i,s=w_*r-__*o,u=__*i-x_*r,l=V_(a*a+s*s+u*u),c=__*r+x_*i+w_*o,f=l&&-Cs(c)/l,h=D_(l,c);m_+=f*a,v_+=f*s,y_+=f*u,u_+=h,h_+=h*(__+(__=r)),p_+=h*(x_+(x_=i)),d_+=h*(w_+(w_=o)),nu(__,x_,w_)}function fu(t,e){return[t>T_?t-k_:t<-T_?t+k_:t,e]}function hu(t,e,n){return(t%=k_)?e||n?rx(du(t),mu(e,n)):du(t):e||n?mu(e,n):fu}function pu(t){return function(e,n){return e+=t,[e>T_?e-k_:e<-T_?e+k_:e,n]}}function du(t){var e=pu(t);return e.invert=pu(-t),e}function mu(t,e){function n(t,e){var n=N_(e),s=N_(t)*n,u=U_(t)*n,l=U_(e),c=l*r+s*i;return[D_(u*o-c*a,s*r-l*i),Ps(c*o+u*a)]}var r=N_(t),i=U_(t),o=N_(e),a=U_(e);return n.invert=function(t,e){var n=N_(e),s=N_(t)*n,u=U_(t)*n,l=U_(e),c=l*o-u*a;return[D_(u*o+l*a,s*r+c*i),Ps(c*r-s*i)]},n}function vu(t,e,n,r,i,o){if(n){var a=N_(e),s=U_(e),u=r*n;null==i?(i=e+r*k_,o=e-u/2):(i=yu(a,i),o=yu(a,o),(r>0?i<o:i>o)&&(i+=r*k_));for(var l,c=i;r>0?c>o:c<o;c-=u)l=zs([a,-s*N_(c),-s*U_(c)]),t.point(l[0],l[1])}}function yu(t,e){e=Fs(e),e[0]-=t,Hs(e);var n=Cs(-e[1]);return((-e[2]<0?-n:n)+k_-E_)%k_}function gu(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function bu(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function _u(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0){do l.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+s+4)%4)!==f)}else l.point(o[0],o[1])}function a(r,i){return O_(r[0]-t)<E_?i>0?0:3:O_(r[0]-n)<E_?i>0?2:1:O_(r[1]-e)<E_?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){i(t,e)&&T.point(t,e)}function l(){for(var e=0,n=0,i=v.length;n<i;++n)for(var o,a,s=v[n],u=1,l=s.length,c=s[0],f=c[0],h=c[1];u<l;++u)o=f,a=h,c=s[u],f=c[0],h=c[1],a<=r?h>r&&(f-o)*(r-a)>(h-a)*(t-o)&&++e:h<=r&&(f-o)*(r-a)<(h-a)*(t-o)&&--e;return e}function c(){T=C,m=[],v=[],S=!0}function f(){var t=l(),e=S&&t,n=(m=Ql(m)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&_x(m,s,t,o,a),a.polygonEnd()),T=a,m=v=y=null}function h(){P.point=d,v&&v.push(y=[]),E=!0,M=!1,x=w=NaN}function p(){m&&(d(g,b),_&&M&&C.rejoin(),m.push(C.result())),P.point=u,M&&T.lineEnd()}function d(o,a){var s=i(o,a);if(v&&y.push([o,a]),E)g=o,b=a,_=s,E=!1,s&&(T.lineStart(),T.point(o,a));else if(s&&M)T.point(o,a);else{var u=[x=Math.max(wx,Math.min(xx,x)),w=Math.max(wx,Math.min(xx,w))],l=[o=Math.max(wx,Math.min(xx,o)),a=Math.max(wx,Math.min(xx,a))];gx(u,l,t,e,n,r)?(M||(T.lineStart(),T.point(u[0],u[1])),T.point(l[0],l[1]),s||T.lineEnd(),S=!1):s&&(T.lineStart(),T.point(o,a),S=!1)}x=o,w=a,M=s}var m,v,y,g,b,_,x,w,M,E,S,T=a,C=yx(),P={point:u,lineStart:h,lineEnd:p,polygonStart:c,polygonEnd:f};return P}}function xu(){Sx.point=Mu,Sx.lineEnd=wu}function wu(){Sx.point=Sx.lineEnd=As}function Mu(t,e){t*=I_,e*=I_,ix=t,ox=U_(e),ax=N_(e),Sx.point=Eu}function Eu(t,e){t*=I_,e*=I_;var n=U_(e),r=N_(e),i=O_(t-ix),o=N_(i),a=U_(i),s=r*a,u=ax*n-ox*r*o,l=ox*n+ax*r*o;Ex.add(D_(V_(s*s+u*u),l)),ix=t,ox=n,ax=r}function Su(t,e,n){var r=zl(t,e-E_,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Tu(t,e,n){var r=zl(t,e-E_,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Cu(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return zl(j_(o/v)*v,i,v).map(h).concat(zl(j_(l/y)*y,u,y).map(p)).concat(zl(j_(r/d)*d,n,d).filter(function(t){return O_(t%v)>E_}).map(c)).concat(zl(j_(s/m)*m,a,m).filter(function(t){return O_(t%y)>E_}).map(f))}var n,r,i,o,a,s,u,l,c,f,h,p,d=10,m=d,v=90,y=360,g=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(u).slice(1),h(i).reverse().slice(1),p(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(g)):[[o,l],[i,u]]},t.extentMinor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(g)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(v=+e[0],y=+e[1],t):[v,y]},t.stepMinor=function(e){return arguments.length?(d=+e[0],m=+e[1],t):[d,m]},t.precision=function(e){return arguments.length?(g=+e,c=Su(s,a,90),f=Tu(r,n,g),h=Su(l,u,90),p=Tu(o,i,g),t):g},t.extentMajor([[-180,-90+E_],[180,90-E_]]).extentMinor([[-180,-80-E_],[180,80+E_]])}function Pu(){return Cu()()}function ku(){Dx.point=Au}function Au(t,e){Dx.point=Iu,sx=lx=t,ux=cx=e}function Iu(t,e){Rx.add(cx*t-lx*e),lx=t,cx=e}function Ou(){Iu(sx,ux)}function Ru(t,e){t<Nx&&(Nx=t),t>Lx&&(Lx=t),e<jx&&(jx=e),e>zx&&(zx=e)}function Du(t,e){Ux+=t,Bx+=e,++Vx}function Nu(){Zx.point=ju}function ju(t,e){Zx.point=Lu,Du(px=t,dx=e)}function Lu(t,e){var n=t-px,r=e-dx,i=V_(n*n+r*r);qx+=i*(px+t)/2,Hx+=i*(dx+e)/2,Wx+=i,Du(px=t,dx=e)}function zu(){Zx.point=Du}function Fu(){Zx.point=Bu}function Uu(){Vu(fx,hx)}function Bu(t,e){Zx.point=Vu,Du(fx=px=t,hx=dx=e)}function Vu(t,e){var n=t-px,r=e-dx,i=V_(n*n+r*r);qx+=i*(px+t)/2,Hx+=i*(dx+e)/2,Wx+=i,i=dx*t-px*e,Yx+=i*(px+t),Gx+=i*(dx+e),Xx+=3*i,Du(px=t,dx=e)}function qu(t){this._context=t}function Hu(){this._string=[]}function Wu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Yu(t){return t.length>1}function Gu(t,e){return((t=t.x)[0]<0?t[1]-C_-E_:C_-t[1])-((e=e.x)[0]<0?e[1]-C_-E_:C_-e[1])}function Xu(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?T_:-T_,u=O_(o-n);O_(u-T_)<E_?(t.point(n,r=(r+a)/2>0?C_:-C_),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=T_&&(O_(n-i)<E_&&(n-=i*E_),O_(o-s)<E_&&(o-=s*E_),r=Zu(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Zu(t,e,n,r){var i,o,a=U_(t-n);return O_(a)>E_?R_((U_(e)*(o=N_(r))*U_(n)-U_(r)*(i=N_(e))*U_(t))/(i*o*a)):(e+r)/2}function Ku(t,e,n,r){var i;if(null==t)i=n*C_,r.point(-T_,i),r.point(0,i),r.point(T_,i),r.point(T_,0),r.point(T_,-i),r.point(0,-i),r.point(-T_,-i),r.point(-T_,0),r.point(-T_,i);else if(O_(t[0]-e[0])>E_){var o=t[0]<e[0]?T_:-T_;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Qu(t){return function(e){var n=new $u;for(var r in t)n[r]=t[r];return n.stream=e,n}}function $u(){}function Ju(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Y_(n,t.stream(Fx));var a=Fx.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}function tl(t,e,n){return Ju(t,[[0,0],e],n)}function el(t){return Qu({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function nl(t,e){function n(r,i,o,a,s,u,l,c,f,h,p,d,m,v){var y=l-r,g=c-i,b=y*y+g*g;if(b>4*e&&m--){var _=a+h,x=s+p,w=u+d,M=V_(_*_+x*x+w*w),E=Ps(w/=M),S=O_(O_(w)-1)<E_||O_(o-f)<E_?(o+f)/2:D_(x,_),T=t(S,E),C=T[0],P=T[1],k=C-r,A=P-i,I=g*k-y*A;(I*I/b>e||O_((y*k+g*A)/b-.5)>.3||a*h+s*p+u*d<iw)&&(n(r,i,o,a,s,u,C,P,S,_/=M,x/=M,w,m,v),v.point(C,P),n(C,P,S,_,x,w,l,c,f,h,p,d,m,v))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){y=NaN,w.point=o,e.lineStart()}function o(r,i){var o=Fs([r,i]),a=t(r,i);n(y,g,v,b,_,x,y=a[0],g=a[1],v=r,b=o[0],_=o[1],x=o[2],rw,e),e.point(y,g)}function a(){w.point=r,e.lineEnd()}function s(){i(),w.point=u,w.lineEnd=l}function u(t,e){o(c=t,e),f=y,h=g,p=b,d=_,m=x,w.point=o}function l(){n(y,g,v,b,_,x,f,h,c,p,d,m,rw,e),w.lineEnd=a,a()}var c,f,h,p,d,m,v,y,g,b,_,x,w={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){
e.polygonEnd(),w.lineStart=i}};return w}}function rl(t){return il(function(){return t})()}function il(t){function e(t){return t=c(t[0]*I_,t[1]*I_),[t[0]*v+s,u-t[1]*v]}function n(t){return t=c.invert((t[0]-s)/v,(u-t[1])/v),t&&[t[0]*A_,t[1]*A_]}function r(t,e){return t=a(t,e),[t[0]*v+s,u-t[1]*v]}function i(){c=rx(l=hu(x,w,M),a);var t=a(b,_);return s=y-t[0]*v,u=g+t[1]*v,o()}function o(){return d=m=null,e}var a,s,u,l,c,f,h,p,d,m,v=150,y=480,g=250,b=0,_=0,x=0,w=0,M=0,E=null,S=tw,T=null,C=Ix,P=.5,k=ow(r,P);return e.stream=function(t){return d&&m===t?d:d=aw(S(l,k(C(m=t))))},e.clipAngle=function(t){return arguments.length?(S=+t?ew(E=t*I_,6*I_):(E=null,tw),o()):E*A_},e.clipExtent=function(t){return arguments.length?(C=null==t?(T=f=h=p=null,Ix):_u(T=+t[0][0],f=+t[0][1],h=+t[1][0],p=+t[1][1]),o()):null==T?null:[[T,f],[h,p]]},e.scale=function(t){return arguments.length?(v=+t,i()):v},e.translate=function(t){return arguments.length?(y=+t[0],g=+t[1],i()):[y,g]},e.center=function(t){return arguments.length?(b=t[0]%360*I_,_=t[1]%360*I_,i()):[b*A_,_*A_]},e.rotate=function(t){return arguments.length?(x=t[0]%360*I_,w=t[1]%360*I_,M=t.length>2?t[2]%360*I_:0,i()):[x*A_,w*A_,M*A_]},e.precision=function(t){return arguments.length?(k=ow(r,P=t*t),o()):V_(P)},e.fitExtent=function(t,n){return Ju(e,t,n)},e.fitSize=function(t,n){return tl(e,t,n)},function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function ol(t){var e=0,n=T_/3,r=il(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*I_,n=t[1]*I_):[e*A_,n*A_]},i}function al(t){function e(t,e){return[t*n,U_(e)/n]}var n=N_(t);return e.invert=function(t,e){return[t/n,Ps(e*n)]},e}function sl(t,e){function n(t,e){var n=V_(o-2*i*U_(e))/i;return[n*U_(t*=i),a-n*N_(t)]}var r=U_(t),i=(r+U_(e))/2;if(O_(i)<E_)return al(t);var o=1+r*(2*i-r),a=V_(o)/i;return n.invert=function(t,e){var n=a-e;return[D_(t,O_(n))/i*B_(n),Ps((o-(t*t+n*n)*i*i)/(2*i))]},n}function ul(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function ll(t){return function(e,n){var r=N_(e),i=N_(n),o=t(r*i);return[o*i*U_(e),o*U_(n)]}}function cl(t){return function(e,n){var r=V_(e*e+n*n),i=t(r),o=U_(i),a=N_(i);return[D_(e*o,r*a),Ps(r&&n*o/r)]}}function fl(t,e){return[t,z_(q_((C_+e)/2))]}function hl(t){var e,n=rl(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(t){return arguments.length?(r(t),e&&n.clipExtent(null),n):r()},n.translate=function(t){return arguments.length?(i(t),e&&n.clipExtent(null),n):i()},n.clipExtent=function(t){if(!arguments.length)return e?null:o();if(e=null==t){var a=T_*r(),s=i();t=[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]}return o(t),n},n.clipExtent(null)}function pl(t){return q_((C_+t)/2)}function dl(t,e){function n(t,e){o>0?e<-C_+E_&&(e=-C_+E_):e>C_-E_&&(e=C_-E_);var n=o/F_(pl(e),i);return[n*U_(i*t),o-n*N_(i*t)]}var r=N_(t),i=t===e?U_(t):z_(r/N_(e))/z_(pl(e)/pl(t)),o=r*F_(pl(t),i)/i;return i?(n.invert=function(t,e){var n=o-e,r=B_(i)*V_(t*t+n*n);return[D_(t,O_(n))/i*B_(n),2*R_(F_(o/r,1/i))-C_]},n):fl}function ml(t,e){return[t,e]}function vl(t,e){function n(t,e){var n=o-e,r=i*t;return[n*U_(r),o-n*N_(r)]}var r=N_(t),i=t===e?U_(t):(r-N_(e))/(e-t),o=r/i+t;return O_(i)<E_?ml:(n.invert=function(t,e){var n=o-e;return[D_(t,O_(n))/i*B_(n),o-B_(i)*V_(t*t+n*n)]},n)}function yl(t,e){var n=N_(e),r=N_(t)*n;return[n*U_(t)/r,U_(e)/r]}function gl(t,e,n){return 1===t&&0===e&&0===n?Ix:Qu({point:function(r,i){this.stream.point(r*t+e,i*t+n)}})}function bl(t,e){return[N_(e)*U_(t),U_(e)]}function _l(t,e){var n=N_(e),r=1+N_(t)*n;return[n*U_(t)/r,U_(e)/r]}function xl(t,e){return[z_(q_((C_+e)/2)),-t]}var wl="4.3.0",Ml=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},El=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},Sl=El(Ml),Tl=Sl.right,Cl=Sl.left,Pl=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},kl=function(t){return null===t?NaN:+t},Al=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,u=0;if(null==e)for(;++s<i;)isNaN(n=kl(t[s]))||(r=n-o,o+=r/++u,a+=r*(n-o));else for(;++s<i;)isNaN(n=kl(e(t[s],s,t)))||(r=n-o,o+=r/++u,a+=r*(n-o));if(u>1)return a/(u-1)},Il=function(t,e){var n=Al(t,e);return n?Math.sqrt(n):n},Ol=function(t,e){var n,r,i,o=-1,a=t.length;if(null==e){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e(t[o],o,t))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e(t[o],o,t))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},Rl=Array.prototype,Dl=Rl.slice,Nl=Rl.map,jl=function(t){return function(){return t}},Ll=function(t){return t},zl=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},Fl=Math.sqrt(50),Ul=Math.sqrt(10),Bl=Math.sqrt(2),Vl=function(t,e,r){var i=n(t,e,r);return zl(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)},ql=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},Hl=function(){function t(t){var i,o,a=t.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(t[i],i,t);var u=n(s),l=u[0],c=u[1],f=r(s,l,c);Array.isArray(f)||(f=Vl(l,c,f));for(var h=f.length;f[0]<=l;)f.shift(),--h;for(;f[h-1]>=c;)f.pop(),--h;var p,d=new Array(h+1);for(i=0;i<=h;++i)p=d[i]=[],p.x0=i>0?f[i-1]:l,p.x1=i<h?f[i]:c;for(i=0;i<a;++i)o=s[i],l<=o&&o<=c&&d[Tl(f,o,0,h)].push(t[i]);return d}var e=Ll,n=Ol,r=ql;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:jl(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:jl([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:jl(Array.isArray(e)?Dl.call(e):e),t):r},t},Wl=function(t,e,n){if(null==n&&(n=kl),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}},Yl=function(t,e,n){return t=Nl.call(t,kl).sort(Ml),Math.ceil((n-e)/(2*(Wl(t,.75)-Wl(t,.25))*Math.pow(t.length,-1/3)))},Gl=function(t,e,n){return Math.ceil((n-e)/(3.5*Il(t)*Math.pow(t.length,-1/3)))},Xl=function(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&r>n&&(n=r)}return n},Zl=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(null==e)for(;++o<i;)isNaN(n=kl(t[o]))?--a:r+=n;else for(;++o<i;)isNaN(n=kl(e(t[o],o,t)))?--a:r+=n;if(a)return r/a},Kl=function(t,e){var n,r=[],i=t.length,o=-1;if(null==e)for(;++o<i;)isNaN(n=kl(t[o]))||r.push(n);else for(;++o<i;)isNaN(n=kl(e(t[o],o,t)))||r.push(n);return Wl(r.sort(Ml),.5)},Ql=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n},$l=function(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&n>r&&(n=r)}return n},Jl=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},tc=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ec=function(t,e){if(n=t.length){var n,r,i=0,o=0,a=t[o];for(e||(e=Ml);++i<n;)(e(r=t[i],a)<0||0!==e(a,a))&&(a=r,o=i);return 0===e(a,a)?o:void 0}},nc=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},rc=function(t,e){var n,r=0,i=t.length,o=-1;if(null==e)for(;++o<i;)(n=+t[o])&&(r+=n);else for(;++o<i;)(n=+e(t[o],o,t))&&(r+=n);return r},ic=function(t){if(!(o=t.length))return[];for(var e=-1,n=$l(t,r),i=new Array(n);++e<n;)for(var o,a=-1,s=i[e]=new Array(o);++a<o;)s[a]=t[a][e];return i},oc=function(){return ic(arguments)},ac="$";i.prototype=o.prototype={constructor:i,has:function(t){return ac+t in this},get:function(t){return this[ac+t]},set:function(t,e){return this[ac+t]=e,this},remove:function(t){var e=ac+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===ac&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===ac&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===ac&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===ac&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===ac&&++t;return t},empty:function(){for(var t in this)if(t[0]===ac)return!1;return!0},each:function(t){for(var e in this)e[0]===ac&&t(this[e],e.slice(1),this)}};var sc=function(){function t(e,i,a,s){if(i>=c.length)return null!=r?r(e):null!=n?e.sort(n):e;for(var u,l,f,h=-1,p=e.length,d=c[i++],m=o(),v=a();++h<p;)(f=m.get(u=d(l=e[h])+""))?f.push(l):m.set(u,[l]);return m.each(function(e,n){s(v,n,t(e,i,a,s))}),v}function e(t,n){if(++n>c.length)return t;var i,o=f[n-1];return null!=r&&n>=c.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:e(t,n)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}var n,r,i,c=[],f=[];return i={object:function(e){return t(e,0,a,s)},map:function(e){return t(e,0,u,l)},entries:function(n){return e(t(n,0,u,l),0)},key:function(t){return c.push(t),i},sortKeys:function(t){return f[c.length-1]=t,i},sortValues:function(t){return n=t,i},rollup:function(t){return r=t,i}}},uc=o.prototype;c.prototype=f.prototype={constructor:c,has:uc.has,add:function(t){return t+="",this[ac+t]=t,this},remove:uc.remove,clear:uc.clear,values:uc.keys,size:uc.size,empty:uc.empty,each:uc.each};var lc=function(t){var e=[];for(var n in t)e.push(n);return e},cc=function(t){var e=[];for(var n in t)e.push(t[n]);return e},fc=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},hc=function(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}},pc=function(t,e){var n,r;return t=null==t?0:+t,e=null==e?1:+e,function(){var i;if(null!=n)i=n,n=null;else do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*i*Math.sqrt(-2*Math.log(r)/r)}},dc=function(){var t=pc.apply(this,arguments);return function(){return Math.exp(t())}},mc=function(t){return function(){for(var e=0,n=0;n<t;++n)e+=Math.random();return e}},vc=function(t){var e=mc(t);return function(){return e()/t}},yc=function(t){return function(){return-Math.log(1-Math.random())/t}},gc=3,bc=function Mw(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=Mw,e}(gc),_c=function Ew(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=Ew,e}(gc),xc=function Sw(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=Sw,e}(gc),wc=Math.PI,Mc=wc/2,Ec=4/11,Sc=6/11,Tc=8/11,Cc=.75,Pc=9/11,kc=10/11,Ac=.9375,Ic=21/22,Oc=63/64,Rc=1/Ec/Ec,Dc=1.70158,Nc=function Tw(t){function e(e){return e*e*((t+1)*e-t)}return t=+t,e.overshoot=Tw,e}(Dc),jc=function Cw(t){function e(e){return--e*e*((t+1)*e+t)+1}return t=+t,e.overshoot=Cw,e}(Dc),Lc=function Pw(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=Pw,e}(Dc),zc=2*Math.PI,Fc=1,Uc=.3,Bc=function kw(t,e){function n(n){return t*Math.pow(2,10*--n)*Math.sin((r-n)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=zc);return n.amplitude=function(t){return kw(t,e*zc)},n.period=function(e){return kw(t,e)},n}(Fc,Uc),Vc=function Aw(t,e){function n(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+r)/e)}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=zc);return n.amplitude=function(t){return Aw(t,e*zc)},n.period=function(e){return Aw(t,e)},n}(Fc,Uc),qc=function Iw(t,e){function n(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((r-n)/e):2-t*Math.pow(2,-10*n)*Math.sin((r+n)/e))/2}var r=Math.asin(1/(t=Math.max(1,t)))*(e/=zc);return n.amplitude=function(t){return Iw(t,e*zc)},n.period=function(e){return Iw(t,e)},n}(Fc,Uc),Hc=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},Wc=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return u*=3,[o/u,a/u]},Yc=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},Gc=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(I),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=O(r),a=O(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;e>=0;--e)l.push(t[r[o[e]][2]]);for(e=+s;e<a.length-u;++e)l.push(t[r[a[e]][2]]);return l},Xc=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],l=o[1],c=!1,f=0;f<i;++f)o=t[f],n=o[0],r=o[1],r>s!=l>s&&a<(u-n)*(s-r)/(l-r)+n&&(c=!c),u=n,l=r;return c},Zc=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,o=t[r],a=o[0],s=o[1],e-=a,n-=s,u+=Math.sqrt(e*e+n*n);return u},Kc=Math.PI,Qc=2*Kc,$c=1e-6,Jc=Qc-$c;R.prototype=D.prototype={constructor:R,moveTo:function(t,e){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._.push("Z"))},lineTo:function(t,e){this._.push("L",this._x1=+t,",",this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._.push("Q",+t,",",+e,",",this._x1=+n,",",this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._.push("C",+t,",",+e,",",+n,",",+r,",",this._x1=+i,",",this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._.push("M",this._x1=t,",",this._y1=e);else if(f>$c)if(Math.abs(c*s-u*l)>$c&&i){var h=n-o,p=r-a,d=s*s+u*u,m=h*h+p*p,v=Math.sqrt(d),y=Math.sqrt(f),g=i*Math.tan((Kc-Math.acos((d+f-m)/(2*v*y)))/2),b=g/y,_=g/v;Math.abs(b-1)>$c&&this._.push("L",t+b*l,",",e+b*c),this._.push("A",i,",",i,",0,0,",+(c*h>l*p),",",this._x1=t+_*s,",",this._y1=e+_*u)}else this._.push("L",this._x1=t,",",this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n;var a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._.push("M",u,",",l):(Math.abs(this._x1-u)>$c||Math.abs(this._y1-l)>$c)&&this._.push("L",u,",",l),n&&(f>Jc?this._.push("A",n,",",n,",0,1,",c,",",t-a,",",e-s,"A",n,",",n,",0,1,",c,",",this._x1=u,",",this._y1=l):(f<0&&(f=f%Qc+Qc),this._.push("A",n,",",n,",0,",+(f>=Kc),",",c,",",this._x1=t+n*Math.cos(i),",",this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e,"h",+n,"v",+r,"h",-n,"Z")},toString:function(){return this._.join("")}};var tf=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return N(this.cover(e,n),e,n,t)},ef=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,l=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do a=new Array(4),a[s]=l,l=a;while(u*=2,i=n+u,o=r+u,t>i||e>o);break;case 1:do a=new Array(4),a[s]=l,l=a;while(u*=2,n=i-u,o=r+u,n>t||e>o);break;case 2:do a=new Array(4),a[s]=l,l=a;while(u*=2,i=n+u,r=o-u,t>i||r>e);break;case 3:do a=new Array(4),a[s]=l,l=a;while(u*=2,n=i-u,r=o-u,n>t||r>e)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},nf=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},rf=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},of=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},af=function(t,e,n){var r,i,o,a,s,u,l,c=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new of(m,c,f,h,p)),null==n?n=1/0:(c=t-n,f=e-n,h=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(m=u.node)||(i=u.x0)>h||(o=u.y0)>p||(a=u.x1)<c||(s=u.y1)<f))if(m.length){var v=(i+a)/2,y=(o+s)/2;d.push(new of(m[3],v,y,a,s),new of(m[2],i,y,v,s),new of(m[1],v,o,a,y),new of(m[0],i,o,v,y)),(l=(e>=y)<<1|t>=v)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var g=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),_=g*g+b*b;if(_<n){var x=Math.sqrt(n=_);c=t-x,f=e-x,h=t+x,p=e+x,r=m.data}}return r},sf=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,f,h,p=this._root,d=this._x0,m=this._y0,v=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(s=(d+v)/2))?d=s:v=s,(c=a>=(u=(m+y)/2))?m=u:y=u,e=p,!(p=p[f=c<<1|l]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=i,this)},uf=function(){return this._root},lf=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},cf=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new of(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new of(n,l,c,o,a)),(n=u[2])&&s.push(new of(n,r,c,l,a)),(n=u[1])&&s.push(new of(n,l,i,o,c)),(n=u[0])&&s.push(new of(n,r,i,l,c))}return this},ff=function(t){var e,n=[],r=[];for(this._root&&n.push(new of(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,f=(s+l)/2;(o=i[0])&&n.push(new of(o,a,s,c,f)),(o=i[1])&&n.push(new of(o,c,s,u,f)),(o=i[2])&&n.push(new of(o,a,f,c,l)),(o=i[3])&&n.push(new of(o,c,f,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},hf=function(t){return arguments.length?(this._x=t,this):this._x},pf=function(t){return arguments.length?(this._y=t,this):this._y},df=U.prototype=B.prototype;df.copy=function(){var t,e,n=new B(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=V(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=V(e));return n},df.add=tf,df.addAll=j,df.cover=ef,df.data=nf,df.extent=rf,df.find=af,df.remove=sf,df.removeAll=L,df.root=uf,df.size=lf,df.visit=cf,df.visitAfter=ff,df.x=hf,df.y=pf;var mf=[].slice,vf={};q.prototype=Z.prototype={constructor:q,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=mf.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),H(this),this},abort:function(){return null==this._error&&G(this,new Error("abort")),this},await:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=function(e,n){t.apply(null,[e].concat(n))},X(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,X(this),this}};var yf=function(t){return function(){return t}},gf=1e-12,bf=Math.PI,_f=bf/2,xf=2*bf,wf=function(){function t(){var t,l,c=+e.apply(this,arguments),f=+n.apply(this,arguments),h=o.apply(this,arguments)-_f,p=a.apply(this,arguments)-_f,d=Math.abs(p-h),m=p>h;if(u||(u=t=D()),f<c&&(l=f,f=c,c=l),f>gf)if(d>xf-gf)u.moveTo(f*Math.cos(h),f*Math.sin(h)),u.arc(0,0,f,h,p,!m),c>gf&&(u.moveTo(c*Math.cos(p),c*Math.sin(p)),u.arc(0,0,c,p,h,m));else{var v,y,g=h,b=p,_=h,x=p,w=d,M=d,E=s.apply(this,arguments)/2,S=E>gf&&(i?+i.apply(this,arguments):Math.sqrt(c*c+f*f)),T=Math.min(Math.abs(f-c)/2,+r.apply(this,arguments)),C=T,P=T;if(S>gf){var k=et(S/c*Math.sin(E)),A=et(S/f*Math.sin(E));(w-=2*k)>gf?(k*=m?1:-1,_+=k,x-=k):(w=0,_=x=(h+p)/2),(M-=2*A)>gf?(A*=m?1:-1,g+=A,b-=A):(M=0,g=b=(h+p)/2)}var I=f*Math.cos(g),O=f*Math.sin(g),R=c*Math.cos(x),N=c*Math.sin(x);if(T>gf){var j=f*Math.cos(b),L=f*Math.sin(b),z=c*Math.cos(_),F=c*Math.sin(_);if(d<bf){var U=w>gf?nt(I,O,z,F,j,L,R,N):[R,N],B=I-U[0],V=O-U[1],q=j-U[0],H=L-U[1],W=1/Math.sin(Math.acos((B*q+V*H)/(Math.sqrt(B*B+V*V)*Math.sqrt(q*q+H*H)))/2),Y=Math.sqrt(U[0]*U[0]+U[1]*U[1]);C=Math.min(T,(c-Y)/(W-1)),P=Math.min(T,(f-Y)/(W+1))}}M>gf?P>gf?(v=rt(z,F,I,O,f,P,m),y=rt(j,L,R,N,f,P,m),u.moveTo(v.cx+v.x01,v.cy+v.y01),P<T?u.arc(v.cx,v.cy,P,Math.atan2(v.y01,v.x01),Math.atan2(y.y01,y.x01),!m):(u.arc(v.cx,v.cy,P,Math.atan2(v.y01,v.x01),Math.atan2(v.y11,v.x11),!m),u.arc(0,0,f,Math.atan2(v.cy+v.y11,v.cx+v.x11),Math.atan2(y.cy+y.y11,y.cx+y.x11),!m),u.arc(y.cx,y.cy,P,Math.atan2(y.y11,y.x11),Math.atan2(y.y01,y.x01),!m))):(u.moveTo(I,O),u.arc(0,0,f,g,b,!m)):u.moveTo(I,O),c>gf&&w>gf?C>gf?(v=rt(R,N,j,L,c,-C,m),y=rt(I,O,z,F,c,-C,m),u.lineTo(v.cx+v.x01,v.cy+v.y01),C<T?u.arc(v.cx,v.cy,C,Math.atan2(v.y01,v.x01),Math.atan2(y.y01,y.x01),!m):(u.arc(v.cx,v.cy,C,Math.atan2(v.y01,v.x01),Math.atan2(v.y11,v.x11),!m),u.arc(0,0,c,Math.atan2(v.cy+v.y11,v.cx+v.x11),Math.atan2(y.cy+y.y11,y.cx+y.x11),m),u.arc(y.cx,y.cy,C,Math.atan2(y.y11,y.x11),Math.atan2(y.y01,y.x01),!m))):u.arc(0,0,c,x,_,m):u.lineTo(R,N)}else u.moveTo(0,0);if(u.closePath(),t)return u=null,t+""||null}var e=K,n=Q,r=yf(0),i=null,o=$,a=J,s=tt,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-bf/2;return[Math.cos(r)*t,Math.sin(r)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:yf(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:yf(+e),t):n},t.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:yf(+e),t):r},t.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:yf(+e),t):i},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:yf(+e),t):o},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:yf(+e),t):a},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:yf(+e),t):s},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t};it.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Mf=function(t){return new it(t)},Ef=function(){function t(t){var s,u,l,c=t.length,f=!1;for(null==i&&(a=o(l=D())),s=0;s<=c;++s)!(s<c&&r(u=t[s],s,t))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(u,s,t),+n(u,s,t));if(l)return a=null,l+""||null}var e=ot,n=at,r=yf(!0),i=null,o=Mf,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:yf(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:yf(+e),t):n},t.defined=function(e){return arguments.length?(r="function"==typeof e?e:yf(!!e),t):r},t.curve=function(e){return arguments.length?(o=e,null!=i&&(a=o(i)),t):o},t.context=function(e){return arguments.length?(null==e?i=a=null:a=o(i=e),t):i},t},Sf=function(){function t(t){var e,c,f,h,p,d=t.length,m=!1,v=new Array(d),y=new Array(d);for(null==s&&(l=u(p=D())),e=0;e<=d;++e){if(!(e<d&&a(h=t[e],e,t))===m)if(m=!m)c=e,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=e-1;f>=c;--f)l.point(v[f],y[f]);l.lineEnd(),l.areaEnd()}m&&(v[e]=+n(h,e,t),y[e]=+i(h,e,t),l.point(r?+r(h,e,t):v[e],o?+o(h,e,t):y[e]))}if(p)return l=null,p+""||null}function e(){return Ef().defined(a).curve(u).context(s)}var n=ot,r=null,i=yf(0),o=at,a=yf(!0),s=null,u=Mf,l=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:yf(+e),r=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:yf(+e),t):n},t.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:yf(+e),t):r},t.y=function(e){return arguments.length?(i="function"==typeof e?e:yf(+e),o=null,t):i},t.y0=function(e){return arguments.length?(i="function"==typeof e?e:yf(+e),t):i},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:yf(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(i)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(r).y(i)},t.defined=function(e){return arguments.length?(a="function"==typeof e?e:yf(!!e),t):a},t.curve=function(e){return arguments.length?(u=e,null!=s&&(l=u(s)),t):u},t.context=function(e){return arguments.length?(null==e?s=l=null:l=u(s=e),t):s},t},Tf=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Cf=function(t){return t},Pf=function(){function t(t){var s,u,l,c,f,h=t.length,p=0,d=new Array(h),m=new Array(h),v=+i.apply(this,arguments),y=Math.min(xf,Math.max(-xf,o.apply(this,arguments)-v)),g=Math.min(Math.abs(y)/h,a.apply(this,arguments)),b=g*(y<0?-1:1);for(s=0;s<h;++s)(f=m[d[s]=s]=+e(t[s],s,t))>0&&(p+=f);for(null!=n?d.sort(function(t,e){return n(m[t],m[e])}):null!=r&&d.sort(function(e,n){return r(t[e],t[n])}),s=0,l=p?(y-h*b)/p:0;s<h;++s,v=c)u=d[s],f=m[u],c=v+(f>0?f*l:0)+b,m[u]={data:t[u],index:s,value:f,startAngle:v,endAngle:c,padAngle:g};return m}var e=Cf,n=Tf,r=null,i=yf(0),o=yf(xf),a=yf(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:yf(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,r=null,t):n},t.sort=function(e){return arguments.length?(r=e,n=null,t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:yf(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:yf(+e),t):o},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:yf(+e),t):a},t},kf=ut(Mf);st.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Af=function(){return lt(Ef().curve(kf))},If=function(){var t=Sf().curve(kf),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return lt(n())},delete t.lineX0,t.lineEndAngle=function(){return lt(r())},delete t.lineX1,t.lineInnerRadius=function(){return lt(i())},delete t.lineY0,t.lineOuterRadius=function(){return lt(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(ut(t)):e()._curve},t},Of={draw:function(t,e){var n=Math.sqrt(e/bf);t.moveTo(n,0),t.arc(0,0,n,0,xf)}},Rf={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Df=Math.sqrt(1/3),Nf=2*Df,jf={draw:function(t,e){var n=Math.sqrt(e/Nf),r=n*Df;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Lf=.8908130915292852,zf=Math.sin(bf/10)/Math.sin(7*bf/10),Ff=Math.sin(xf/10)*zf,Uf=-Math.cos(xf/10)*zf,Bf={draw:function(t,e){var n=Math.sqrt(e*Lf),r=Ff*n,i=Uf*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=xf*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},Vf={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},qf=Math.sqrt(3),Hf={draw:function(t,e){var n=-Math.sqrt(e/(3*qf));t.moveTo(0,2*n),t.lineTo(-qf*n,-n),t.lineTo(qf*n,-n),t.closePath()}},Wf=-.5,Yf=Math.sqrt(3)/2,Gf=1/Math.sqrt(12),Xf=3*(Gf/2+1),Zf={draw:function(t,e){var n=Math.sqrt(e/Xf),r=n/2,i=n*Gf,o=r,a=n*Gf+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(Wf*r-Yf*i,Yf*r+Wf*i),t.lineTo(Wf*o-Yf*a,Yf*o+Wf*a),t.lineTo(Wf*s-Yf*u,Yf*s+Wf*u),t.lineTo(Wf*r+Yf*i,Wf*i-Yf*r),t.lineTo(Wf*o+Yf*a,Wf*a-Yf*o),t.lineTo(Wf*s+Yf*u,Wf*u-Yf*s),t.closePath()}},Kf=[Of,Rf,jf,Vf,Bf,Hf,Zf],Qf=function(){function t(){var t;if(r||(r=t=D()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}var e=yf(Of),n=yf(64),r=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:yf(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:yf(+e),t):n},t.context=function(e){return arguments.length?(r=null==e?null:e,t):r},t},$f=function(){};ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ct(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ct(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Jf=function(t){return new ft(t)};ht.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ct(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var th=function(t){return new ht(t)};pt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ct(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var eh=function(t){return new pt(t)};dt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var nh=function Ow(t){function e(e){return 1===t?new ft(e):new dt(e,t)}return e.beta=function(t){return Ow(+t)},e}(.85);vt.prototype={areaStart:function(){this._line=0},
areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:mt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:mt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rh=function Rw(t){function e(e){return new vt(e,t)}return e.tension=function(t){return Rw(+t)},e}(0);yt.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:mt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ih=function Dw(t){function e(e){return new yt(e,t)}return e.tension=function(t){return Dw(+t)},e}(0);gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var oh=function Nw(t){function e(e){return new gt(e,t)}return e.tension=function(t){return Nw(+t)},e}(0);_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ah=function jw(t){function e(e){return t?new _t(e,t):new vt(e,0)}return e.alpha=function(t){return jw(+t)},e}(.5);xt.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sh=function Lw(t){function e(e){return t?new xt(e,t):new yt(e,0)}return e.alpha=function(t){return Lw(+t)},e}(.5);wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var uh=function zw(t){function e(e){return t?new wt(e,t):new gt(e,0)}return e.alpha=function(t){return zw(+t)},e}(.5);Mt.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var lh=function(t){return new Mt(t)};Pt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ct(this,this._t0,Tt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ct(this,Tt(this,n=St(this,t,e)),n);break;default:Ct(this,this._t0,n=St(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(kt.prototype=Object.create(Pt.prototype)).point=function(t,e){Pt.prototype.point.call(this,e,t)},At.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Dt(t),i=Dt(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ch=function(t){return new Rt(t)};Nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var fh=function(t){return new Nt(t,.5)},hh=Array.prototype.slice,ph=function(t,e){if((r=t.length)>1)for(var n,r,i=1,o=t[e[0]],a=o.length;i<r;++i){n=o,o=t[e[i]];for(var s=0;s<a;++s)o[s][1]+=o[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}},dh=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},mh=function(){function t(t){var o,a,s=e.apply(this,arguments),u=t.length,l=s.length,c=new Array(l);for(o=0;o<l;++o){for(var f,h=s[o],p=c[o]=new Array(u),d=0;d<u;++d)p[d]=f=[0,+i(t[d],h,d,t)],f.data=t[d];p.key=h}for(o=0,a=n(c);o<l;++o)c[a[o]].index=o;return r(c,a),c}var e=yf([]),n=dh,r=ph,i=zt;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:yf(hh.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:yf(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?dh:"function"==typeof e?e:yf(hh.call(e)),t):n},t.offset=function(e){return arguments.length?(r=null==e?ph:e,t):r},t},vh=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}ph(t,e)}},yh=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}ph(t,e)}},gh=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,l=0;s<i;++s){for(var c=t[e[s]],f=c[a][1]||0,h=c[a-1][1]||0,p=(f-h)/2,d=0;d<s;++d){var m=t[e[d]],v=m[a][1]||0,y=m[a-1][1]||0;p+=v-y}u+=f,l+=p*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,ph(t,e)}},bh=function(t){var e=t.map(Ft);return dh(t).sort(function(t,n){return e[t]-e[n]})},_h=function(t){return bh(t).reverse()},xh=function(t){var e,n,r=t.length,i=t.map(Ft),o=dh(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],l=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)},wh=function(t){return dh(t).reverse()},Mh=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Eh=.7,Sh=1/Eh,Th=/^#([0-9a-f]{3})$/,Ch=/^#([0-9a-f]{6})$/,Ph=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,kh=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,Ah=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Ih=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Oh=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,Rh=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Dh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mh(Bt,Vt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Mh(Gt,Yt,Ut(Bt,{brighter:function(t){return t=null==t?Sh:Math.pow(Sh,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Eh:Math.pow(Eh,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Mh(Qt,Kt,Ut(Bt,{brighter:function(t){return t=null==t?Sh:Math.pow(Sh,t),new Qt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Eh:Math.pow(Eh,t),new Qt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gt($t(t>=240?t-240:t+120,i,r),$t(t,i,r),$t(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Nh=Math.PI/180,jh=180/Math.PI,Lh=18,zh=.95047,Fh=1,Uh=1.08883,Bh=4/29,Vh=6/29,qh=3*Vh*Vh,Hh=Vh*Vh*Vh;Mh(ee,te,Ut(Bt,{brighter:function(t){return new ee(this.l+Lh*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ee(this.l-Lh*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Fh*re(t),e=zh*re(e),n=Uh*re(n),new Gt(ie(3.2404542*e-1.5371385*t-.4985314*n),ie(-.969266*e+1.8760108*t+.041556*n),ie(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Mh(ue,se,Ut(Bt,{brighter:function(t){return new ue(this.h,this.c,this.l+Lh*(null==t?1:t),this.opacity)},darker:function(t){return new ue(this.h,this.c,this.l-Lh*(null==t?1:t),this.opacity)},rgb:function(){return Jt(this).rgb()}}));var Wh=-.14861,Yh=1.78277,Gh=-.29227,Xh=-.90649,Zh=1.97294,Kh=Zh*Xh,Qh=Zh*Yh,$h=Yh*Gh-Xh*Wh;Mh(fe,ce,Ut(Bt,{brighter:function(t){return t=null==t?Sh:Math.pow(Sh,t),new fe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Eh:Math.pow(Eh,t),new fe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Nh,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Gt(255*(e+n*(Wh*r+Yh*i)),255*(e+n*(Gh*r+Xh*i)),255*(e+n*(Zh*r)),this.opacity)}}));var Jh,tp,ep,np,rp=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return he((n-r/e)*e,a,i,o,s)}},ip=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return he((n-r/e)*e,i,o,a,s)}},op=function(t){return function(){return t}},ap=function Fw(t){function e(t,e){var r=n((t=Yt(t)).r,(e=Yt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=n(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var n=ve(t);return e.gamma=Fw,e}(1),sp=ge(rp),up=ge(ip),lp=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=vp(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},cp=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},fp=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},hp=function(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=vp(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},pp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dp=new RegExp(pp.source,"g"),mp=function(t,e){var n,r,i,o=pp.lastIndex=dp.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=pp.exec(t))&&(r=dp.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:fp(n,r)})),o=dp.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?_e(u[0].x):be(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},vp=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?op(e):("number"===r?fp:"string"===r?(n=Vt(e))?(e=n,ap):mp:e instanceof Vt?ap:e instanceof Date?cp:Array.isArray(e)?lp:isNaN(e)?hp:fp)(t,e)},yp=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},gp=180/Math.PI,bp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},_p=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*gp,skewX:Math.atan(u)*gp,scaleX:a,scaleY:s}},xp=Me(xe,"px, ","px)","deg)"),wp=Me(we,", ",")",")"),Mp=Math.SQRT2,Ep=2,Sp=4,Tp=1e-12,Cp=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-i,f=u-o,h=c*c+f*f;if(h<Tp)r=Math.log(l/a)/Mp,n=function(t){return[i+t*c,o+t*f,a*Math.exp(Mp*t*r)]};else{var p=Math.sqrt(h),d=(l*l-a*a+Sp*h)/(2*a*Ep*p),m=(l*l-a*a-Sp*h)/(2*l*Ep*p),v=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(m*m+1)-m);r=(y-v)/Mp,n=function(t){var e=t*r,n=Ee(v),s=a/(Ep*p)*(n*Te(Mp*e+v)-Se(v));return[i+s*c,o+s*f,a*n/Ee(Mp*e+v)]}}return n.duration=1e3*r,n},Pp=Ce(me),kp=Ce(ye),Ap=ke(me),Ip=ke(ye),Op=Ae(me),Rp=Ae(ye),Dp=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Np={value:function(){}};Oe.prototype=Ie.prototype={constructor:Oe,on:function(t,e){var n,r=this._,i=Re(t+"",r),o=-1,a=i.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Ne(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ne(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=De(r[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Oe(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var jp,Lp,zp=function(t){function e(t,e){var r,i,o=n(t,function(t,n){return r?r(t,n-1):(i=t,void(r=e?Le(t,e):je(t)))});return o.columns=i,o}function n(t,e){function n(){if(c>=l)return a;if(i)return i=!1,o;var e,n=c;if(34===t.charCodeAt(n)){for(var r=n;r++<l;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return c=r+2,e=t.charCodeAt(r+1),13===e?(i=!0,10===t.charCodeAt(r+2)&&++c):10===e&&(i=!0),t.slice(n+1,r).replace(/""/g,'"')}for(;c<l;){var s=1;if(e=t.charCodeAt(c++),10===e)i=!0;else if(13===e)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(e!==u)continue;return t.slice(n,c-s)}return t.slice(n)}for(var r,i,o={},a={},s=[],l=t.length,c=0,f=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=n();e&&null==(h=e(h,f++))||s.push(h)}return s}function r(e,n){return null==n&&(n=ze(e)),[n.map(a).join(t)].concat(e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})).join("\n")}function i(t){return t.map(o).join("\n")}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":s.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return{parse:e,parseRows:n,format:r,formatRows:i}},Fp=zp(","),Up=Fp.parse,Bp=Fp.parseRows,Vp=Fp.format,qp=Fp.formatRows,Hp=zp("\t"),Wp=Hp.parse,Yp=Hp.parseRows,Gp=Hp.format,Xp=Hp.formatRows,Zp=function(t,e){function n(t){var e,n=c.status;if(!n&&Ue(c)||n>=200&&n<300||304===n){if(a)try{e=a.call(r,c)}catch(i){return void u.call("error",r,i)}else e=c;u.call("load",r,e)}else u.call("error",r,t)}var r,i,a,s,u=Ie("beforesend","progress","load","error"),l=o(),c=new XMLHttpRequest,f=null,h=null,p=0;if("undefined"==typeof XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=n:c.onreadystatechange=function(t){c.readyState>3&&n(t)},c.onprogress=function(t){u.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l.get(t):(null==e?l.remove(t):l.set(t,e+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(s=t,r):s},timeout:function(t){return arguments.length?(p=+t,r):p},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",r)},response:function(t){return a=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(e,n,o){return c.open(e,t,!0,f,h),null==i||l.has("accept")||l.set("accept",i+",*/*"),c.setRequestHeader&&l.each(function(t,e){c.setRequestHeader(e,t)}),null!=i&&c.overrideMimeType&&c.overrideMimeType(i),null!=s&&(c.responseType=s),p>0&&(c.timeout=p),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=Fe(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),u.call("beforesend",r,c),c.send(null==n?null:n),r},abort:function(){return c.abort(),r},on:function(){var t=u.on.apply(u,arguments);return t===u?r:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}return r},Kp=function(t,e){return function(n,r){var i=Zp(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},Qp=Kp("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),$p=Kp("application/json",function(t){return JSON.parse(t.responseText)}),Jp=Kp("text/plain",function(t){return t.responseText}),td=Kp("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),ed=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=Zp(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(Be(e,r=t)):r},o.row(r),i?o.get(i):o}},nd=ed("text/csv",Up),rd=ed("text/tab-separated-values",Wp),id=0,od=0,ad=0,sd=1e3,ud=0,ld=0,cd=0,fd="object"==typeof performance&&performance.now?performance:Date,hd="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};He.prototype=We.prototype={constructor:He,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ve():+n)+(null==e?0:+e),this._next||Lp===this||(Lp?Lp._next=this:jp=this,Lp=this),this._call=t,this._time=n,Ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ke())}};var pd=function(t,e,n){var r=new He;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},dd=function(t,e,n){var r=new He,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Ve():+n,r.restart(function o(a){a+=i,r.restart(o,i+=e,n),t(a)},e,n),r)},md=new Date,vd=new Date,yd=Qe(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});yd.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Qe(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):yd:null};var gd=yd.range,bd=1e3,_d=6e4,xd=36e5,wd=864e5,Md=6048e5,Ed=Qe(function(t){t.setTime(Math.floor(t/bd)*bd)},function(t,e){t.setTime(+t+e*bd)},function(t,e){return(e-t)/bd},function(t){return t.getUTCSeconds()}),Sd=Ed.range,Td=Qe(function(t){t.setTime(Math.floor(t/_d)*_d)},function(t,e){t.setTime(+t+e*_d)},function(t,e){return(e-t)/_d},function(t){return t.getMinutes()}),Cd=Td.range,Pd=Qe(function(t){var e=t.getTimezoneOffset()*_d%xd;e<0&&(e+=xd),t.setTime(Math.floor((+t-e)/xd)*xd+e)},function(t,e){t.setTime(+t+e*xd)},function(t,e){return(e-t)/xd},function(t){return t.getHours()}),kd=Pd.range,Ad=Qe(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_d)/wd},function(t){return t.getDate()-1}),Id=Ad.range,Od=$e(0),Rd=$e(1),Dd=$e(2),Nd=$e(3),jd=$e(4),Ld=$e(5),zd=$e(6),Fd=Od.range,Ud=Rd.range,Bd=Dd.range,Vd=Nd.range,qd=jd.range,Hd=Ld.range,Wd=zd.range,Yd=Qe(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Gd=Yd.range,Xd=Qe(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Xd.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Qe(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Zd=Xd.range,Kd=Qe(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*_d)},function(t,e){return(e-t)/_d},function(t){return t.getUTCMinutes()}),Qd=Kd.range,$d=Qe(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*xd)},function(t,e){return(e-t)/xd},function(t){return t.getUTCHours()}),Jd=$d.range,tm=Qe(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/wd},function(t){return t.getUTCDate()-1}),em=tm.range,nm=Je(0),rm=Je(1),im=Je(2),om=Je(3),am=Je(4),sm=Je(5),um=Je(6),lm=nm.range,cm=rm.range,fm=im.range,hm=om.range,pm=am.range,dm=sm.range,mm=um.range,vm=Qe(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),ym=vm.range,gm=Qe(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});gm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Qe(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var bm,_m=gm.range,xm=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},wm=function(t){return t=xm(Math.abs(t)),t?t[1]:NaN},Mm=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}},Em=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},Sm=function(t,e){var n=xm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(bm=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+xm(t,Math.max(0,e+o-1))[0]},Tm=function(t,e){var n=xm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array((-i)).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Cm={"":Em,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Tm(100*t,e)},r:Tm,s:Sm,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Pm=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,km=function(t){return new tn(t)};tn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Am,Im=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],Om=function(t){function e(t){function e(t){var e,i,u,g=d,b=m;if("c"===p)b=v(t)+b,t="";else{t=+t;var _=(t<0||1/t<0)&&(t*=-1,!0);if(t=v(t,h),_)for(e=-1,i=t.length,_=!1;++e<i;)if(u=t.charCodeAt(e),48<u&&u<58||"x"===p&&96<u&&u<103||"X"===p&&64<u&&u<71){_=!0;break}if(g=(_?"("===s?s:"-":"-"===s||"("===s?"":s)+g,b=b+("s"===p?Im[8+bm/3]:"")+(_&&"("===s?")":""),y)for(e=-1,i=t.length;++e<i;)if(u=t.charCodeAt(e),48>u||u>57){b=(46===u?o+t.slice(e+1):t.slice(e))+b,t=t.slice(0,e);break}}f&&!l&&(t=r(t,1/0));var x=g.length+t.length+b.length,w=x<c?new Array(c-x+1).join(n):"";switch(f&&l&&(t=r(w+t,w.length?c-b.length:1/0),w=""),a){case"<":return g+t+b+w;case"=":return g+w+t+b;case"^":return w.slice(0,x=w.length>>1)+g+t+b+w.slice(x)}return w+g+t+b}t=km(t);var n=t.fill,a=t.align,s=t.sign,u=t.symbol,l=t.zero,c=t.width,f=t.comma,h=t.precision,p=t.type,d="$"===u?i[0]:"#"===u&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",m="$"===u?i[1]:/[%p]/.test(p)?"%":"",v=Cm[p],y=!p||/[defgprs%]/.test(p);return h=null==h?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),e.toString=function(){return t+""},e}function n(t,n){var r=e((t=km(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(wm(n)/3))),o=Math.pow(10,-i),a=Im[8+i/3];return function(t){return r(o*t)+a}}var r=t.grouping&&t.thousands?Mm(t.grouping,t.thousands):en,i=t.currency,o=t.decimal;return{format:e,formatPrefix:n}};nn({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Rm,Dm=function(t){
return Math.max(0,-wm(Math.abs(t)))},Nm=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(wm(e)/3)))-wm(Math.abs(t)))},jm=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wm(e)-wm(t))+1},Lm={"-":"",_:" ",0:"0"},zm=/^\s*\d+/,Fm=/^%/,Um=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;er({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Bm="%Y-%m-%dT%H:%M:%S.%LZ",Vm=Date.prototype.toISOString?nr:t.utcFormat(Bm),qm=+new Date("2000-01-01T00:00:00.000Z")?rr:t.utcParse(Bm),Hm=Array.prototype,Wm=Hm.map,Ym=Hm.slice,Gm={name:"implicit"},Xm=function(t){return function(){return t}},Zm=function(t){return+t},Km=[0,1],Qm=function(e,r,i){var o,a=e[0],s=e[e.length-1],u=n(a,s,null==r?10:r);switch(i=km(null==i?",f":i),i.type){case"s":var l=Math.max(Math.abs(a),Math.abs(s));return null!=i.precision||isNaN(o=Nm(u,l))||(i.precision=o),t.formatPrefix(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=jm(u,Math.max(Math.abs(a),Math.abs(s))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=Dm(u))||(i.precision=o-2*("%"===i.type))}return t.format(i)},$m=function(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t},Jm=1e3,tv=60*Jm,ev=60*tv,nv=24*ev,rv=7*nv,iv=30*nv,ov=365*nv,av=function(){return Rr(Xd,Yd,Od,Ad,Pd,Td,Ed,yd,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},sv=function(){return Rr(gm,vm,nm,tm,$d,Kd,Ed,yd,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},uv=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},lv=uv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),cv=uv("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),fv=uv("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),hv=uv("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),pv=Rp(ce(300,.5,0),ce(-240,.5,1)),dv=Rp(ce(-100,.75,.35),ce(80,1.5,.8)),mv=Rp(ce(260,.75,.35),ce(80,1.5,.8)),vv=ce(),yv=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return vv.h=360*t-100,vv.s=1.5-1.5*e,vv.l=.8-.9*e,vv+""},gv=Dr(uv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),bv=Dr(uv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),_v=Dr(uv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),xv=Dr(uv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),wv="http://www.w3.org/1999/xhtml",Mv={svg:"http://www.w3.org/2000/svg",xhtml:wv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ev=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Mv.hasOwnProperty(e)?{space:Mv[e],local:t}:t},Sv=function(t){var e=Ev(t);return(e.local?Lr:jr)(e)},Tv=0;Fr.prototype=zr.prototype={constructor:Fr,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Cv=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Pv=document.documentElement;if(!Pv.matches){var kv=Pv.webkitMatchesSelector||Pv.msMatchesSelector||Pv.mozMatchesSelector||Pv.oMatchesSelector;Cv=function(t){return function(){return kv.call(this,t)}}}}var Av=Cv,Iv={};if(t.event=null,"undefined"!=typeof document){var Ov=document.documentElement;"onmouseenter"in Ov||(Iv={mouseenter:"mouseover",mouseleave:"mouseout"})}var Rv=function(t,e,n){var r,i,o=Vr(t+""),a=o.length;{if(!(arguments.length<2)){for(s=e?Hr:qr,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}},Dv=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},Nv=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},jv=function(t){var e=Dv();return e.changedTouches&&(e=e.changedTouches[0]),Nv(t,e)},Lv=function(t){return null==t?Yr:function(){return this.querySelector(t)}},zv=function(t){"function"!=typeof t&&(t=Lv(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Ii(r,this._parents)},Fv=function(t){return null==t?Gr:function(){return this.querySelectorAll(t)}},Uv=function(t){"function"!=typeof t&&(t=Fv(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new Ii(r,i)},Bv=function(t){"function"!=typeof t&&(t=Av(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Ii(r,this._parents)},Vv=function(t){return new Array(t.length)},qv=function(){return new Ii(this._enter||this._groups.map(Vv),this._parents)};Xr.prototype={constructor:Xr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Hv=function(t){return function(){return t}},Wv="$",Yv=function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n=e?Kr:Zr,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Hv(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],h=f.length,p=t.call(c,c&&c.__data__,l,r),d=p.length,m=s[l]=new Array(d),v=a[l]=new Array(d),y=u[l]=new Array(h);n(c,f,m,v,y,p,e);for(var g,b,_=0,x=0;_<d;++_)if(g=m[_]){for(_>=x&&(x=_+1);!(b=v[x])&&++x<d;);g._next=b||null}}return a=new Ii(a,r),a._enter=s,a._exit=u,a},Gv=function(){return new Ii(this._exit||this._groups.map(Vv),this._parents)},Xv=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=l[p]||c[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new Ii(a,this._parents)},Zv=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},Kv=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Qr);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new Ii(i,this._parents).order()},Qv=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},$v=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Jv=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},ty=function(){var t=0;return this.each(function(){++t}),t},ey=function(){return!this.node()},ny=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},ry=function(t,e){var n=Ev(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Jr:$r:"function"==typeof e?n.local?ri:ni:n.local?ei:ti)(n,e))},iy=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},oy=function(t,e,n){var r;return arguments.length>1?this.each((null==e?ii:"function"==typeof e?ai:oi)(t,e,null==n?"":n)):iy(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},ay=function(t,e){return arguments.length>1?this.each((null==e?si:"function"==typeof e?li:ui)(t,e)):this.node()[t]};hi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var sy=function(t,e){var n=ci(t+"");if(arguments.length<2){for(var r=fi(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?yi:e?mi:vi)(n,e))},uy=function(t){return arguments.length?this.each(null==t?gi:("function"==typeof t?_i:bi)(t)):this.node().textContent},ly=function(t){return arguments.length?this.each(null==t?xi:("function"==typeof t?Mi:wi)(t)):this.node().innerHTML},cy=function(){return this.each(Ei)},fy=function(){return this.each(Si)},hy=function(t){var e="function"==typeof t?t:Sv(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},py=function(t,e){var n="function"==typeof t?t:Sv(t),r=null==e?Ti:"function"==typeof e?e:Lv(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},dy=function(){return this.each(Ci)},my=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},vy=function(t,e){return this.each(("function"==typeof e?Ai:ki)(t,e))},yy=[null];Ii.prototype=Oi.prototype={constructor:Ii,select:zv,selectAll:Uv,filter:Bv,data:Yv,enter:qv,exit:Gv,merge:Xv,order:Zv,sort:Kv,call:Qv,nodes:$v,node:Jv,size:ty,empty:ey,each:ny,attr:ry,style:oy,property:ay,classed:sy,text:uy,html:ly,raise:cy,lower:fy,append:hy,insert:py,remove:dy,datum:my,on:Rv,dispatch:vy};var gy=function(t){return"string"==typeof t?new Ii([[document.querySelector(t)]],[document.documentElement]):new Ii([[t]],yy)},by=function(t){return"string"==typeof t?new Ii([document.querySelectorAll(t)],[document.documentElement]):new Ii([null==t?[]:t],yy)},_y=function(t,e,n){arguments.length<3&&(n=e,e=Dv().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Nv(t,r);return null},xy=function(t,e){null==e&&(e=Dv().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Nv(t,e[n]);return i},wy=Ie("start","end","interrupt"),My=[],Ey=0,Sy=1,Ty=2,Cy=3,Py=4,ky=5,Ay=6,Iy=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};ji(t,n,{name:e,index:r,group:i,on:wy,tween:My,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ey})},Oy=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(i in o)(n=o[i]).name===e?(r=n.state>Ty&&n.state<ky,n.state=Ay,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},Ry=function(t){return this.each(function(){Oy(this,t)})},Dy=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ni(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Li:zi)(n,t,e))},Ny=function(t,e){var n;return("number"==typeof e?fp:e instanceof Vt?ap:(n=Vt(e))?(e=n,ap):mp)(t,e)},jy=function(t,e){var n=Ev(t),r="transform"===n?wp:Ny;return this.attrTween(t,"function"==typeof e?(n.local?Wi:Hi)(n,r,Fi(this,"attr."+t,e)):null==e?(n.local?Bi:Ui)(n):(n.local?qi:Vi)(n,r,e))},Ly=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ev(t);return this.tween(n,(r.local?Yi:Gi)(r,e))},zy=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xi:Zi)(e,t)):Ni(this.node(),e).delay},Fy=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ki:Qi)(e,t)):Ni(this.node(),e).duration},Uy=function(t){var e=this._id;return arguments.length?this.each($i(e,t)):Ni(this.node(),e).ease},By=function(t){"function"!=typeof t&&(t=Av(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new lo(r,this._parents,this._name,this._id)},Vy=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=l[p]||c[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new lo(a,this._parents,this._name,this._id)},qy=function(t,e){var n=this._id;return arguments.length<2?Ni(this.node(),n).on.on(t):this.each(to(n,t,e))},Hy=function(){return this.on("end.remove",eo(this._id))},Wy=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Lv(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=l[h])&&(u=t.call(s,s.__data__,h,l))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,Iy(f[h],e,n,h,f,Ni(s,n)));return new lo(o,this._parents,e,n)},Yy=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Fv(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var h,p=t.call(u,u.__data__,f,l),d=Ni(u,n),m=0,v=p.length;m<v;++m)(h=p[m])&&Iy(h,e,n,m,p,d);o.push(p),a.push(u)}return new lo(o,a,e,n)},Gy=Oi.prototype.constructor,Xy=function(){return new Gy(this._groups,this._parents)},Zy=function(t,e,n){var r="transform"==(t+="")?xp:Ny;return null==e?this.styleTween(t,no(t,r)).on("end.style."+t,ro(t)):this.styleTween(t,"function"==typeof e?oo(t,r,Fi(this,"style."+t,e)):io(t,r,e),n)},Ky=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,ao(t,e,null==n?"":n))},Qy=function(t){return this.tween("text","function"==typeof t?uo(Fi(this,"text",t)):so(null==t?"":t+""))},$y=function(){for(var t=this._name,e=this._id,n=fo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Ni(a,e);Iy(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new lo(r,this._parents,t,n)},Jy=0,tg=Oi.prototype;lo.prototype=co.prototype={constructor:lo,select:Wy,selectAll:Yy,filter:By,merge:Vy,selection:Xy,transition:$y,call:tg.call,nodes:tg.nodes,node:tg.node,size:tg.size,empty:tg.empty,each:tg.each,on:qy,attr:jy,attrTween:Ly,style:Zy,styleTween:Ky,text:Qy,remove:Hy,tween:Dy,delay:zy,duration:Fy,ease:Uy};var eg={time:null,delay:0,duration:250,ease:g},ng=function(t){var e,n;t instanceof lo?(e=t._id,t=t._name):(e=fo(),(n=eg).time=Ve(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Iy(a,t,e,l,s,n||ho(a,e));return new lo(r,this._parents,t,e)};Oi.prototype.interrupt=Ry,Oi.prototype.transition=ng;var rg=[null],ig=function(t,e){var n,r,i=t.__transition;if(i){e=null==e?null:e+"";for(r in i)if((n=i[r]).state>Sy&&n.name===e)return new lo([[t]],rg,e,(+r))}return null},og=Array.prototype.slice,ag=function(t){return t},sg=1,ug=2,lg=3,cg=4,fg=1e-6,hg=function(){function t(t){var o,a=0;t.eachAfter(function(t){var n=t.children;n?(t.x=Eo(n),t.y=To(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)});var s=Po(t),u=ko(t),l=s.x-e(s,u)/2,c=u.x+e(u,s)/2;return t.eachAfter(i?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*r}:function(e){e.x=(e.x-l)/(c-l)*n,e.y=(1-(t.y?e.y/t.y:1))*r})}var e=Mo,n=1,r=1,i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(i=!1,n=+e[0],r=+e[1],t):i?null:[n,r]},t.nodeSize=function(e){return arguments.length?(i=!0,n=+e[0],r=+e[1],t):i?[n,r]:null},t},pg=function(t){var e,n,r,i,o=this,a=[o];do for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);while(a.length);return this},dg=function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},mg=function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},vg=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},yg=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},gg=function(t){for(var e=this,n=Ao(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},bg=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},_g=function(){var t=[];return this.each(function(e){t.push(e)}),t},xg=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},wg=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};jo.prototype=Io.prototype={constructor:jo,each:pg,eachAfter:mg,eachBefore:dg,sum:vg,sort:yg,path:gg,ancestors:bg,descendants:_g,leaves:xg,links:wg,copy:Oo};var Mg=function(t){for(var e,n=(t=t.slice()).length,r=null,i=r;n;){var o=new Lo(t[n-1]);i=i?i.next=o:r=o,t[e]=t[--n]}return{head:r,tail:i}},Eg=function(t){return Fo(Mg(t),[])},Sg=function(t){return Go(t),t},Tg=function(t){return function(){return t}},Cg=function(){function t(t){return t.x=n/2,t.y=r/2,e?t.eachBefore($o(e)).eachAfter(Jo(i,.5)).eachBefore(ta(1)):t.eachBefore($o(Qo)).eachAfter(Jo(Ko,1)).eachAfter(Jo(i,t.r/Math.min(n,r))).eachBefore(ta(Math.min(n,r)/(2*t.r))),t}var e=null,n=1,r=1,i=Ko;return t.radius=function(n){return arguments.length?(e=Xo(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:Tg(+e),t):i},t},Pg=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},kg=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l},Ag=function(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=r/a,t.eachBefore(e(r,a)),o&&t.eachBefore(Pg),t}function e(t,e){return function(n){n.children&&kg(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,a=n.x1-i,s=n.y1-i;a<r&&(r=a=(r+a)/2),s<o&&(o=s=(o+s)/2),n.x0=r,n.y0=o,n.x1=a,n.y1=s}}var n=1,r=1,i=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},Ig="$",Og={depth:-1},Rg={},Dg=function(){function t(t){var r,i,o,a,s,u,l,c=t.length,f=new Array(c),h={};for(i=0;i<c;++i)r=t[i],s=f[i]=new jo(r),null!=(u=e(r,i,t))&&(u+="")&&(l=Ig+(s.id=u),h[l]=l in h?Rg:s);for(i=0;i<c;++i)if(s=f[i],u=n(t[i],i,t),null!=u&&(u+="")){if(a=h[Ig+u],!a)throw new Error("missing: "+u);if(a===Rg)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Og,o.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(No),o.parent=null,c>0)throw new Error("cycle");return o}var e=ea,n=na;return t.id=function(n){return arguments.length?(e=Zo(n),t):e},t.parentId=function(e){return arguments.length?(n=Zo(e),t):n},t};la.prototype=Object.create(jo.prototype);var Ng=function(){function t(t){var r=ca(t);if(r.eachAfter(e),r.parent.m=-r.z,r.eachBefore(n),u)t.eachBefore(i);else{var l=t,c=t,f=t;t.eachBefore(function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)});var h=l===c?1:o(l,c)/2,p=h-l.x,d=a/(c.x+h+p),m=s/(f.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*m})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){sa(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+o(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var r,i=t,a=t,s=e,u=i.parent.children[0],l=i.m,c=a.m,f=s.m,h=u.m;s=oa(s),i=ia(i),s&&i;)u=ia(u),a=oa(a),a.a=t,r=s.z+f-i.z-l+o(s._,i._),r>0&&(aa(ua(s,t,n),t,r),l+=r,c+=r),f+=s.m,l+=i.m,h+=u.m,c+=a.m;s&&!oa(a)&&(a.t=s,a.m+=f-c),i&&!ia(u)&&(u.t=i,u.m+=l-h,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*s}var o=ra,a=1,s=1,u=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(u=!1,a=+e[0],s=+e[1],t):u?null:[a,s]},t.nodeSize=function(e){return arguments.length?(u=!0,a=+e[0],s=+e[1],t):u?[a,s]:null},t},jg=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},Lg=(1+Math.sqrt(5))/2,zg=function Uw(t){function e(e,n,r,i,o){fa(t,e,n,r,i,o)}return e.ratio=function(t){return Uw((t=+t)>1?t:1)},e}(Lg),Fg=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(e),a=[0],r&&t.eachBefore(Pg),t}function e(t){var e=a[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,h=t.y1-e;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(e=a[t.depth+1]=s(t)/2,r+=f(t)-e,i+=u(t)-e,o-=l(t)-e,h-=c(t)-e,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),n(t,r,i,o,h))}var n=zg,r=!1,i=1,o=1,a=[0],s=Ko,u=Ko,l=Ko,c=Ko,f=Ko;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.tile=function(e){return arguments.length?(n=Zo(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:Tg(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:Tg(+e),t):u},t.paddingRight=function(e){return arguments.length?(l="function"==typeof e?e:Tg(+e),t):l},t.paddingBottom=function(e){return arguments.length?(c="function"==typeof e?e:Tg(+e),t):c},t.paddingLeft=function(e){return arguments.length?(f="function"==typeof e?e:Tg(+e),t):f},t},Ug=function(t,e,n,r,i){function o(t,e,n,r,i,a,s){if(t>=e-1){var l=u[t];return l.x0=r,l.y0=i,l.x1=a,l.y1=s,void 0}for(var f=c[t],h=n/2+f,p=t+1,d=e-1;p<d;){var m=p+d>>>1;c[m]<h?p=m+1:d=m}var v=c[p]-f,y=n-v;if(s-i>a-r){var g=(i*y+s*v)/n;o(t,p,v,r,i,a,g),o(p,e,y,r,g,a,s)}else{var b=(r*y+a*v)/n;o(t,p,v,r,i,b,s),o(p,e,y,b,i,a,s)}}var a,s,u=t.children,l=u.length,c=new Array(l+1);for(c[0]=s=a=0;a<l;++a)c[a+1]=s+=u[a].value;o(0,l,t.value,e,n,r,i)},Bg=function(t,e,n,r,i){(1&t.depth?jg:kg)(t,e,n,r,i)},Vg=function Bw(t){function e(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,u,l,c,f=-1,h=a.length,p=e.value;++f<h;){for(s=a[f],u=s.children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?kg(s,n,r,i,r+=(o-r)*s.value/p):jg(s,n,r,n+=(i-n)*s.value/p,o),p-=s.value}else e._squarify=a=fa(t,e,n,r,i,o),a.ratio=t}return e.ratio=function(t){return Bw((t=+t)>1?t:1)},e}(Lg),qg=function(t,e){function n(){var n,i,o=r.length,a=0,s=0;for(n=0;n<o;++n)i=r[n],a+=i.x,s+=i.y;for(a=a/o-t,s=s/o-e,n=0;n<o;++n)i=r[n],i.x-=a,i.y-=s}var r;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){r=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},Hg=function(t){return function(){return t}},Wg=function(){return 1e-6*(Math.random()-.5)},Yg=function(t){function e(){function t(t,n,r,i,o){var s=t.data,p=t.r,d=f+p;{if(!s)return n>l+d||i<l-d||r>c+d||o<c-d;if(s.index>e){var m=l-s.x-s.vx,v=c-s.y-s.vy,y=m*m+v*v;y<d*d&&(0===m&&(m=Wg(),y+=m*m),0===v&&(v=Wg(),y+=v*v),y=(d-(y=Math.sqrt(y)))/y*a,u.vx+=(m*=y)*(d=(p*=p)/(h+p)),u.vy+=(v*=y)*d,s.vx-=m*(d=1-d),s.vy-=v*d)}}}for(var e,r,u,l,c,f,h,p=i.length,d=0;d<s;++d)for(r=U(i,ha,pa).visitAfter(n),e=0;e<p;++e)u=i[e],f=o[e],h=f*f,l=u.x+u.vx,c=u.y+u.vy,r.visit(t)}function n(t){if(t.data)return t.r=o[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function r(){if(i){var e,n=i.length;for(o=new Array(n),e=0;e<n;++e)o[e]=+t(i[e],e,i)}}var i,o,a=1,s=1;return"function"!=typeof t&&(t=Hg(null==t?1:+t)),e.initialize=function(t){i=t,r()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(a=+t,e):a},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:Hg(+n),r(),e):t},e},Gg=function(t){function e(t){return 1/Math.min(c[t.source.index],c[t.target.index])}function n(e){for(var n=0,r=t.length;n<m;++n)for(var i,o,a,l,c,h,p,d=0;d<r;++d)i=t[d],o=i.source,a=i.target,l=a.x+a.vx-o.x-o.vx||Wg(),c=a.y+a.vy-o.y-o.vy||Wg(),h=Math.sqrt(l*l+c*c),h=(h-u[d])/h*e*s[d],l*=h,c*=h,a.vx-=l*(p=f[d]),a.vy-=c*p,o.vx+=l*(p=1-p),o.vy+=c*p}function r(){if(l){var e,n,r=l.length,p=t.length,d=o(l,h);for(e=0,c=new Array(r);e<r;++e)c[e]=0;for(e=0;e<p;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=ma(d,n.source)),"object"!=typeof n.target&&(n.target=ma(d,n.target)),++c[n.source.index],++c[n.target.index];for(e=0,f=new Array(p);e<p;++e)n=t[e],f[e]=c[n.source.index]/(c[n.source.index]+c[n.target.index]);s=new Array(p),i(),u=new Array(p),a()}}function i(){if(l)for(var e=0,n=t.length;e<n;++e)s[e]=+p(t[e],e,t)}function a(){if(l)for(var e=0,n=t.length;e<n;++e)u[e]=+d(t[e],e,t)}var s,u,l,c,f,h=da,p=e,d=Hg(30),m=1;return null==t&&(t=[]),n.initialize=function(t){l=t,r()},n.links=function(e){return arguments.length?(t=e,
r(),n):t},n.id=function(t){return arguments.length?(h=t,n):h},n.iterations=function(t){return arguments.length?(m=+t,n):m},n.strength=function(t){return arguments.length?(p="function"==typeof t?t:Hg(+t),i(),n):p},n.distance=function(t){return arguments.length?(d="function"==typeof t?t:Hg(+t),a(),n):d},n},Xg=10,Zg=Math.PI*(3-Math.sqrt(5)),Kg=function(t){function e(){n(),d.call("tick",a),s<u&&(p.stop(),d.call("end",a))}function n(){var e,n,r=t.length;for(s+=(c-s)*l,h.each(function(t){t(s)}),e=0;e<r;++e)n=t[e],null==n.fx?n.x+=n.vx*=f:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=f:(n.y=n.fy,n.vy=0)}function r(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=Xg*Math.sqrt(n),o=n*Zg;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function i(e){return e.initialize&&e.initialize(t),e}var a,s=1,u=.001,l=1-Math.pow(u,1/300),c=0,f=.6,h=o(),p=We(e),d=Ie("tick","end");return null==t&&(t=[]),r(),a={tick:n,restart:function(){return p.restart(e),a},stop:function(){return p.stop(),a},nodes:function(e){return arguments.length?(t=e,r(),h.each(i),a):t},alpha:function(t){return arguments.length?(s=+t,a):s},alphaMin:function(t){return arguments.length?(u=+t,a):u},alphaDecay:function(t){return arguments.length?(l=+t,a):+l},alphaTarget:function(t){return arguments.length?(c=+t,a):c},velocityDecay:function(t){return arguments.length?(f=1-t,a):1-f},force:function(t,e){return arguments.length>1?(null==e?h.remove(t):h.set(t,i(e)),a):h.get(t)},find:function(e,n,r){var i,o,a,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)s=t[l],i=e-s.x,o=n-s.y,a=i*i+o*o,a<r&&(u=s,r=a);return u},on:function(t,e){return arguments.length>1?(d.on(t,e),a):d.on(t)}}},Qg=function(){function t(t){var e,s=i.length,u=U(i,va,ya).visitAfter(n);for(a=t,e=0;e<s;++e)o=i[e],u.visit(r)}function e(){if(i){var t,e=i.length;for(s=new Array(e),t=0;t<e;++t)s[t]=+u(i[t],t,i)}}function n(t){var e,n,r,i,o,a=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=e.value)&&(a+=n,r+=n*e.x,i+=n*e.y);t.x=r/a,t.y=i/a}else{e=t,e.x=e.data.x,e.y=e.data.y;do a+=s[e.data.index];while(e=e.next)}t.value=a}function r(t,e,n,r){if(!t.value)return!0;var i=t.x-o.x,u=t.y-o.y,h=r-e,p=i*i+u*u;if(h*h/f<p)return p<c&&(0===i&&(i=Wg(),p+=i*i),0===u&&(u=Wg(),p+=u*u),p<l&&(p=Math.sqrt(l*p)),o.vx+=i*t.value*a/p,o.vy+=u*t.value*a/p),!0;if(!(t.length||p>=c)){(t.data!==o||t.next)&&(0===i&&(i=Wg(),p+=i*i),0===u&&(u=Wg(),p+=u*u),p<l&&(p=Math.sqrt(l*p)));do t.data!==o&&(h=s[t.data.index]*a/p,o.vx+=i*h,o.vy+=u*h);while(t=t.next)}}var i,o,a,s,u=Hg(-30),l=1,c=1/0,f=.81;return t.initialize=function(t){i=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:Hg(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.distanceMax=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.theta=function(e){return arguments.length?(f=e*e,t):Math.sqrt(f)},t},$g=function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)e=r[n],e.vx+=(o[n]-e.x)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=Hg(.1);return"function"!=typeof t&&(t=Hg(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:Hg(+t),n(),e):a},e.x=function(r){return arguments.length?(t="function"==typeof r?r:Hg(+r),n(),e):t},e},Jg=function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)e=r[n],e.vy+=(o[n]-e.y)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=Hg(.1);return"function"!=typeof t&&(t=Hg(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:Hg(+t),n(),e):a},e.y=function(r){return arguments.length?(t="function"==typeof r?r:Hg(+r),n(),e):t},e},tb=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},eb=function(t){var e=t.document.documentElement,n=gy(t).on("dragstart.drag",tb,!0);"onselectstart"in e?n.on("selectstart.drag",tb,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},nb=function(t){return function(){return t}};_a.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var rb=function(){function e(t){t.on("mousedown.drag",n).on("touchstart.drag",o).on("touchmove.drag",a).on("touchend.drag touchcancel.drag",s).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!c&&f.apply(this,arguments)){var e=u("mouse",h.apply(this,arguments),jv,this,arguments);e&&(gy(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),eb(t.event.view),ga(),l=!1,e("start"))}}function r(){tb(),l=!0,d.mouse("drag")}function i(){gy(t.event.view).on("mousemove.drag mouseup.drag",null),ba(t.event.view,l),tb(),d.mouse("end")}function o(){if(f.apply(this,arguments)){var e,n,r=t.event.changedTouches,i=h.apply(this,arguments),o=r.length;for(e=0;e<o;++e)(n=u(r[e].identifier,i,_y,this,arguments))&&(ga(),n("start"))}}function a(){var e,n,r=t.event.changedTouches,i=r.length;for(e=0;e<i;++e)(n=d[r[e].identifier])&&(tb(),n("drag"))}function s(){var e,n,r=t.event.changedTouches,i=r.length;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),e=0;e<i;++e)(n=d[r[e].identifier])&&(ga(),n("end"))}function u(n,r,i,o,a){var s,u,l,c=i(r,n),f=m.copy();if(Wr(new _a(e,"beforestart",s,n,v,c[0],c[1],0,0,f),function(){return null!=(t.event.subject=s=p.apply(o,a))&&(u=s.x-c[0]||0,l=s.y-c[1]||0,!0)}))return function h(t){var p,m=c;switch(t){case"start":d[n]=h,p=v++;break;case"end":delete d[n],--v;case"drag":c=i(r,n),p=v}Wr(new _a(e,t,s,n,p,c[0]+u,c[1]+l,c[0]-m[0],c[1]-m[1],f),f.apply,f,[t,o,a])}}var l,c,f=xa,h=wa,p=Ma,d={},m=Ie("start","drag","end"),v=0;return e.filter=function(t){return arguments.length?(f="function"==typeof t?t:nb(!!t),e):f},e.container=function(t){return arguments.length?(h="function"==typeof t?t:nb(t),e):h},e.subject=function(t){return arguments.length?(p="function"==typeof t?t:nb(t),e):p},e.on=function(){var t=m.on.apply(m,arguments);return t===m?e:t},e},ib=function(t){return function(){return t}};Ta.prototype={constructor:Ta,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Aa(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Pa(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ka(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ka(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Pa(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Aa(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,Pa(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ka(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Pa(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,ka(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Pa(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ka(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ob,ab,sb,ub,lb,cb=[],fb=[],hb=1e-6,pb=1e-12;es.prototype={constructor:es,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Fa(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){for(var i,o=n.site,a=n.halfedges,s=-1,u=a.length,l=e[a[u-1]],c=l.left===o?l.right:l.left;++s<u;)i=c,l=e[a[s]],c=l.left===o?l.right:l.left,i&&c&&r<i.index&&r<c.index&&Ja(o,i,c)<0&&t.push([o.data,i.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){var r,i=this,o=i._found||0,a=i.cells[o]||i.cells[o=0],s=t-a.site[0],u=e-a.site[1],l=s*s+u*u;do a=i.cells[r=o],o=null,a.halfedges.forEach(function(n){var r=i.edges[n],s=r.left;if(s!==a.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],f=u*u+c*c;f<l&&(l=f,o=s.index)}});while(null!==o);return i._found=r,null==n||l<=n*n?a.site:null}};var db=function(){function t(t){return new es(t.map(function(r,i){var o=[Math.round(e(r,i,t)/hb)*hb,Math.round(n(r,i,t)/hb)*hb];return o.index=i,o.data=r,o}),r)}var e=Ea,n=Sa,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:ib(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:ib(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},mb=function(t){return function(){return t}};rs.prototype={constructor:rs,scale:function(t){return 1===t?this:new rs(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new rs(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vb=new rs(1,0,0);is.prototype=rs.prototype;var yb=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},gb=function(){function e(t){t.on("wheel.zoom",l).on("mousedown.zoom",c).on("dblclick.zoom",f).on("touchstart.zoom",h).on("touchmove.zoom",p).on("touchend.zoom touchcancel.zoom",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",us)}function n(t,e){return e=Math.max(b,Math.min(_,e)),e===t.k?t:new rs(e,t.x,t.y)}function r(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new rs(t.k,r,i)}function i(t,e){var n=Math.min(0,t.invertX(e[0][0])-x)||Math.max(0,t.invertX(e[1][0])-w),r=Math.min(0,t.invertY(e[0][1])-M)||Math.max(0,t.invertY(e[1][1])-E);return n||r?t.translate(n,r):t}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function a(t,e,n){t.on("start.zoom",function(){s(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){s(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,i=s(t,r),a=g.apply(t,r),u=n||o(a),l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,r):e,h=Cp(c.invert(u).concat(l/c.k),f.invert(u).concat(l/f.k));return function(t){if(1===t)t=f;else{var e=h(t),n=l/e[2];t=new rs(n,u[0]-e[0]*n,u[1]-e[1]*n)}i.zoom(null,t)}})}function s(t,e){for(var n,r=0,i=T.length;r<i;++r)if((n=T[r]).that===t)return n;return new u(t,e)}function u(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=g.apply(t,e)}function l(){function e(){o.wheel=null,o.end()}if(y.apply(this,arguments)){var o=s(this,arguments),a=this.__zoom,u=Math.max(b,Math.min(_,a.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),l=jv(this);if(o.wheel)o.mouse[0][0]===l[0]&&o.mouse[0][1]===l[1]||(o.mouse[1]=a.invert(o.mouse[0]=l)),clearTimeout(o.wheel);else{if(a.k===u)return;o.mouse=[l,a.invert(l)],Oy(this),o.start()}yb(),o.wheel=setTimeout(e,k),o.zoom("mouse",i(r(n(a,u),o.mouse[0],o.mouse[1]),o.extent))}}function c(){function e(){yb(),o.moved=!0,o.zoom("mouse",i(r(o.that.__zoom,o.mouse[0]=jv(o.that),o.mouse[1]),o.extent))}function n(){a.on("mousemove.zoom mouseup.zoom",null),ba(t.event.view,o.moved),yb(),o.end()}if(!v&&y.apply(this,arguments)){var o=s(this,arguments),a=gy(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),u=jv(this);eb(t.event.view),os(),o.mouse=[u,this.__zoom.invert(u)],Oy(this),o.start()}}function f(){if(y.apply(this,arguments)){var o=this.__zoom,s=jv(this),u=o.invert(s),l=o.k*(t.event.shiftKey?.5:2),c=i(r(n(o,l),s,u),g.apply(this,arguments));yb(),S>0?gy(this).transition().duration(S).call(a,c,s):gy(this).call(e.transform,c)}}function h(){if(y.apply(this,arguments)){var e,n,r,i=s(this,arguments),o=t.event.changedTouches,a=o.length;for(os(),e=0;e<a;++e)n=o[e],r=_y(this,o,n.identifier),r=[r,this.__zoom.invert(r),n.identifier],i.touch0?i.touch1||(i.touch1=r):i.touch0=r;return m&&(m=clearTimeout(m),!i.touch1)?(i.end(),f.apply(this,arguments)):void(t.event.touches.length===a&&(m=setTimeout(function(){m=null},P),Oy(this),i.start()))}}function p(){var e,o,a,u,l=s(this,arguments),c=t.event.changedTouches,f=c.length;for(yb(),m&&(m=clearTimeout(m)),e=0;e<f;++e)o=c[e],a=_y(this,c,o.identifier),l.touch0&&l.touch0[2]===o.identifier?l.touch0[0]=a:l.touch1&&l.touch1[2]===o.identifier&&(l.touch1[0]=a);if(o=l.that.__zoom,l.touch1){var h=l.touch0[0],p=l.touch0[1],d=l.touch1[0],v=l.touch1[1],y=(y=d[0]-h[0])*y+(y=d[1]-h[1])*y,g=(g=v[0]-p[0])*g+(g=v[1]-p[1])*g;o=n(o,Math.sqrt(y/g)),a=[(h[0]+d[0])/2,(h[1]+d[1])/2],u=[(p[0]+v[0])/2,(p[1]+v[1])/2]}else{if(!l.touch0)return;a=l.touch0[0],u=l.touch0[1]}l.zoom("touch",i(r(o,a,u),l.extent))}function d(){var e,n,r=s(this,arguments),i=t.event.changedTouches,o=i.length;for(os(),v&&clearTimeout(v),v=setTimeout(function(){v=null},P),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0||r.end()}var m,v,y=as,g=ss,b=0,_=1/0,x=-_,w=_,M=x,E=w,S=250,T=[],C=Ie("start","zoom","end"),P=500,k=150;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",us),t!==n?a(t,e):n.interrupt().each(function(){s(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e})},e.scaleTo=function(t,a){e.transform(t,function(){var t=g.apply(this,arguments),e=this.__zoom,s=o(t),u=e.invert(s),l="function"==typeof a?a.apply(this,arguments):a;return i(r(n(e,l),s,u),t)})},e.translateBy=function(t,n,r){e.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),g.apply(this,arguments))})},u.prototype={start:function(){return 1===++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Wr(new ns(e,t,this.that.__zoom),C.apply,C,[t,this.that,this.args])}},e.filter=function(t){return arguments.length?(y="function"==typeof t?t:mb(!!t),e):y},e.extent=function(t){return arguments.length?(g="function"==typeof t?t:mb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):g},e.scaleExtent=function(t){return arguments.length?(b=+t[0],_=+t[1],e):[b,_]},e.translateExtent=function(t){return arguments.length?(x=+t[0][0],w=+t[1][0],M=+t[0][1],E=+t[1][1],e):[[x,M],[w,E]]},e.duration=function(t){return arguments.length?(S=+t,e):S},e.on=function(){var t=C.on.apply(C,arguments);return t===C?e:t},e},bb=function(t){return function(){return t}},_b=function(t,e,n){this.target=t,this.type=e,this.selection=n},xb=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},wb={name:"drag"},Mb={name:"space"},Eb={name:"handle"},Sb={name:"center"},Tb={name:"x",handles:["e","w"].map(cs),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Cb={name:"y",handles:["n","s"].map(cs),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Pb={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(cs),input:function(t){return t},output:function(t){return t}},kb={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ab={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ib={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ob={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Rb={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Db=function(){return gs(Pb)},Nb=Math.cos,jb=Math.sin,Lb=Math.PI,zb=Lb/2,Fb=2*Lb,Ub=Math.max,Bb=function(){function t(t){var o,a,s,u,l,c,f=t.length,h=[],p=zl(f),d=[],m=[],v=m.groups=new Array(f),y=new Array(f*f);for(o=0,l=-1;++l<f;){for(a=0,c=-1;++c<f;)a+=t[l][c];h.push(a),d.push(zl(f)),o+=a}for(n&&p.sort(function(t,e){return n(h[t],h[e])}),r&&d.forEach(function(e,n){e.sort(function(e,i){return r(t[n][e],t[n][i])})}),o=Ub(0,Fb-e*f)/o,u=o?e:Fb/f,a=0,l=-1;++l<f;){for(s=a,c=-1;++c<f;){var g=p[l],b=d[g][c],_=t[g][b],x=a,w=a+=_*o;y[b*f+g]={index:g,subindex:b,startAngle:x,endAngle:w,value:_}}v[g]={index:g,startAngle:s,endAngle:a,value:h[g]},a+=u}for(l=-1;++l<f;)for(c=l-1;++c<f;){var M=y[c*f+l],E=y[l*f+c];(M.value||E.value)&&m.push(M.value<E.value?{source:E,target:M}:{source:M,target:E})}return i?m.sort(i):m}var e=0,n=null,r=null,i=null;return t.padAngle=function(n){return arguments.length?(e=Ub(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(r=e,t):r},t.sortChords=function(e){return arguments.length?(null==e?i=null:(i=bs(e))._=e,t):i&&i._},t},Vb=Array.prototype.slice,qb=function(t){return function(){return t}},Hb=function(){function t(){var t,s=Vb.call(arguments),u=e.apply(this,s),l=n.apply(this,s),c=+r.apply(this,(s[0]=u,s)),f=i.apply(this,s)-zb,h=o.apply(this,s)-zb,p=c*Nb(f),d=c*jb(f),m=+r.apply(this,(s[0]=l,s)),v=i.apply(this,s)-zb,y=o.apply(this,s)-zb;if(a||(a=t=D()),a.moveTo(p,d),a.arc(0,0,c,f,h),f===v&&h===y||(a.quadraticCurveTo(0,0,m*Nb(v),m*jb(v)),a.arc(0,0,m,v,y)),a.quadraticCurveTo(0,0,p,d),a.closePath(),t)return a=null,t+""||null}var e=_s,n=xs,r=ws,i=Ms,o=Es,a=null;return t.radius=function(e){return arguments.length?(r="function"==typeof e?e:qb(+e),t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:qb(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:qb(+e),t):o},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t},Wb=function(){return new Ss};Ss.prototype={constructor:Ss,reset:function(){this.s=this.t=0},add:function(t){Ts(M_,t,this.t),Ts(this,M_.s,this.s),this.s?this.t+=M_.t:this.s=M_.t},valueOf:function(){return this.s}};var Yb,Gb,Xb,Zb,Kb,Qb,$b,Jb,t_,e_,n_,r_,i_,o_,a_,s_,u_,l_,c_,f_,h_,p_,d_,m_,v_,y_,g_,b_,__,x_,w_,M_=new Ss,E_=1e-6,S_=1e-12,T_=Math.PI,C_=T_/2,P_=T_/4,k_=2*T_,A_=180/T_,I_=T_/180,O_=Math.abs,R_=Math.atan,D_=Math.atan2,N_=Math.cos,j_=Math.ceil,L_=Math.exp,z_=Math.log,F_=Math.pow,U_=Math.sin,B_=Math.sign||function(t){return t>0?1:t<0?-1:0},V_=Math.sqrt,q_=Math.tan,H_={Feature:function(t,e){Is(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Is(n[r].geometry,e)}},W_={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Os(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Os(n[r],e,0)},Polygon:function(t,e){Rs(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Rs(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Is(n[r],e)}},Y_=function(t,e){t&&H_.hasOwnProperty(t.type)?H_[t.type](t,e):Is(t,e)},G_=Wb(),X_=Wb(),Z_={point:As,lineStart:As,lineEnd:As,polygonStart:function(){G_.reset(),Z_.lineStart=Ds,Z_.lineEnd=Ns},polygonEnd:function(){var t=+G_;X_.add(t<0?k_+t:t),this.lineStart=this.lineEnd=this.point=As},sphere:function(){X_.add(k_)}},K_=function(t){return X_.reset(),Y_(t,Z_),2*X_},Q_=Wb(),$_={point:Ws,lineStart:Gs,lineEnd:Xs,polygonStart:function(){$_.point=Zs,$_.lineStart=Ks,$_.lineEnd=Qs,Q_.reset(),Z_.polygonStart()},polygonEnd:function(){Z_.polygonEnd(),$_.point=Ws,$_.lineStart=Gs,$_.lineEnd=Xs,G_<0?(Qb=-(Jb=180),$b=-(t_=90)):Q_>E_?t_=90:Q_<-E_&&($b=-90),a_[0]=Qb,a_[1]=Jb}},J_=function(t){var e,n,r,i,o,a,s;if(t_=Jb=-(Qb=$b=1/0),o_=[],Y_(t,$_),n=o_.length){for(o_.sort(Js),e=1,r=o_[0],o=[r];e<n;++e)i=o_[e],tu(r,i[0])||tu(r,i[1])?($s(r[0],i[1])>$s(r[0],r[1])&&(r[1]=i[1]),$s(i[0],r[1])>$s(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-(1/0),n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(s=$s(r[1],i[0]))>a&&(a=s,Qb=i[0],Jb=r[1])}return o_=a_=null,Qb===1/0||$b===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qb,$b],[Jb,t_]]},tx={sphere:As,point:eu,lineStart:ru,lineEnd:au,polygonStart:function(){tx.lineStart=su,tx.lineEnd=uu},polygonEnd:function(){tx.lineStart=ru,tx.lineEnd=au}},ex=function(t){s_=u_=l_=c_=f_=h_=p_=d_=m_=v_=y_=0,Y_(t,tx);var e=m_,n=v_,r=y_,i=e*e+n*n+r*r;return i<S_&&(e=h_,n=p_,r=d_,u_<E_&&(e=l_,n=c_,r=f_),i=e*e+n*n+r*r,i<S_)?[NaN,NaN]:[D_(n,e)*A_,Ps(r/V_(i))*A_]},nx=function(t){return function(){return t}},rx=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n};fu.invert=fu;var ix,ox,ax,sx,ux,lx,cx,fx,hx,px,dx,mx=function(t){function e(e){return e=t(e[0]*I_,e[1]*I_),e[0]*=A_,e[1]*=A_,e}return t=hu(t[0]*I_,t[1]*I_,t.length>2?t[2]*I_:0),e.invert=function(e){return e=t.invert(e[0]*I_,e[1]*I_),e[0]*=A_,e[1]*=A_,e},e},vx=function(){function t(t,e){n.push(t=r(t,e)),t[0]*=A_,t[1]*=A_}function e(){var t=i.apply(this,arguments),e=o.apply(this,arguments)*I_,u=a.apply(this,arguments)*I_;return n=[],r=hu(-t[0]*I_,-t[1]*I_,0).invert,vu(s,e,u,1),t={type:"Polygon",coordinates:[n]},n=r=null,t}var n,r,i=nx([0,0]),o=nx(90),a=nx(6),s={point:t};return e.center=function(t){return arguments.length?(i="function"==typeof t?t:nx([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:nx(+t),e):o},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:nx(+t),e):a},e},yx=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:As,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},gx=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=e[0],c=e[1],f=0,h=1,p=l-s,d=c-u;if(a=n-s,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=i-s,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<h&&(h=a)}if(a=r-u,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>f&&(f=a)}if(a=o-u,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<h&&(h=a)}return f>0&&(t[0]=s+f*p,t[1]=u+f*d),h<1&&(e[0]=s+h*p,e[1]=u+h*d),!0}}}}},bx=function(t,e){return O_(t[0]-e[0])<E_&&O_(t[1]-e[1])<E_},_x=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(bx(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}s.push(n=new gu(r,t,null,(!0))),u.push(n.o=new gu(r,null,n,(!1))),s.push(n=new gu(a,t,null,(!1))),u.push(n.o=new gu(a,null,n,(!0)))}}),s.length){for(u.sort(e),bu(s),bu(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,f=s[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,l=h.z,p=!p}while(!h.v);i.lineEnd()}}},xx=1e9,wx=-xx,Mx=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=_u(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},Ex=Wb(),Sx={sphere:As,point:As,lineStart:xu,lineEnd:As,polygonStart:As,polygonEnd:As},Tx=function(t){return Ex.reset(),Y_(t,Sx),+Ex},Cx=[null,null],Px={type:"LineString",coordinates:Cx},kx=function(t,e){return Cx[0]=t,Cx[1]=e,Tx(Px)},Ax=function(t,e){var n=t[0]*I_,r=t[1]*I_,i=e[0]*I_,o=e[1]*I_,a=N_(r),s=U_(r),u=N_(o),l=U_(o),c=a*N_(n),f=a*U_(n),h=u*N_(i),p=u*U_(i),d=2*Ps(V_(ks(o-r)+a*u*ks(i-n))),m=U_(d),v=d?function(t){var e=U_(t*=d)/m,n=U_(d-t)/m,r=n*c+e*h,i=n*f+e*p,o=n*s+e*l;return[D_(i,r)*A_,D_(o,V_(r*r+i*i))*A_]}:function(){return[n*A_,r*A_]};return v.distance=d,v},Ix=function(t){return t},Ox=Wb(),Rx=Wb(),Dx={point:As,lineStart:As,lineEnd:As,polygonStart:function(){Dx.lineStart=ku,Dx.lineEnd=Ou},polygonEnd:function(){Dx.lineStart=Dx.lineEnd=Dx.point=As,Ox.add(O_(Rx)),Rx.reset()},result:function(){var t=Ox/2;return Ox.reset(),t}},Nx=1/0,jx=Nx,Lx=-Nx,zx=Lx,Fx={point:Ru,lineStart:As,lineEnd:As,polygonStart:As,polygonEnd:As,result:function(){var t=[[Nx,jx],[Lx,zx]];return Lx=zx=-(jx=Nx=1/0),t}},Ux=0,Bx=0,Vx=0,qx=0,Hx=0,Wx=0,Yx=0,Gx=0,Xx=0,Zx={point:Du,lineStart:Nu,lineEnd:zu,polygonStart:function(){Zx.lineStart=Fu,Zx.lineEnd=Uu},polygonEnd:function(){Zx.point=Du,Zx.lineStart=Nu,Zx.lineEnd=zu},result:function(){var t=Xx?[Yx/Xx,Gx/Xx]:Wx?[qx/Wx,Hx/Wx]:Vx?[Ux/Vx,Bx/Vx]:[NaN,NaN];return Ux=Bx=Vx=qx=Hx=Wx=Yx=Gx=Xx=0,t}};qu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,k_)}},result:As},Hu.prototype={_circle:Wu(4.5),pointRadius:function(t){return this._circle=Wu(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var Kx=function(t,e){function n(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),Y_(t,r(i))),i.result()}var r,i,o=4.5;return n.area=function(t){return Y_(t,r(Dx)),Dx.result()},n.bounds=function(t){return Y_(t,r(Fx)),Fx.result()},n.centroid=function(t){return Y_(t,r(Zx)),Zx.result()},n.projection=function(e){return arguments.length?(r=null==(t=e)?Ix:e.stream,n):t},n.context=function(t){return arguments.length?(i=null==(e=t)?new Hu:new qu(t),"function"!=typeof o&&i.pointRadius(o),n):e},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(t).context(e)},Qx=Wb(),$x=function(t,e){var n=e[0],r=e[1],i=[U_(n),-N_(n),0],o=0,a=0;Qx.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,f=l[c-1],h=f[0],p=f[1]/2+P_,d=U_(p),m=N_(p),v=0;v<c;++v,h=g,d=_,m=x,f=y){var y=l[v],g=y[0],b=y[1]/2+P_,_=U_(b),x=N_(b),w=g-h,M=w>=0?1:-1,E=M*w,S=E>T_,T=d*_;if(Qx.add(D_(T*M*U_(E),m*x+T*N_(E))),o+=S?w+M*k_:w,S^h>=n^g>=n){var C=Bs(Fs(f),Fs(y));Hs(C);var P=Bs(i,C);Hs(P);var k=(S^w>=0?-1:1)*Ps(P[2]);(r>k||r===k&&(C[0]||C[1]))&&(a+=S^w>=0?1:-1)}}return(o<-E_||o<E_&&Qx<-E_)^1&a},Jx=function(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function u(){x.point=s,v.lineStart()}function l(){x.point=a,v.lineEnd()}function c(t,e){m.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function f(){b.lineStart(),m=[]}function h(){c(m[0][0],m[0][1]),b.lineEnd();var t,e,n,r,i=b.clean(),a=g.result(),s=a.length;if(m.pop(),p.push(m),m=null,s)if(1&i){if(n=a[0],(e=n.length-1)>0){for(_||(o.polygonStart(),_=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),d.push(a.filter(Yu))}var p,d,m,v=e(o),y=i.invert(r[0],r[1]),g=yx(),b=e(g),_=!1,x={point:a,lineStart:u,lineEnd:l,polygonStart:function(){x.point=c,x.lineStart=f,x.lineEnd=h,d=[],p=[]},polygonEnd:function(){x.point=a,x.lineStart=u,x.lineEnd=l,d=Ql(d);var t=$x(p,y);d.length?(_||(o.polygonStart(),_=!0),_x(d,Gu,t,n,o)):t&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}},tw=Jx(function(){return!0},Xu,Ku,[-T_,-C_]),ew=function(t,e){function n(n,r,i,o){vu(o,t,e,i,n,r)}function r(t,e){return N_(t)*N_(e)>s}function i(t){var e,n,i,s,c;return{lineStart:function(){s=i=!1,c=1},point:function(f,h){var p,d=[f,h],m=r(f,h),v=u?m?0:a(f,h):m?a(f+(f<0?T_:-T_),h):0;if(!e&&(s=i=m)&&t.lineStart(),m!==i&&(p=o(e,d),(bx(e,p)||bx(d,p))&&(d[0]+=E_,d[1]+=E_,m=r(d[0],d[1]))),m!==i)c=0,m?(t.lineStart(),p=o(d,e),t.point(p[0],p[1])):(p=o(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(l&&e&&u^m){var y;v&n||!(y=o(d,e,!0))||(c=0,u?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||e&&bx(e,d)||t.point(d[0],d[1]),e=d,i=m,n=v},lineEnd:function(){i&&t.lineEnd(),e=null},clean:function(){return c|(s&&i)<<1}}}function o(t,e,n){var r=Fs(t),i=Fs(e),o=[1,0,0],a=Bs(r,i),u=Us(a,a),l=a[0],c=u-l*l;if(!c)return!n&&t;var f=s*u/c,h=-s*l/c,p=Bs(o,a),d=qs(o,f),m=qs(a,h);Vs(d,m);var v=p,y=Us(d,v),g=Us(v,v),b=y*y-g*(Us(d,d)-1);if(!(b<0)){var _=V_(b),x=qs(v,(-y-_)/g);if(Vs(x,d),x=zs(x),!n)return x;var w,M=t[0],E=e[0],S=t[1],T=e[1];E<M&&(w=M,M=E,E=w);var C=E-M,P=O_(C-T_)<E_,k=P||C<E_;if(!P&&T<S&&(w=S,S=T,T=w),k?P?S+T>0^x[1]<(O_(x[0]-M)<E_?S:T):S<=x[1]&&x[1]<=T:C>T_^(M<=x[0]&&x[0]<=E)){var A=qs(v,(-y+_)/g);return Vs(A,d),[x,zs(A)]}}}function a(e,n){var r=u?t:T_-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var s=N_(t),u=s>0,l=O_(s)>E_;return Jx(r,i,n,u?[0,-t]:[-T_,t-T_])},nw=function(t){return{stream:Qu(t)}};$u.prototype={constructor:$u,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var rw=16,iw=N_(30*I_),ow=function(t,e){return+e?nl(t,e):el(t)},aw=Qu({point:function(t,e){this.stream.point(t*I_,e*I_)}}),sw=function(){return ol(sl).scale(155.424).center([0,33.6442])},uw=function(){return sw().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},lw=function(){function t(t){var e=t[0],n=t[1];return s=null,i.point(e,n),s||(o.point(e,n),s)||(a.point(e,n),s)}function e(){return n=r=null,t}var n,r,i,o,a,s,u=uw(),l=sw().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=sw().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,e){s=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;
return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:u).invert(t)},t.stream=function(t){return n&&r===t?n:n=ul([u.stream(r=t),l.stream(t),c.stream(t)])},t.precision=function(t){return arguments.length?(u.precision(t),l.precision(t),c.precision(t),e()):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),l.scale(.35*e),c.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),r=+t[0],s=+t[1];return i=u.translate(t).clipExtent([[r-.455*n,s-.238*n],[r+.455*n,s+.238*n]]).stream(f),o=l.translate([r-.307*n,s+.201*n]).clipExtent([[r-.425*n+E_,s+.12*n+E_],[r-.214*n-E_,s+.234*n-E_]]).stream(f),a=c.translate([r-.205*n,s+.212*n]).clipExtent([[r-.214*n+E_,s+.166*n+E_],[r-.115*n-E_,s+.234*n-E_]]).stream(f),e()},t.fitExtent=function(e,n){return Ju(t,e,n)},t.fitSize=function(e,n){return tl(t,e,n)},t.scale(1070)},cw=ll(function(t){return V_(2/(1+t))});cw.invert=cl(function(t){return 2*Ps(t/2)});var fw=function(){return rl(cw).scale(124.75).clipAngle(179.999)},hw=ll(function(t){return(t=Cs(t))&&t/U_(t)});hw.invert=cl(function(t){return t});var pw=function(){return rl(hw).scale(79.4188).clipAngle(179.999)};fl.invert=function(t,e){return[t,2*R_(L_(e))-C_]};var dw=function(){return hl(fl).scale(961/k_)},mw=function(){return ol(dl).scale(109.5).parallels([30,30])};ml.invert=ml;var vw=function(){return rl(ml).scale(152.63)},yw=function(){return ol(vl).scale(131.154).center([0,13.9389])};yl.invert=cl(R_);var gw=function(){return rl(yl).scale(144.049).clipAngle(60)},bw=function(){function t(){return i=o=null,a}var e,n,r,i,o,a,s=1,u=0,l=0,c=Ix,f=null,h=Ix;return a={stream:function(t){return i&&o===t?i:i=c(h(o=t))},clipExtent:function(i){return arguments.length?(h=null==i?(f=e=n=r=null,Ix):_u(f=+i[0][0],e=+i[0][1],n=+i[1][0],r=+i[1][1]),t()):null==f?null:[[f,e],[n,r]]},scale:function(e){return arguments.length?(c=gl(s=+e,u,l),t()):s},translate:function(e){return arguments.length?(c=gl(s,u=+e[0],l=+e[1]),t()):[u,l]},fitExtent:function(t,e){return Ju(a,t,e)},fitSize:function(t,e){return tl(a,t,e)}}};bl.invert=cl(Ps);var _w=function(){return rl(bl).scale(249.5).clipAngle(90+E_)};_l.invert=cl(function(t){return 2*R_(t)});var xw=function(){return rl(_l).scale(250).clipAngle(142)};xl.invert=function(t,e){return[-e,2*R_(L_(t))-C_]};var ww=function(){var t=hl(xl),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};t.version=wl,t.bisect=Tl,t.bisectRight=Tl,t.bisectLeft=Cl,t.ascending=Ml,t.bisector=El,t.descending=Pl,t.deviation=Il,t.extent=Ol,t.histogram=Hl,t.thresholdFreedmanDiaconis=Yl,t.thresholdScott=Gl,t.thresholdSturges=ql,t.max=Xl,t.mean=Zl,t.median=Kl,t.merge=Ql,t.min=$l,t.pairs=Jl,t.permute=tc,t.quantile=Wl,t.range=zl,t.scan=ec,t.shuffle=nc,t.sum=rc,t.ticks=Vl,t.tickStep=n,t.transpose=ic,t.variance=Al,t.zip=oc,t.entries=fc,t.keys=lc,t.values=cc,t.map=o,t.set=f,t.nest=sc,t.randomUniform=hc,t.randomNormal=pc,t.randomLogNormal=dc,t.randomBates=vc,t.randomIrwinHall=mc,t.randomExponential=yc,t.easeLinear=h,t.easeQuad=m,t.easeQuadIn=p,t.easeQuadOut=d,t.easeQuadInOut=m,t.easeCubic=g,t.easeCubicIn=v,t.easeCubicOut=y,t.easeCubicInOut=g,t.easePoly=xc,t.easePolyIn=bc,t.easePolyOut=_c,t.easePolyInOut=xc,t.easeSin=x,t.easeSinIn=b,t.easeSinOut=_,t.easeSinInOut=x,t.easeExp=E,t.easeExpIn=w,t.easeExpOut=M,t.easeExpInOut=E,t.easeCircle=C,t.easeCircleIn=S,t.easeCircleOut=T,t.easeCircleInOut=C,t.easeBounce=k,t.easeBounceIn=P,t.easeBounceOut=k,t.easeBounceInOut=A,t.easeBack=Lc,t.easeBackIn=Nc,t.easeBackOut=jc,t.easeBackInOut=Lc,t.easeElastic=Vc,t.easeElasticIn=Bc,t.easeElasticOut=Vc,t.easeElasticInOut=qc,t.polygonArea=Hc,t.polygonCentroid=Wc,t.polygonHull=Gc,t.polygonContains=Xc,t.polygonLength=Zc,t.path=D,t.quadtree=U,t.queue=Z,t.arc=wf,t.area=Sf,t.line=Ef,t.pie=Pf,t.radialArea=If,t.radialLine=Af,t.symbol=Qf,t.symbols=Kf,t.symbolCircle=Of,t.symbolCross=Rf,t.symbolDiamond=jf,t.symbolSquare=Vf,t.symbolStar=Bf,t.symbolTriangle=Hf,t.symbolWye=Zf,t.curveBasisClosed=th,t.curveBasisOpen=eh,t.curveBasis=Jf,t.curveBundle=nh,t.curveCardinalClosed=ih,t.curveCardinalOpen=oh,t.curveCardinal=rh,t.curveCatmullRomClosed=sh,t.curveCatmullRomOpen=uh,t.curveCatmullRom=ah,t.curveLinearClosed=lh,t.curveLinear=Mf,t.curveMonotoneX=It,t.curveMonotoneY=Ot,t.curveNatural=ch,t.curveStep=fh,t.curveStepAfter=Lt,t.curveStepBefore=jt,t.stack=mh,t.stackOffsetExpand=vh,t.stackOffsetNone=ph,t.stackOffsetSilhouette=yh,t.stackOffsetWiggle=gh,t.stackOrderAscending=bh,t.stackOrderDescending=_h,t.stackOrderInsideOut=xh,t.stackOrderNone=dh,t.stackOrderReverse=wh,t.color=Vt,t.rgb=Yt,t.hsl=Kt,t.lab=te,t.hcl=se,t.cubehelix=ce,t.interpolate=vp,t.interpolateArray=lp,t.interpolateDate=cp,t.interpolateNumber=fp,t.interpolateObject=hp,t.interpolateRound=yp,t.interpolateString=mp,t.interpolateTransformCss=xp,t.interpolateTransformSvg=wp,t.interpolateZoom=Cp,t.interpolateRgb=ap,t.interpolateRgbBasis=sp,t.interpolateRgbBasisClosed=up,t.interpolateHsl=Pp,t.interpolateHslLong=kp,t.interpolateLab=Pe,t.interpolateHcl=Ap,t.interpolateHclLong=Ip,t.interpolateCubehelix=Op,t.interpolateCubehelixLong=Rp,t.interpolateBasis=rp,t.interpolateBasisClosed=ip,t.quantize=Dp,t.dispatch=Ie,t.dsvFormat=zp,t.csvParse=Up,t.csvParseRows=Bp,t.csvFormat=Vp,t.csvFormatRows=qp,t.tsvParse=Wp,t.tsvParseRows=Yp,t.tsvFormat=Gp,t.tsvFormatRows=Xp,t.request=Zp,t.html=Qp,t.json=$p,t.text=Jp,t.xml=td,t.csv=nd,t.tsv=rd,t.now=Ve,t.timer=We,t.timerFlush=Ye,t.timeout=pd,t.interval=dd,t.timeInterval=Qe,t.timeMillisecond=yd,t.timeMilliseconds=gd,t.timeSecond=Ed,t.timeSeconds=Sd,t.timeMinute=Td,t.timeMinutes=Cd,t.timeHour=Pd,t.timeHours=kd,t.timeDay=Ad,t.timeDays=Id,t.timeWeek=Od,t.timeWeeks=Fd,t.timeSunday=Od,t.timeSundays=Fd,t.timeMonday=Rd,t.timeMondays=Ud,t.timeTuesday=Dd,t.timeTuesdays=Bd,t.timeWednesday=Nd,t.timeWednesdays=Vd,t.timeThursday=jd,t.timeThursdays=qd,t.timeFriday=Ld,t.timeFridays=Hd,t.timeSaturday=zd,t.timeSaturdays=Wd,t.timeMonth=Yd,t.timeMonths=Gd,t.timeYear=Xd,t.timeYears=Zd,t.utcMillisecond=yd,t.utcMilliseconds=gd,t.utcSecond=Ed,t.utcSeconds=Sd,t.utcMinute=Kd,t.utcMinutes=Qd,t.utcHour=$d,t.utcHours=Jd,t.utcDay=tm,t.utcDays=em,t.utcWeek=nm,t.utcWeeks=lm,t.utcSunday=nm,t.utcSundays=lm,t.utcMonday=rm,t.utcMondays=cm,t.utcTuesday=im,t.utcTuesdays=fm,t.utcWednesday=om,t.utcWednesdays=hm,t.utcThursday=am,t.utcThursdays=pm,t.utcFriday=sm,t.utcFridays=dm,t.utcSaturday=um,t.utcSaturdays=mm,t.utcMonth=vm,t.utcMonths=ym,t.utcYear=gm,t.utcYears=_m,t.formatLocale=Om,t.formatDefaultLocale=nn,t.formatSpecifier=km,t.precisionFixed=Dm,t.precisionPrefix=Nm,t.precisionRound=jm,t.isoFormat=Vm,t.isoParse=qm,t.timeFormatLocale=sn,t.timeFormatDefaultLocale=er,t.scaleBand=or,t.scalePoint=sr,t.scaleIdentity=yr,t.scaleLinear=vr,t.scaleLog=Er,t.scaleOrdinal=ir,t.scaleImplicit=Gm,t.scalePow=Tr,t.scaleSqrt=Cr,t.scaleQuantile=Pr,t.scaleQuantize=kr,t.scaleThreshold=Ar,t.scaleTime=av,t.scaleUtc=sv,t.schemeCategory10=lv,t.schemeCategory20b=cv,t.schemeCategory20c=fv,t.schemeCategory20=hv,t.scaleSequential=Nr,t.interpolateCubehelixDefault=pv,t.interpolateRainbow=yv,t.interpolateWarm=dv,t.interpolateCool=mv,t.interpolateViridis=gv,t.interpolateMagma=bv,t.interpolateInferno=_v,t.interpolatePlasma=xv,t.creator=Sv,t.customEvent=Wr,t.local=zr,t.matcher=Av,t.mouse=jv,t.namespace=Ev,t.namespaces=Mv,t.select=gy,t.selectAll=by,t.selection=Oi,t.selector=Lv,t.selectorAll=Fv,t.touch=_y,t.touches=xy,t.window=iy,t.active=ig,t.interrupt=Oy,t.transition=co,t.axisTop=bo,t.axisRight=_o,t.axisBottom=xo,t.axisLeft=wo,t.cluster=hg,t.hierarchy=Io,t.pack=Cg,t.packSiblings=Sg,t.packEnclose=Eg,t.partition=Ag,t.stratify=Dg,t.tree=Ng,t.treemap=Fg,t.treemapBinary=Ug,t.treemapDice=kg,t.treemapSlice=jg,t.treemapSliceDice=Bg,t.treemapSquarify=zg,t.treemapResquarify=Vg,t.forceCenter=qg,t.forceCollide=Yg,t.forceLink=Gg,t.forceManyBody=Qg,t.forceSimulation=Kg,t.forceX=$g,t.forceY=Jg,t.drag=rb,t.dragDisable=eb,t.dragEnable=ba,t.voronoi=db,t.zoom=gb,t.zoomIdentity=vb,t.zoomTransform=is,t.brush=Db,t.brushX=vs,t.brushY=ys,t.brushSelection=ms,t.chord=Bb,t.ribbon=Hb,t.geoAlbers=uw,t.geoAlbersUsa=lw,t.geoArea=K_,t.geoAzimuthalEqualArea=fw,t.geoAzimuthalEqualAreaRaw=cw,t.geoAzimuthalEquidistant=pw,t.geoAzimuthalEquidistantRaw=hw,t.geoBounds=J_,t.geoCentroid=ex,t.geoCircle=vx,t.geoClipExtent=Mx,t.geoConicConformal=mw,t.geoConicConformalRaw=dl,t.geoConicEqualArea=sw,t.geoConicEqualAreaRaw=sl,t.geoConicEquidistant=yw,t.geoConicEquidistantRaw=vl,t.geoDistance=kx,t.geoEquirectangular=vw,t.geoEquirectangularRaw=ml,t.geoGnomonic=gw,t.geoGnomonicRaw=yl,t.geoGraticule=Cu,t.geoGraticule10=Pu,t.geoIdentity=bw,t.geoInterpolate=Ax,t.geoLength=Tx,t.geoMercator=dw,t.geoMercatorRaw=fl,t.geoOrthographic=_w,t.geoOrthographicRaw=bl,t.geoPath=Kx,t.geoProjection=rl,t.geoProjectionMutator=il,t.geoRotation=mx,t.geoStereographic=xw,t.geoStereographicRaw=_l,t.geoStream=Y_,t.geoTransform=nw,t.geoTransverseMercator=ww,t.geoTransverseMercatorRaw=xl,Object.defineProperty(t,"__esModule",{value:!0})})},{}],lodash:[function(t,e,n){(function(t){(function(){function r(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function u(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function f(t,e){var n=null==t?0:t.length;return!!n&&w(t,e,0)>-1}function h(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function p(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function d(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function m(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function v(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function y(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function g(t){return t.split("")}function b(t){return t.match(ze)||[]}function _(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function x(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function w(t,e,n){return e===e?Z(t,e,n):x(t,E,n)}function M(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function E(t){return t!==t}function S(t,e){var n=null==t?0:t.length;return n?A(t,e)/n:Ot}function T(t){return function(e){return null==e?nt:e[t]}}function C(t){return function(e){return null==t?nt:t[e]}}function P(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function k(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function A(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==nt&&(n=n===nt?o:n+o)}return n}function I(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function O(t,e){return p(e,function(e){return[e,t[e]]})}function R(t){return function(e){return t(e)}}function D(t,e){return p(e,function(e){return t[e]})}function N(t,e){return t.has(e)}function j(t,e){for(var n=-1,r=t.length;++n<r&&w(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function z(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function F(t){return"\\"+Zn[t]}function U(t,e){return null==t?nt:t[e]}function B(t){return Un.test(t)}function V(t){return Bn.test(t)}function q(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function W(t,e){return function(n){return t(e(n))}}function Y(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==lt||(t[n]=lt,o[i++]=n)}return o}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Z(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function K(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function Q(t){return B(t)?J(t):hr(t)}function $(t){return B(t)?tt(t):g(t)}function J(t){for(var e=zn.lastIndex=0;zn.test(t);)++e;return e}function tt(t){return t.match(zn)||[]}function et(t){return t.match(Fn)||[]}var nt,rt="4.16.6",it=200,ot="Unsupported core-js use. Try https://github.com/es-shims.",at="Expected a function",st="__lodash_hash_undefined__",ut=500,lt="__lodash_placeholder__",ct=1,ft=2,ht=4,pt=8,dt=16,mt=32,vt=64,yt=128,gt=256,bt=512,_t=1,xt=2,wt=30,Mt="...",Et=800,St=16,Tt=1,Ct=2,Pt=3,kt=1/0,At=9007199254740991,It=1.7976931348623157e308,Ot=NaN,Rt=4294967295,Dt=Rt-1,Nt=Rt>>>1,jt=[["ary",yt],["bind",ct],["bindKey",ft],["curry",pt],["curryRight",dt],["flip",bt],["partial",mt],["partialRight",vt],["rearg",gt]],Lt="[object Arguments]",zt="[object Array]",Ft="[object AsyncFunction]",Ut="[object Boolean]",Bt="[object Date]",Vt="[object DOMException]",qt="[object Error]",Ht="[object Function]",Wt="[object GeneratorFunction]",Yt="[object Map]",Gt="[object Number]",Xt="[object Null]",Zt="[object Object]",Kt="[object Promise]",Qt="[object Proxy]",$t="[object RegExp]",Jt="[object Set]",te="[object String]",ee="[object Symbol]",ne="[object Undefined]",re="[object WeakMap]",ie="[object WeakSet]",oe="[object ArrayBuffer]",ae="[object DataView]",se="[object Float32Array]",ue="[object Float64Array]",le="[object Int8Array]",ce="[object Int16Array]",fe="[object Int32Array]",he="[object Uint8Array]",pe="[object Uint8ClampedArray]",de="[object Uint16Array]",me="[object Uint32Array]",ve=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39);/g,_e=/[&<>"']/g,xe=RegExp(be.source),we=RegExp(_e.source),Me=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/,Pe=/^\./,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,Ie=RegExp(Ae.source),Oe=/^\s+|\s+$/g,Re=/^\s+/,De=/\s+$/,Ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fe=/\\(\\)?/g,Ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Be=/\w*$/,Ve=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,He=/^\[object .+?Constructor\]$/,We=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,Ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Ke="\\ud800-\\udfff",Qe="\\u0300-\\u036f\\ufe20-\\ufe23",$e="\\u20d0-\\u20f0",Je="\\u2700-\\u27bf",tn="a-z\\xdf-\\xf6\\xf8-\\xff",en="\\xac\\xb1\\xd7\\xf7",nn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rn="\\u2000-\\u206f",on=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",an="A-Z\\xc0-\\xd6\\xd8-\\xde",sn="\\ufe0e\\ufe0f",un=en+nn+rn+on,ln="['â]",cn="["+Ke+"]",fn="["+un+"]",hn="["+Qe+$e+"]",pn="\\d+",dn="["+Je+"]",mn="["+tn+"]",vn="[^"+Ke+un+pn+Je+tn+an+"]",yn="\\ud83c[\\udffb-\\udfff]",gn="(?:"+hn+"|"+yn+")",bn="[^"+Ke+"]",_n="(?:\\ud83c[\\udde6-\\uddff]){2}",xn="[\\ud800-\\udbff][\\udc00-\\udfff]",wn="["+an+"]",Mn="\\u200d",En="(?:"+mn+"|"+vn+")",Sn="(?:"+wn+"|"+vn+")",Tn="(?:"+ln+"(?:d|ll|m|re|s|t|ve))?",Cn="(?:"+ln+"(?:D|LL|M|RE|S|T|VE))?",Pn=gn+"?",kn="["+sn+"]?",An="(?:"+Mn+"(?:"+[bn,_n,xn].join("|")+")"+kn+Pn+")*",In="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",On="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Rn=kn+Pn+An,Dn="(?:"+[dn,_n,xn].join("|")+")"+Rn,Nn="(?:"+[bn+hn+"?",hn,_n,xn,cn].join("|")+")",jn=RegExp(ln,"g"),Ln=RegExp(hn,"g"),zn=RegExp(yn+"(?="+yn+")|"+Nn+Rn,"g"),Fn=RegExp([wn+"?"+mn+"+"+Tn+"(?="+[fn,wn,"$"].join("|")+")",Sn+"+"+Cn+"(?="+[fn,wn+En,"$"].join("|")+")",wn+"?"+En+"+"+Tn,wn+"+"+Cn,On,In,pn,Dn].join("|"),"g"),Un=RegExp("["+Mn+Ke+Qe+$e+sn+"]"),Bn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qn=-1,Hn={};Hn[se]=Hn[ue]=Hn[le]=Hn[ce]=Hn[fe]=Hn[he]=Hn[pe]=Hn[de]=Hn[me]=!0,Hn[Lt]=Hn[zt]=Hn[oe]=Hn[Ut]=Hn[ae]=Hn[Bt]=Hn[qt]=Hn[Ht]=Hn[Yt]=Hn[Gt]=Hn[Zt]=Hn[$t]=Hn[Jt]=Hn[te]=Hn[re]=!1;var Wn={};Wn[Lt]=Wn[zt]=Wn[oe]=Wn[ae]=Wn[Ut]=Wn[Bt]=Wn[se]=Wn[ue]=Wn[le]=Wn[ce]=Wn[fe]=Wn[Yt]=Wn[Gt]=Wn[Zt]=Wn[$t]=Wn[Jt]=Wn[te]=Wn[ee]=Wn[he]=Wn[pe]=Wn[de]=Wn[me]=!0,Wn[qt]=Wn[Ht]=Wn[re]=!1;var Yn={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"},Gn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kn=parseFloat,Qn=parseInt,$n="object"==typeof t&&t&&t.Object===Object&&t,Jn="object"==typeof self&&self&&self.Object===Object&&self,tr=$n||Jn||Function("return this")(),er="object"==typeof n&&n&&!n.nodeType&&n,nr=er&&"object"==typeof e&&e&&!e.nodeType&&e,rr=nr&&nr.exports===er,ir=rr&&$n.process,or=function(){try{return ir&&ir.binding("util")}catch(t){}}(),ar=or&&or.isArrayBuffer,sr=or&&or.isDate,ur=or&&or.isMap,lr=or&&or.isRegExp,cr=or&&or.isSet,fr=or&&or.isTypedArray,hr=T("length"),pr=C(Yn),dr=C(Gn),mr=C(Xn),vr=function gr(t){function e(t){if(ru(t)&&!mh(t)&&!(t instanceof C)){if(t instanceof g)return t;if(dc.call(t,"__wrapped__"))return ta(t)}return new g(t)}function n(){}function g(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function C(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Rt,this.__views__=[]}function Z(){var t=new C(this.__wrapped__);return t.__actions__=Li(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Li(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Li(this.__views__),t}function J(){if(this.__filtered__){var t=new C(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function tt(){var t=this.__wrapped__.value(),e=this.__dir__,n=mh(t),r=e<0,i=n?t.length:0,o=Mo(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,p=Hc(u,this.__takeCount__);if(!n||i<it||i==u&&p==u)return gi(t,this.__actions__);var d=[];t:for(;u--&&h<p;){l+=e;for(var m=-1,v=t[l];++m<f;){var y=c[m],g=y.iteratee,b=y.type,_=g(v);if(b==Ct)v=_;else if(!_){if(b==Tt)continue t;break t}}d[h++]=v}return d}function ze(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ke(){this.__data__=tf?tf(null):{},this.size=0}function Qe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function $e(t){var e=this.__data__;if(tf){var n=e[t];return n===st?nt:n}return dc.call(e,t)?e[t]:nt}function Je(t){var e=this.__data__;return tf?e[t]!==nt:dc.call(e,t)}function tn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=tf&&e===nt?st:e,this}function en(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nn(){this.__data__=[],this.size=0}function rn(t){var e=this.__data__,n=An(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Pc.call(e,n,1),--this.size,!0}function on(t){var e=this.__data__,n=An(e,t);return n<0?nt:e[n][1]}function an(t){return An(this.__data__,t)>-1}function sn(t,e){var n=this.__data__,r=An(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ln(){this.size=0,this.__data__={hash:new ze,map:new(Kc||en),string:new ze}}function cn(t){var e=bo(this,t)["delete"](t);return this.size-=e?1:0,e}function fn(t){return bo(this,t).get(t)}function hn(t){return bo(this,t).has(t)}function pn(t,e){var n=bo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function dn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new un;++e<n;)this.add(t[e])}function mn(t){return this.__data__.set(t,st),this}function vn(t){return this.__data__.has(t)}function yn(t){var e=this.__data__=new en(t);this.size=e.size}function gn(){this.__data__=new en,this.size=0}function bn(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function _n(t){return this.__data__.get(t)}function xn(t){return this.__data__.has(t)}function wn(t,e){var n=this.__data__;if(n instanceof en){var r=n.__data__;if(!Kc||r.length<it-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new un(r)}return n.set(t,e),this.size=n.size,this}function Mn(t,e){var n=mh(t),r=!n&&dh(t),i=!n&&!r&&yh(t),o=!n&&!r&&!i&&wh(t),a=n||r||i||o,s=a?I(t.length,sc):[],u=s.length;for(var l in t)!e&&!dc.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Io(l,u))||s.push(l);return s}function En(t){var e=t.length;return e?t[Jr(0,e-1)]:nt}function Sn(t,e){return Ko(Li(t),Nn(e,0,t.length))}function Tn(t){return Ko(Li(t))}function Cn(t,e,n,r){return t===nt||qs(t,fc[n])&&!dc.call(r,n)?e:t}function Pn(t,e,n){(n===nt||qs(t[e],n))&&(n!==nt||e in t)||Rn(t,e,n)}function kn(t,e,n){var r=t[e];dc.call(t,e)&&qs(r,n)&&(n!==nt||e in t)||Rn(t,e,n)}function An(t,e){for(var n=t.length;n--;)if(qs(t[n][0],e))return n;return-1}function In(t,e,n,r){return pf(t,function(t,i,o){e(r,t,n(t),o)}),r}function On(t,e){return t&&zi(e,zu(e),t)}function Rn(t,e,n){"__proto__"==e&&Oc?Oc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Dn(t,e){for(var n=-1,r=e.length,i=tc(r),o=null==t;++n<r;)i[n]=o?nt:Nu(t,e[n]);return i}function Nn(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function zn(t,e,n,r,i,o,a){var u;if(r&&(u=o?r(t,i,o,a):r(t)),u!==nt)return u;if(!nu(t))return t;var l=mh(t);if(l){if(u=To(t),!e)return Li(t,u)}else{var c=Sf(t),f=c==Ht||c==Wt;if(yh(t))return Si(t,e);if(c==Zt||c==Lt||f&&!o){if(u=Co(f?{}:t),!e)return Fi(t,On(u,t))}else{if(!Wn[c])return o?t:{};u=Po(t,c,zn,e)}}a||(a=new yn);var h=a.get(t);if(h)return h;a.set(t,u);var p=l?nt:(n?po:zu)(t);return s(p||t,function(i,o){p&&(o=i,i=t[o]),kn(u,o,zn(i,e,n,r,o,t,a))}),u}function Fn(t){var e=zu(t);return function(n){return Un(n,t,e)}}function Un(t,e,n){var r=n.length;if(null==t)return!r;for(t=oc(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===nt&&!(i in t)||!o(a))return!1}return!0}function Bn(t,e,n){if("function"!=typeof t)throw new uc(at);return Pf(function(){t.apply(nt,n)},e)}function Yn(t,e,n,r){var i=-1,o=f,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=p(e,R(n))),r?(o=h,a=!1):e.length>=it&&(o=N,a=!1,e=new dn(e));t:for(;++i<s;){var c=t[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d===d){for(var m=l;m--;)if(e[m]===d)continue t;u.push(c)}else o(e,d,r)||u.push(c)}return u}function Gn(t,e){var n=!0;return pf(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Xn(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===nt?a===a&&!du(a):n(a,s)))var s=a,u=o}return u}function Zn(t,e,n,r){var i=t.length;for(n=_u(n),n<0&&(n=-n>i?0:i+n),r=r===nt||r>i?i:_u(r),r<0&&(r+=i),r=n>r?0:xu(r);n<r;)t[n++]=e;return t}function $n(t,e){var n=[];return pf(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Jn(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Ao),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Jn(s,e-1,n,r,i):d(i,s):r||(i[i.length]=s)}return i}function er(t,e){return t&&mf(t,e,zu)}function nr(t,e){return t&&vf(t,e,zu)}function ir(t,e){return c(e,function(e){return Js(t[e])})}function or(t,e){e=Ro(e,t)?[e]:Mi(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Qo(e[n++])];return n&&n==r?t:nt}function hr(t,e,n){var r=e(t);return mh(t)?r:d(r,n(t))}function vr(t){return null==t?t===nt?ne:Xt:(t=oc(t),Ic&&Ic in t?wo(t):Ho(t))}function br(t,e){return t>e}function _r(t,e){return null!=t&&dc.call(t,e)}function xr(t,e){return null!=t&&e in oc(t)}function wr(t,e,n){return t>=Hc(e,n)&&t<qc(e,n)}function Mr(t,e,n){for(var r=n?h:f,i=t[0].length,o=t.length,a=o,s=tc(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=p(c,R(e))),u=Hc(c.length,u),s[a]=!n&&(e||i>=120&&c.length>=120)?new dn(a&&c):nt}c=t[0];var d=-1,m=s[0];t:for(;++d<i&&l.length<u;){var v=c[d],y=e?e(v):v;if(v=n||0!==v?v:0,!(m?N(m,y):r(l,y,n))){for(a=o;--a;){var g=s[a];if(!(g?N(g,y):r(t[a],y,n)))continue t}m&&m.push(y),l.push(v)}}return l}function Er(t,e,n,r){return er(t,function(t,i,o){e(r,n(t),i,o)}),r}function Sr(t,e,n){Ro(e,t)||(e=Mi(e),t=Yo(t,e),e=ba(e));var r=null==t?t:t[Qo(e)];return null==r?nt:o(r,t,n)}function Tr(t){return ru(t)&&vr(t)==Lt}function Cr(t){return ru(t)&&vr(t)==oe}function Pr(t){return ru(t)&&vr(t)==Bt}function kr(t,e,n,r,i){return t===e||(null==t||null==e||!nu(t)&&!ru(e)?t!==t&&e!==e:Ar(t,e,kr,n,r,i))}function Ar(t,e,n,r,i,o){var a=mh(t),s=mh(e),u=zt,l=zt;a||(u=Sf(t),u=u==Lt?Zt:u),s||(l=Sf(e),l=l==Lt?Zt:l);var c=u==Zt,f=l==Zt,h=u==l;if(h&&yh(t)){if(!yh(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new yn),a||wh(t)?lo(t,e,n,r,i,o):co(t,e,u,n,r,i,o);if(!(i&xt)){var p=c&&dc.call(t,"__wrapped__"),d=f&&dc.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,v=d?e.value():e;return o||(o=new yn),n(m,v,r,i,o)}}return!!h&&(o||(o=new yn),fo(t,e,n,r,i,o))}function Ir(t){return ru(t)&&Sf(t)==Yt}function Or(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=oc(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===nt&&!(u in t))return!1}else{var f=new yn;if(r)var h=r(l,c,u,t,e,f);if(!(h===nt?kr(c,l,r,_t|xt,f):h))return!1}}return!0}function Rr(t){if(!nu(t)||jo(t))return!1;var e=Js(t)?_c:He;return e.test($o(t))}function Dr(t){return ru(t)&&vr(t)==$t}function Nr(t){return ru(t)&&Sf(t)==Jt}function jr(t){return ru(t)&&eu(t.length)&&!!Hn[vr(t)]}function Lr(t){return"function"==typeof t?t:null==t?Pl:"object"==typeof t?mh(t)?qr(t[0],t[1]):Vr(t):jl(t)}function zr(t){if(!Lo(t))return Vc(t);var e=[];for(var n in oc(t))dc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Fr(t){if(!nu(t))return qo(t);var e=Lo(t),n=[];for(var r in t)("constructor"!=r||!e&&dc.call(t,r))&&n.push(r);return n}function Ur(t,e){return t<e}function Br(t,e){var n=-1,r=Hs(t)?tc(t.length):[];return pf(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Vr(t){var e=_o(t);return 1==e.length&&e[0][2]?Fo(e[0][0],e[0][1]):function(n){return n===t||Or(n,t,e)}}function qr(t,e){return Ro(t)&&zo(e)?Fo(Qo(t),e):function(n){var r=Nu(n,t);return r===nt&&r===e?Lu(n,t):kr(e,r,nt,_t|xt)}}function Hr(t,e,n,r,i){t!==e&&mf(e,function(o,a){if(nu(o))i||(i=new yn),Wr(t,e,a,n,Hr,r,i);else{var s=r?r(t[a],o,a+"",t,e,i):nt;s===nt&&(s=o),Pn(t,a,s)}},Fu)}function Wr(t,e,n,r,i,o,a){var s=t[n],u=e[n],l=a.get(u);if(l)return void Pn(t,n,l);var c=o?o(s,u,n+"",t,e,a):nt,f=c===nt;if(f){var h=mh(u),p=!h&&yh(u),d=!h&&!p&&wh(u);c=u,h||p||d?mh(s)?c=s:Ws(s)?c=Li(s):p?(f=!1,c=Si(u,!0)):d?(f=!1,c=Oi(u,!0)):c=[]:fu(u)||dh(u)?(c=s,dh(s)?c=Mu(s):(!nu(s)||r&&Js(s))&&(c=Co(u))):f=!1}f&&(a.set(u,c),i(c,u,r,o,a),a["delete"](u)),Pn(t,n,c)}function Yr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Io(e,n)?t[e]:nt}function Gr(t,e,n){var r=-1;e=p(e.length?e:[Pl],R(go()));var i=Br(t,function(t,n,i){var o=p(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return k(i,function(t,e){return Di(t,e,n)})}function Xr(t,e){return t=oc(t),Zr(t,e,function(e,n){return n in t})}function Zr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=t[a];n(s,a)&&Rn(o,a,s)}return o}function Kr(t){return function(e){return or(e,t)}}function Qr(t,e,n,r){var i=r?M:w,o=-1,a=e.length,s=t;for(t===e&&(e=Li(e)),n&&(s=p(t,R(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&Pc.call(s,u,1),Pc.call(t,u,1);return t}function $r(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;if(Io(i))Pc.call(t,i,1);else if(Ro(i,t))delete t[Qo(i)];else{var a=Mi(i),s=Yo(t,a);null!=s&&delete s[Qo(ba(a))]}}}return t}function Jr(t,e){return t+Lc(Gc()*(e-t+1))}function ti(t,e,n,r){for(var i=-1,o=qc(jc((e-t)/(n||1)),0),a=tc(o);o--;)a[r?o:++i]=t,t+=n;return a}function ei(t,e){var n="";if(!t||e<1||e>At)return n;do e%2&&(n+=t),e=Lc(e/2),e&&(t+=t);while(e);return n}function ni(t,e){return kf(Wo(t,e,Pl),t+"")}function ri(t){return En(Qu(t))}function ii(t,e){var n=Qu(t);return Ko(n,Nn(e,0,n.length))}function oi(t,e,n,r){if(!nu(t))return t;e=Ro(e,t)?[e]:Mi(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=Qo(e[i]),l=n;if(i!=a){var c=s[u];l=r?r(c,u,s):nt,l===nt&&(l=nu(c)?c:Io(e[i+1])?[]:{})}kn(s,u,l),s=s[u]}return t}function ai(t){return Ko(Qu(t))}function si(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=tc(i);++r<i;)o[r]=t[r+e];return o}function ui(t,e){var n;return pf(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function li(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Nt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!du(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ci(t,e,Pl,n)}function ci(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=du(e),l=e===nt;i<o;){var c=Lc((i+o)/2),f=n(t[c]),h=f!==nt,p=null===f,d=f===f,m=du(f);if(a)var v=r||d;else v=l?d&&(r||h):s?d&&h&&(r||!p):u?d&&h&&!p&&(r||!m):!p&&!m&&(r?f<=e:f<e);v?i=c+1:o=c}return Hc(o,Dt)}function fi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!qs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function hi(t){return"number"==typeof t?t:du(t)?Ot:+t}function pi(t){if("string"==typeof t)return t;if(mh(t))return p(t,pi)+"";if(du(t))return ff?ff.call(t):"";var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function di(t,e,n){var r=-1,i=f,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=h;else if(o>=it){var l=e?null:xf(t);if(l)return G(l);a=!1,i=N,u=new dn}else u=e?[]:s;t:for(;++r<o;){var c=t[r],p=e?e(c):c;if(c=n||0!==c?c:0,a&&p===p){for(var d=u.length;d--;)if(u[d]===p)continue t;e&&u.push(p),s.push(c)}else i(u,p,n)||(u!==s&&u.push(p),
s.push(c))}return s}function mi(t,e){e=Ro(e,t)?[e]:Mi(e),t=Yo(t,e);var n=Qo(ba(e));return!(null!=t&&dc.call(t,n))||delete t[n]}function vi(t,e,n,r){return oi(t,e,n(or(t,e)),r)}function yi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?si(t,r?0:o,r?o+1:i):si(t,r?o+1:0,r?i:o)}function gi(t,e){var n=t;return n instanceof C&&(n=n.value()),m(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function bi(t,e,n){var r=t.length;if(r<2)return r?di(t[0]):[];for(var i=-1,o=tc(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=Yn(o[i]||a,t[s],e,n));return di(Jn(o,1),e,n)}function _i(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:nt;n(a,t[r],s)}return a}function xi(t){return Ws(t)?t:[]}function wi(t){return"function"==typeof t?t:Pl}function Mi(t){return mh(t)?t:Af(t)}function Ei(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:si(t,e,n)}function Si(t,e){if(e)return t.slice();var n=t.length,r=Ec?Ec(n):new t.constructor(n);return t.copy(r),r}function Ti(t){var e=new t.constructor(t.byteLength);return new Mc(e).set(new Mc(t)),e}function Ci(t,e){var n=e?Ti(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Pi(t,e,n){var i=e?n(H(t),!0):H(t);return m(i,r,new t.constructor)}function ki(t){var e=new t.constructor(t.source,Be.exec(t));return e.lastIndex=t.lastIndex,e}function Ai(t,e,n){var r=e?n(G(t),!0):G(t);return m(r,i,new t.constructor)}function Ii(t){return cf?oc(cf.call(t)):{}}function Oi(t,e){var n=e?Ti(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ri(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,o=du(t),a=e!==nt,s=null===e,u=e===e,l=du(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Di(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Ri(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*("desc"==l?-1:1)}}return t.index-e.index}function Ni(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,l=qc(o-a,0),c=tc(u+l),f=!r;++s<u;)c[s]=e[s];for(;++i<a;)(f||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function ji(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=qc(o-s,0),f=tc(c+l),h=!r;++i<c;)f[i]=t[i];for(var p=i;++u<l;)f[p+u]=e[u];for(;++a<s;)(h||i<o)&&(f[p+n[a]]=t[i++]);return f}function Li(t,e){var n=-1,r=t.length;for(e||(e=tc(r));++n<r;)e[n]=t[n];return e}function zi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):nt;u===nt&&(u=t[s]),i?Rn(n,s,u):kn(n,s,u)}return n}function Fi(t,e){return zi(t,Mf(t),e)}function Ui(t,e){return function(n,r){var i=mh(n)?a:In,o=e?e():{};return i(n,t,go(r,2),o)}}function Bi(t){return ni(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:nt,a=i>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(i--,o):nt,a&&Oo(n[0],n[1],a)&&(o=i<3?nt:o,i=1),e=oc(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Vi(t,e){return function(n,r){if(null==n)return n;if(!Hs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=oc(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function qi(t){return function(e,n,r){for(var i=-1,o=oc(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}function Hi(t,e,n){function r(){var e=this&&this!==tr&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&ct,o=Gi(t);return r}function Wi(t){return function(e){e=Su(e);var n=B(e)?$(e):nt,r=n?n[0]:e.charAt(0),i=n?Ei(n,1).join(""):e.slice(1);return r[t]()+i}}function Yi(t){return function(e){return m(Ml(rl(e).replace(jn,"")),t,"")}}function Gi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=hf(t.prototype),r=t.apply(n,e);return nu(r)?r:n}}function Xi(t,e,n){function r(){for(var a=arguments.length,s=tc(a),u=a,l=yo(r);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:Y(s,l);if(a-=c.length,a<n)return oo(t,e,Qi,r.placeholder,nt,s,c,nt,nt,n-a);var f=this&&this!==tr&&this instanceof r?i:t;return o(f,this,s)}var i=Gi(t);return r}function Zi(t){return function(e,n,r){var i=oc(e);if(!Hs(e)){var o=go(n,3);e=zu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:nt}}function Ki(t){return ho(function(e){var n=e.length,r=n,i=g.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new uc(at);if(i&&!a&&"wrapper"==vo(o))var a=new g([],(!0))}for(r=a?r:n;++r<n;){o=e[r];var s=vo(o),u="wrapper"==s?wf(o):nt;a=u&&No(u[0])&&u[1]==(yt|pt|mt|gt)&&!u[4].length&&1==u[9]?a[vo(u[0])].apply(a,u[3]):1==o.length&&No(o)?a[s]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&mh(r)&&r.length>=it)return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Qi(t,e,n,r,i,o,a,s,u,l){function c(){for(var y=arguments.length,g=tc(y),b=y;b--;)g[b]=arguments[b];if(d)var _=yo(c),x=z(g,_);if(r&&(g=Ni(g,r,i,d)),o&&(g=ji(g,o,a,d)),y-=x,d&&y<l){var w=Y(g,_);return oo(t,e,Qi,c.placeholder,n,g,w,s,u,l-y)}var M=h?n:this,E=p?M[t]:t;return y=g.length,s?g=Go(g,s):m&&y>1&&g.reverse(),f&&u<y&&(g.length=u),this&&this!==tr&&this instanceof c&&(E=v||Gi(E)),E.apply(M,g)}var f=e&yt,h=e&ct,p=e&ft,d=e&(pt|dt),m=e&bt,v=p?nt:Gi(t);return c}function $i(t,e){return function(n,r){return Er(n,t,e(r),{})}}function Ji(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=pi(n),r=pi(r)):(n=hi(n),r=hi(r)),i=t(n,r)}return i}}function to(t){return ho(function(e){return e=p(e,R(go())),ni(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function eo(t,e){e=e===nt?" ":pi(e);var n=e.length;if(n<2)return n?ei(e,t):e;var r=ei(e,jc(t/Q(e)));return B(e)?Ei($(r),0,t).join(""):r.slice(0,t)}function no(t,e,n,r){function i(){for(var e=-1,u=arguments.length,l=-1,c=r.length,f=tc(c+u),h=this&&this!==tr&&this instanceof i?s:t;++l<c;)f[l]=r[l];for(;u--;)f[l++]=arguments[++e];return o(h,a?n:this,f)}var a=e&ct,s=Gi(t);return i}function ro(t){return function(e,n,r){return r&&"number"!=typeof r&&Oo(e,n,r)&&(n=r=nt),e=bu(e),n===nt?(n=e,e=0):n=bu(n),r=r===nt?e<n?1:-1:bu(r),ti(e,n,r,t)}}function io(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=wu(e),n=wu(n)),t(e,n)}}function oo(t,e,n,r,i,o,a,s,u,l){var c=e&pt,f=c?a:nt,h=c?nt:a,p=c?o:nt,d=c?nt:o;e|=c?mt:vt,e&=~(c?vt:mt),e&ht||(e&=~(ct|ft));var m=[t,e,i,p,f,d,h,s,u,l],v=n.apply(nt,m);return No(t)&&Cf(v,m),v.placeholder=r,Xo(v,t,e)}function ao(t){var e=ic[t];return function(t,n){if(t=wu(t),n=Hc(_u(n),292)){var r=(Su(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Su(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function so(t){return function(e){var n=Sf(e);return n==Yt?H(e):n==Jt?X(e):O(e,t(e))}}function uo(t,e,n,r,i,o,a,s){var u=e&ft;if(!u&&"function"!=typeof t)throw new uc(at);var l=r?r.length:0;if(l||(e&=~(mt|vt),r=i=nt),a=a===nt?a:qc(_u(a),0),s=s===nt?s:_u(s),l-=i?i.length:0,e&vt){var c=r,f=i;r=i=nt}var h=u?nt:wf(t),p=[t,e,n,r,i,c,f,o,a,s];if(h&&Bo(p,h),t=p[0],e=p[1],n=p[2],r=p[3],i=p[4],s=p[9]=null==p[9]?u?0:t.length:qc(p[9]-l,0),!s&&e&(pt|dt)&&(e&=~(pt|dt)),e&&e!=ct)d=e==pt||e==dt?Xi(t,e,s):e!=mt&&e!=(ct|mt)||i.length?Qi.apply(nt,p):no(t,e,n,r);else var d=Hi(t,e,n);var m=h?yf:Cf;return Xo(m(d,p),t,e)}function lo(t,e,n,r,i,o){var a=i&xt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,f=!0,h=i&_t?new dn:nt;for(o.set(t,e),o.set(e,t);++c<s;){var p=t[c],d=e[c];if(r)var m=a?r(d,p,c,e,t,o):r(p,d,c,t,e,o);if(m!==nt){if(m)continue;f=!1;break}if(h){if(!y(e,function(t,e){if(!N(h,e)&&(p===t||n(p,t,r,i,o)))return h.push(e)})){f=!1;break}}else if(p!==d&&!n(p,d,r,i,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function co(t,e,n,r,i,o,a){switch(n){case ae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!r(new Mc(t),new Mc(e)));case Ut:case Bt:case Gt:return qs(+t,+e);case qt:return t.name==e.name&&t.message==e.message;case $t:case te:return t==e+"";case Yt:var s=H;case Jt:var u=o&xt;if(s||(s=G),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;o|=_t,a.set(t,e);var c=lo(s(t),s(e),r,i,o,a);return a["delete"](t),c;case ee:if(cf)return cf.call(t)==cf.call(e)}return!1}function fo(t,e,n,r,i,o){var a=i&xt,s=zu(t),u=s.length,l=zu(e),c=l.length;if(u!=c&&!a)return!1;for(var f=u;f--;){var h=s[f];if(!(a?h in e:dc.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++f<u;){h=s[f];var v=t[h],y=e[h];if(r)var g=a?r(y,v,h,e,t,o):r(v,y,h,t,e,o);if(!(g===nt?v===y||n(v,y,r,i,o):g)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return o["delete"](t),o["delete"](e),d}function ho(t){return kf(Wo(t,nt,fa),t+"")}function po(t){return hr(t,zu,Mf)}function mo(t){return hr(t,Fu,Ef)}function vo(t){for(var e=t.name+"",n=nf[e],r=dc.call(nf,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function yo(t){var n=dc.call(e,"placeholder")?e:t;return n.placeholder}function go(){var t=e.iteratee||kl;return t=t===kl?Lr:t,arguments.length?t(arguments[0],arguments[1]):t}function bo(t,e){var n=t.__data__;return Do(e)?n["string"==typeof e?"string":"hash"]:n.map}function _o(t){for(var e=zu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,zo(i)]}return e}function xo(t,e){var n=U(t,e);return Rr(n)?n:nt}function wo(t){var e=dc.call(t,Ic),n=t[Ic];try{t[Ic]=nt;var r=!0}catch(i){}var o=yc.call(t);return r&&(e?t[Ic]=n:delete t[Ic]),o}function Mo(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Hc(e,t+a);break;case"takeRight":t=qc(t,e-a)}}return{start:t,end:e}}function Eo(t){var e=t.match(je);return e?e[1].split(Le):[]}function So(t,e,n){e=Ro(e,t)?[e]:Mi(e);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Qo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&eu(i)&&Io(a,i)&&(mh(t)||dh(t)))}function To(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&dc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Co(t){return"function"!=typeof t.constructor||Lo(t)?{}:hf(Sc(t))}function Po(t,e,n,r){var i=t.constructor;switch(e){case oe:return Ti(t);case Ut:case Bt:return new i((+t));case ae:return Ci(t,r);case se:case ue:case le:case ce:case fe:case he:case pe:case de:case me:return Oi(t,r);case Yt:return Pi(t,r,n);case Gt:case te:return new i(t);case $t:return ki(t);case Jt:return Ai(t,r,n);case ee:return Ii(t)}}function ko(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ne,"{\n/* [wrapped with "+e+"] */\n")}function Ao(t){return mh(t)||dh(t)||!!(kc&&t&&t[kc])}function Io(t,e){return e=null==e?At:e,!!e&&("number"==typeof t||Ye.test(t))&&t>-1&&t%1==0&&t<e}function Oo(t,e,n){if(!nu(n))return!1;var r=typeof e;return!!("number"==r?Hs(n)&&Io(e,n.length):"string"==r&&e in n)&&qs(n[e],t)}function Ro(t,e){if(mh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!du(t))||(Ce.test(t)||!Te.test(t)||null!=e&&t in oc(e))}function Do(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function No(t){var n=vo(t),r=e[n];if("function"!=typeof r||!(n in C.prototype))return!1;if(t===r)return!0;var i=wf(r);return!!i&&t===i[0]}function jo(t){return!!vc&&vc in t}function Lo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||fc;return t===n}function zo(t){return t===t&&!nu(t)}function Fo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in oc(n)))}}function Uo(t){var e=ks(t,function(t){return n.size===ut&&n.clear(),t}),n=e.cache;return e}function Bo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(ct|ft|yt),a=r==yt&&n==pt||r==yt&&n==gt&&t[7].length<=e[8]||r==(yt|gt)&&e[7].length<=e[8]&&n==pt;if(!o&&!a)return t;r&ct&&(t[2]=e[2],i|=n&ct?0:ht);var s=e[3];if(s){var u=t[3];t[3]=u?Ni(u,s,e[4]):s,t[4]=u?Y(t[3],lt):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?ji(u,s,e[6]):s,t[6]=u?Y(t[5],lt):e[6]),s=e[7],s&&(t[7]=s),r&yt&&(t[8]=null==t[8]?e[8]:Hc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Vo(t,e,n,r,i,o){return nu(t)&&nu(e)&&(o.set(e,t),Hr(t,e,nt,Vo,o),o["delete"](e)),t}function qo(t){var e=[];if(null!=t)for(var n in oc(t))e.push(n);return e}function Ho(t){return yc.call(t)}function Wo(t,e,n){return e=qc(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=qc(r.length-e,0),s=tc(a);++i<a;)s[i]=r[e+i];i=-1;for(var u=tc(e+1);++i<e;)u[i]=r[i];return u[e]=n(s),o(t,this,u)}}function Yo(t,e){return 1==e.length?t:or(t,si(e,0,-1))}function Go(t,e){for(var n=t.length,r=Hc(e.length,n),i=Li(t);r--;){var o=e[r];t[r]=Io(o,n)?i[o]:nt}return t}function Xo(t,e,n){var r=e+"";return kf(t,ko(r,Jo(Eo(r),n)))}function Zo(t){var e=0,n=0;return function(){var r=Wc(),i=St-(r-n);if(n=r,i>0){if(++e>=Et)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function Ko(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var o=Jr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function Qo(t){if("string"==typeof t||du(t))return t;var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function $o(t){if(null!=t){try{return pc.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Jo(t,e){return s(jt,function(n){var r="_."+n[0];e&n[1]&&!f(t,r)&&t.push(r)}),t.sort()}function ta(t){if(t instanceof C)return t.clone();var e=new g(t.__wrapped__,t.__chain__);return e.__actions__=Li(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ea(t,e,n){e=(n?Oo(t,e,n):e===nt)?1:qc(_u(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=tc(jc(r/e));i<r;)a[o++]=si(t,i,i+=e);return a}function na(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function ra(){var t=arguments.length;if(!t)return[];for(var e=tc(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return d(mh(n)?Li(n):[n],Jn(e,1))}function ia(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:_u(e),si(t,e<0?0:e,r)):[]}function oa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:_u(e),e=r-e,si(t,0,e<0?0:e)):[]}function aa(t,e){return t&&t.length?yi(t,go(e,3),!0,!0):[]}function sa(t,e){return t&&t.length?yi(t,go(e,3),!0):[]}function ua(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Oo(t,e,n)&&(n=0,r=i),Zn(t,e,n,r)):[]}function la(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:_u(n);return i<0&&(i=qc(r+i,0)),x(t,go(e,3),i)}function ca(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=_u(n),i=n<0?qc(r+i,0):Hc(i,r-1)),x(t,go(e,3),i,!0)}function fa(t){var e=null==t?0:t.length;return e?Jn(t,1):[]}function ha(t){var e=null==t?0:t.length;return e?Jn(t,kt):[]}function pa(t,e){var n=null==t?0:t.length;return n?(e=e===nt?1:_u(e),Jn(t,e)):[]}function da(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function ma(t){return t&&t.length?t[0]:nt}function va(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:_u(n);return i<0&&(i=qc(r+i,0)),w(t,e,i)}function ya(t){var e=null==t?0:t.length;return e?si(t,0,-1):[]}function ga(t,e){return null==t?"":Bc.call(t,e)}function ba(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function _a(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=_u(n),i=i<0?qc(r+i,0):Hc(i,r-1)),e===e?K(t,e,i):x(t,E,i,!0)}function xa(t,e){return t&&t.length?Yr(t,_u(e)):nt}function wa(t,e){return t&&t.length&&e&&e.length?Qr(t,e):t}function Ma(t,e,n){return t&&t.length&&e&&e.length?Qr(t,e,go(n,2)):t}function Ea(t,e,n){return t&&t.length&&e&&e.length?Qr(t,e,nt,n):t}function Sa(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=go(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return $r(t,i),n}function Ta(t){return null==t?t:Xc.call(t)}function Ca(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Oo(t,e,n)?(e=0,n=r):(e=null==e?0:_u(e),n=n===nt?r:_u(n)),si(t,e,n)):[]}function Pa(t,e){return li(t,e)}function ka(t,e,n){return ci(t,e,go(n,2))}function Aa(t,e){var n=null==t?0:t.length;if(n){var r=li(t,e);if(r<n&&qs(t[r],e))return r}return-1}function Ia(t,e){return li(t,e,!0)}function Oa(t,e,n){return ci(t,e,go(n,2),!0)}function Ra(t,e){var n=null==t?0:t.length;if(n){var r=li(t,e,!0)-1;if(qs(t[r],e))return r}return-1}function Da(t){return t&&t.length?fi(t):[]}function Na(t,e){return t&&t.length?fi(t,go(e,2)):[]}function ja(t){var e=null==t?0:t.length;return e?si(t,1,e):[]}function La(t,e,n){return t&&t.length?(e=n||e===nt?1:_u(e),si(t,0,e<0?0:e)):[]}function za(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:_u(e),e=r-e,si(t,e<0?0:e,r)):[]}function Fa(t,e){return t&&t.length?yi(t,go(e,3),!1,!0):[]}function Ua(t,e){return t&&t.length?yi(t,go(e,3)):[]}function Ba(t){return t&&t.length?di(t):[]}function Va(t,e){return t&&t.length?di(t,go(e,2)):[]}function qa(t,e){return e="function"==typeof e?e:nt,t&&t.length?di(t,nt,e):[]}function Ha(t){if(!t||!t.length)return[];var e=0;return t=c(t,function(t){if(Ws(t))return e=qc(t.length,e),!0}),I(e,function(e){return p(t,T(e))})}function Wa(t,e){if(!t||!t.length)return[];var n=Ha(t);return null==e?n:p(n,function(t){return o(e,nt,t)})}function Ya(t,e){return _i(t||[],e||[],kn)}function Ga(t,e){return _i(t||[],e||[],oi)}function Xa(t){var n=e(t);return n.__chain__=!0,n}function Za(t,e){return e(t),t}function Ka(t,e){return e(t)}function Qa(){return Xa(this)}function $a(){return new g(this.value(),this.__chain__)}function Ja(){this.__values__===nt&&(this.__values__=gu(this.value()));var t=this.__index__>=this.__values__.length,e=t?nt:this.__values__[this.__index__++];return{done:t,value:e}}function ts(){return this}function es(t){for(var e,r=this;r instanceof n;){var i=ta(r);i.__index__=0,i.__values__=nt,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function ns(){var t=this.__wrapped__;if(t instanceof C){var e=t;return this.__actions__.length&&(e=new C(this)),e=e.reverse(),e.__actions__.push({func:Ka,args:[Ta],thisArg:nt}),new g(e,this.__chain__)}return this.thru(Ta)}function rs(){return gi(this.__wrapped__,this.__actions__)}function is(t,e,n){var r=mh(t)?l:Gn;return n&&Oo(t,e,n)&&(e=nt),r(t,go(e,3))}function os(t,e){var n=mh(t)?c:$n;return n(t,go(e,3))}function as(t,e){return Jn(hs(t,e),1)}function ss(t,e){return Jn(hs(t,e),kt)}function us(t,e,n){return n=n===nt?1:_u(n),Jn(hs(t,e),n)}function ls(t,e){var n=mh(t)?s:pf;return n(t,go(e,3))}function cs(t,e){var n=mh(t)?u:df;return n(t,go(e,3))}function fs(t,e,n,r){t=Hs(t)?t:Qu(t),n=n&&!r?_u(n):0;var i=t.length;return n<0&&(n=qc(i+n,0)),pu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&w(t,e,n)>-1}function hs(t,e){var n=mh(t)?p:Br;return n(t,go(e,3))}function ps(t,e,n,r){return null==t?[]:(mh(e)||(e=null==e?[]:[e]),n=r?nt:n,mh(n)||(n=null==n?[]:[n]),Gr(t,e,n))}function ds(t,e,n){var r=mh(t)?m:P,i=arguments.length<3;return r(t,go(e,4),n,i,pf)}function ms(t,e,n){var r=mh(t)?v:P,i=arguments.length<3;return r(t,go(e,4),n,i,df)}function vs(t,e){var n=mh(t)?c:$n;return n(t,As(go(e,3)))}function ys(t){var e=mh(t)?En:ri;return e(t)}function gs(t,e,n){e=(n?Oo(t,e,n):e===nt)?1:_u(e);var r=mh(t)?Sn:ii;return r(t,e)}function bs(t){var e=mh(t)?Tn:ai;return e(t)}function _s(t){if(null==t)return 0;if(Hs(t))return pu(t)?Q(t):t.length;var e=Sf(t);return e==Yt||e==Jt?t.size:zr(t).length}function xs(t,e,n){var r=mh(t)?y:ui;return n&&Oo(t,e,n)&&(e=nt),r(t,go(e,3))}function ws(t,e){if("function"!=typeof e)throw new uc(at);return t=_u(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ms(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,uo(t,yt,nt,nt,nt,nt,e)}function Es(t,e){var n;if("function"!=typeof e)throw new uc(at);return t=_u(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Ss(t,e,n){e=n?nt:e;var r=uo(t,pt,nt,nt,nt,nt,nt,e);return r.placeholder=Ss.placeholder,r}function Ts(t,e,n){e=n?nt:e;var r=uo(t,dt,nt,nt,nt,nt,nt,e);return r.placeholder=Ts.placeholder,r}function Cs(t,e,n){function r(e){var n=h,r=p;return h=p=nt,g=e,m=t.apply(r,n)}function i(t){return g=t,v=Pf(s,e),b?r(t):m}function o(t){var n=t-y,r=t-g,i=e-n;return _?Hc(i,d-r):i}function a(t){var n=t-y,r=t-g;return y===nt||n>=e||n<0||_&&r>=d}function s(){var t=rh();return a(t)?u(t):void(v=Pf(s,o(t)))}function u(t){return v=nt,x&&h?r(t):(h=p=nt,m)}function l(){v!==nt&&_f(v),g=0,h=y=p=v=nt}function c(){return v===nt?m:u(rh())}function f(){var t=rh(),n=a(t);if(h=arguments,p=this,y=t,n){if(v===nt)return i(y);if(_)return v=Pf(s,e),r(y)}return v===nt&&(v=Pf(s,e)),m}var h,p,d,m,v,y,g=0,b=!1,_=!1,x=!0;if("function"!=typeof t)throw new uc(at);return e=wu(e)||0,nu(n)&&(b=!!n.leading,_="maxWait"in n,d=_?qc(wu(n.maxWait)||0,e):d,x="trailing"in n?!!n.trailing:x),f.cancel=l,f.flush=c,f}function Ps(t){return uo(t,bt)}function ks(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new uc(at);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ks.Cache||un),n}function As(t){if("function"!=typeof t)throw new uc(at);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Is(t){return Es(2,t)}function Os(t,e){if("function"!=typeof t)throw new uc(at);return e=e===nt?e:_u(e),ni(t,e)}function Rs(t,e){if("function"!=typeof t)throw new uc(at);return e=e===nt?0:qc(_u(e),0),ni(function(n){var r=n[e],i=Ei(n,0,e);return r&&d(i,r),o(t,this,i)})}function Ds(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new uc(at);return nu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Cs(t,e,{leading:r,maxWait:e,trailing:i})}function Ns(t){return Ms(t,1)}function js(t,e){return lh(wi(e),t)}function Ls(){if(!arguments.length)return[];var t=arguments[0];return mh(t)?t:[t]}function zs(t){return zn(t,!1,!0)}function Fs(t,e){return e="function"==typeof e?e:nt,zn(t,!1,!0,e)}function Us(t){return zn(t,!0,!0)}function Bs(t,e){return e="function"==typeof e?e:nt,zn(t,!0,!0,e)}function Vs(t,e){return null==e||Un(t,e,zu(e))}function qs(t,e){return t===e||t!==t&&e!==e}function Hs(t){return null!=t&&eu(t.length)&&!Js(t)}function Ws(t){return ru(t)&&Hs(t)}function Ys(t){return t===!0||t===!1||ru(t)&&vr(t)==Ut}function Gs(t){return ru(t)&&1===t.nodeType&&!fu(t)}function Xs(t){if(null==t)return!0;if(Hs(t)&&(mh(t)||"string"==typeof t||"function"==typeof t.splice||yh(t)||wh(t)||dh(t)))return!t.length;var e=Sf(t);if(e==Yt||e==Jt)return!t.size;if(Lo(t))return!zr(t).length;for(var n in t)if(dc.call(t,n))return!1;return!0}function Zs(t,e){return kr(t,e)}function Ks(t,e,n){n="function"==typeof n?n:nt;var r=n?n(t,e):nt;return r===nt?kr(t,e,n):!!r}function Qs(t){if(!ru(t))return!1;var e=vr(t);return e==qt||e==Vt||"string"==typeof t.message&&"string"==typeof t.name&&!fu(t)}function $s(t){return"number"==typeof t&&Uc(t)}function Js(t){if(!nu(t))return!1;var e=vr(t);return e==Ht||e==Wt||e==Ft||e==Qt}function tu(t){return"number"==typeof t&&t==_u(t)}function eu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=At}function nu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ru(t){return null!=t&&"object"==typeof t}function iu(t,e){return t===e||Or(t,e,_o(e))}function ou(t,e,n){return n="function"==typeof n?n:nt,Or(t,e,_o(e),n)}function au(t){return cu(t)&&t!=+t}function su(t){if(Tf(t))throw new nc(ot);return Rr(t)}function uu(t){return null===t}function lu(t){return null==t}function cu(t){return"number"==typeof t||ru(t)&&vr(t)==Gt}function fu(t){if(!ru(t)||vr(t)!=Zt)return!1;var e=Sc(t);if(null===e)return!0;var n=dc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&pc.call(n)==gc}function hu(t){return tu(t)&&t>=-At&&t<=At}function pu(t){return"string"==typeof t||!mh(t)&&ru(t)&&vr(t)==te}function du(t){return"symbol"==typeof t||ru(t)&&vr(t)==ee}function mu(t){return t===nt}function vu(t){return ru(t)&&Sf(t)==re}function yu(t){return ru(t)&&vr(t)==ie}function gu(t){if(!t)return[];if(Hs(t))return pu(t)?$(t):Li(t);if(Ac&&t[Ac])return q(t[Ac]());var e=Sf(t),n=e==Yt?H:e==Jt?G:Qu;return n(t)}function bu(t){if(!t)return 0===t?t:0;if(t=wu(t),t===kt||t===-kt){var e=t<0?-1:1;return e*It}return t===t?t:0}function _u(t){var e=bu(t),n=e%1;return e===e?n?e-n:e:0}function xu(t){return t?Nn(_u(t),0,Rt):0}function wu(t){if("number"==typeof t)return t;if(du(t))return Ot;if(nu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=nu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Oe,"");var n=qe.test(t);return n||We.test(t)?Qn(t.slice(2),n?2:8):Ve.test(t)?Ot:+t}function Mu(t){return zi(t,Fu(t))}function Eu(t){return Nn(_u(t),-At,At)}function Su(t){return null==t?"":pi(t)}function Tu(t,e){var n=hf(t);return null==e?n:On(n,e)}function Cu(t,e){return _(t,go(e,3),er)}function Pu(t,e){return _(t,go(e,3),nr)}function ku(t,e){return null==t?t:mf(t,go(e,3),Fu)}function Au(t,e){return null==t?t:vf(t,go(e,3),Fu)}function Iu(t,e){return t&&er(t,go(e,3))}function Ou(t,e){return t&&nr(t,go(e,3))}function Ru(t){return null==t?[]:ir(t,zu(t))}function Du(t){return null==t?[]:ir(t,Fu(t))}function Nu(t,e,n){var r=null==t?nt:or(t,e);return r===nt?n:r}function ju(t,e){return null!=t&&So(t,e,_r)}function Lu(t,e){return null!=t&&So(t,e,xr)}function zu(t){return Hs(t)?Mn(t):zr(t)}function Fu(t){return Hs(t)?Mn(t,!0):Fr(t)}function Uu(t,e){var n={};return e=go(e,3),er(t,function(t,r,i){Rn(n,e(t,r,i),t)}),n}function Bu(t,e){var n={};return e=go(e,3),er(t,function(t,r,i){Rn(n,r,e(t,r,i))}),n}function Vu(t,e){return qu(t,As(go(e)))}function qu(t,e){return null==t?{}:Zr(t,mo(t),go(e))}function Hu(t,e,n){e=Ro(e,t)?[e]:Mi(e);var r=-1,i=e.length;for(i||(t=nt,i=1);++r<i;){var o=null==t?nt:t[Qo(e[r])];o===nt&&(r=i,o=n),t=Js(o)?o.call(t):o}return t}function Wu(t,e,n){return null==t?t:oi(t,e,n)}function Yu(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:oi(t,e,n,r)}function Gu(t,e,n){var r=mh(t),i=r||yh(t)||wh(t);if(e=go(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:nu(t)&&Js(o)?hf(Sc(t)):{}}return(i?s:er)(t,function(t,r,i){return e(n,t,r,i)}),n}function Xu(t,e){return null==t||mi(t,e)}function Zu(t,e,n){return null==t?t:vi(t,e,wi(n))}function Ku(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:vi(t,e,wi(n),r)}function Qu(t){return null==t?[]:D(t,zu(t))}function $u(t){return null==t?[]:D(t,Fu(t))}function Ju(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=wu(n),n=n===n?n:0),e!==nt&&(e=wu(e),e=e===e?e:0),Nn(wu(t),e,n)}function tl(t,e,n){return e=bu(e),n===nt?(n=e,e=0):n=bu(n),t=wu(t),wr(t,e,n)}function el(t,e,n){if(n&&"boolean"!=typeof n&&Oo(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=bu(t),e===nt?(e=t,t=0):e=bu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Gc();return Hc(t+i*(e-t+Kn("1e-"+((i+"").length-1))),e)}return Jr(t,e)}function nl(t){return Xh(Su(t).toLowerCase())}function rl(t){return t=Su(t),t&&t.replace(Ge,pr).replace(Ln,"")}function il(t,e,n){t=Su(t),e=pi(e);var r=t.length;n=n===nt?r:Nn(_u(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function ol(t){return t=Su(t),t&&we.test(t)?t.replace(_e,dr):t}function al(t){return t=Su(t),t&&Ie.test(t)?t.replace(Ae,"\\$&"):t}function sl(t,e,n){t=Su(t),e=_u(e);var r=e?Q(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return eo(Lc(i),n)+t+eo(jc(i),n)}function ul(t,e,n){t=Su(t),e=_u(e);var r=e?Q(t):0;return e&&r<e?t+eo(e-r,n):t}function ll(t,e,n){t=Su(t),e=_u(e);var r=e?Q(t):0;return e&&r<e?eo(e-r,n)+t:t}function cl(t,e,n){return n||null==e?e=0:e&&(e=+e),Yc(Su(t).replace(Re,""),e||0)}function fl(t,e,n){return e=(n?Oo(t,e,n):e===nt)?1:_u(e),ei(Su(t),e)}function hl(){var t=arguments,e=Su(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function pl(t,e,n){return n&&"number"!=typeof n&&Oo(t,e,n)&&(e=n=nt),(n=n===nt?Rt:n>>>0)?(t=Su(t),t&&("string"==typeof e||null!=e&&!_h(e))&&(e=pi(e),!e&&B(t))?Ei($(t),0,n):t.split(e,n)):[]}function dl(t,e,n){return t=Su(t),n=Nn(_u(n),0,t.length),e=pi(e),t.slice(n,n+e.length)==e}function ml(t,n,r){var i=e.templateSettings;r&&Oo(t,n,r)&&(n=nt),t=Su(t),n=Ch({},n,i,Cn);var o,a,s=Ch({},n.imports,i.imports,Cn),u=zu(s),l=D(s,u),c=0,f=n.interpolate||Xe,h="__p += '",p=ac((n.escape||Xe).source+"|"+f.source+"|"+(f===Se?Ue:Xe).source+"|"+(n.evaluate||Xe).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++qn+"]")+"\n";t.replace(p,function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(c,u).replace(Ze,F),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),h+="';\n";var m=n.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(ve,""):h).replace(ye,"$1").replace(ge,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Zh(function(){return rc(u,d+"return "+h).apply(nt,l)});if(v.source=h,Qs(v))throw v;return v}function vl(t){return Su(t).toLowerCase()}function yl(t){return Su(t).toUpperCase()}function gl(t,e,n){if(t=Su(t),t&&(n||e===nt))return t.replace(Oe,"");if(!t||!(e=pi(e)))return t;var r=$(t),i=$(e),o=j(r,i),a=L(r,i)+1;return Ei(r,o,a).join("")}function bl(t,e,n){if(t=Su(t),t&&(n||e===nt))return t.replace(De,"");if(!t||!(e=pi(e)))return t;var r=$(t),i=L(r,$(e))+1;return Ei(r,0,i).join("")}function _l(t,e,n){if(t=Su(t),t&&(n||e===nt))return t.replace(Re,"");if(!t||!(e=pi(e)))return t;var r=$(t),i=j(r,$(e));return Ei(r,i).join("")}function xl(t,e){var n=wt,r=Mt;if(nu(e)){var i="separator"in e?e.separator:i;n="length"in e?_u(e.length):n,r="omission"in e?pi(e.omission):r}t=Su(t);var o=t.length;if(B(t)){var a=$(t);o=a.length}if(n>=o)return t;var s=n-Q(r);if(s<1)return r;var u=a?Ei(a,0,s).join(""):t.slice(0,s);if(i===nt)return u+r;if(a&&(s+=u.length-s),_h(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=ac(i.source,Su(Be.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var f=l.index;u=u.slice(0,f===nt?s:f)}}else if(t.indexOf(pi(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function wl(t){return t=Su(t),t&&xe.test(t)?t.replace(be,mr):t}function Ml(t,e,n){return t=Su(t),e=n?nt:e,e===nt?V(t)?et(t):b(t):t.match(e)||[]}function El(t){var e=null==t?0:t.length,n=go();return t=e?p(t,function(t){if("function"!=typeof t[1])throw new uc(at);return[n(t[0]),t[1]]}):[],ni(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function Sl(t){return Fn(zn(t,!0))}function Tl(t){return function(){return t}}function Cl(t,e){return null==t||t!==t?e:t}function Pl(t){return t}function kl(t){return Lr("function"==typeof t?t:zn(t,!0))}function Al(t){return Vr(zn(t,!0))}function Il(t,e){return qr(t,zn(e,!0))}function Ol(t,e,n){var r=zu(e),i=ir(e,r);null!=n||nu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=ir(e,zu(e)));var o=!(nu(n)&&"chain"in n&&!n.chain),a=Js(t);return s(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Li(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,d([this.value()],arguments))})}),t}function Rl(){return tr._===this&&(tr._=bc),this}function Dl(){}function Nl(t){return t=_u(t),
ni(function(e){return Yr(e,t)})}function jl(t){return Ro(t)?T(Qo(t)):Kr(t)}function Ll(t){return function(e){return null==t?nt:or(t,e)}}function zl(){return[]}function Fl(){return!1}function Ul(){return{}}function Bl(){return""}function Vl(){return!0}function ql(t,e){if(t=_u(t),t<1||t>At)return[];var n=Rt,r=Hc(t,Rt);e=go(e),t-=Rt;for(var i=I(r,e);++n<t;)e(n);return i}function Hl(t){return mh(t)?p(t,Qo):du(t)?[t]:Li(Af(t))}function Wl(t){var e=++mc;return Su(t)+e}function Yl(t){return t&&t.length?Xn(t,Pl,br):nt}function Gl(t,e){return t&&t.length?Xn(t,go(e,2),br):nt}function Xl(t){return S(t,Pl)}function Zl(t,e){return S(t,go(e,2))}function Kl(t){return t&&t.length?Xn(t,Pl,Ur):nt}function Ql(t,e){return t&&t.length?Xn(t,go(e,2),Ur):nt}function $l(t){return t&&t.length?A(t,Pl):0}function Jl(t,e){return t&&t.length?A(t,go(e,2)):0}t=null==t?tr:yr.defaults(tr.Object(),t,yr.pick(tr,Vn));var tc=t.Array,ec=t.Date,nc=t.Error,rc=t.Function,ic=t.Math,oc=t.Object,ac=t.RegExp,sc=t.String,uc=t.TypeError,lc=tc.prototype,cc=rc.prototype,fc=oc.prototype,hc=t["__core-js_shared__"],pc=cc.toString,dc=fc.hasOwnProperty,mc=0,vc=function(){var t=/[^.]+$/.exec(hc&&hc.keys&&hc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),yc=fc.toString,gc=pc.call(oc),bc=tr._,_c=ac("^"+pc.call(dc).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xc=rr?t.Buffer:nt,wc=t.Symbol,Mc=t.Uint8Array,Ec=xc?xc.allocUnsafe:nt,Sc=W(oc.getPrototypeOf,oc),Tc=oc.create,Cc=fc.propertyIsEnumerable,Pc=lc.splice,kc=wc?wc.isConcatSpreadable:nt,Ac=wc?wc.iterator:nt,Ic=wc?wc.toStringTag:nt,Oc=function(){try{var t=xo(oc,"defineProperty");return t({},"",{}),t}catch(e){}}(),Rc=t.clearTimeout!==tr.clearTimeout&&t.clearTimeout,Dc=ec&&ec.now!==tr.Date.now&&ec.now,Nc=t.setTimeout!==tr.setTimeout&&t.setTimeout,jc=ic.ceil,Lc=ic.floor,zc=oc.getOwnPropertySymbols,Fc=xc?xc.isBuffer:nt,Uc=t.isFinite,Bc=lc.join,Vc=W(oc.keys,oc),qc=ic.max,Hc=ic.min,Wc=ec.now,Yc=t.parseInt,Gc=ic.random,Xc=lc.reverse,Zc=xo(t,"DataView"),Kc=xo(t,"Map"),Qc=xo(t,"Promise"),$c=xo(t,"Set"),Jc=xo(t,"WeakMap"),tf=xo(oc,"create"),ef=Jc&&new Jc,nf={},rf=$o(Zc),of=$o(Kc),af=$o(Qc),sf=$o($c),uf=$o(Jc),lf=wc?wc.prototype:nt,cf=lf?lf.valueOf:nt,ff=lf?lf.toString:nt,hf=function(){function t(){}return function(e){if(!nu(e))return{};if(Tc)return Tc(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();e.templateSettings={escape:Me,evaluate:Ee,interpolate:Se,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,g.prototype=hf(n.prototype),g.prototype.constructor=g,C.prototype=hf(n.prototype),C.prototype.constructor=C,ze.prototype.clear=Ke,ze.prototype["delete"]=Qe,ze.prototype.get=$e,ze.prototype.has=Je,ze.prototype.set=tn,en.prototype.clear=nn,en.prototype["delete"]=rn,en.prototype.get=on,en.prototype.has=an,en.prototype.set=sn,un.prototype.clear=ln,un.prototype["delete"]=cn,un.prototype.get=fn,un.prototype.has=hn,un.prototype.set=pn,dn.prototype.add=dn.prototype.push=mn,dn.prototype.has=vn,yn.prototype.clear=gn,yn.prototype["delete"]=bn,yn.prototype.get=_n,yn.prototype.has=xn,yn.prototype.set=wn;var pf=Vi(er),df=Vi(nr,!0),mf=qi(),vf=qi(!0),yf=ef?function(t,e){return ef.set(t,e),t}:Pl,gf=Oc?function(t,e){return Oc(t,"toString",{configurable:!0,enumerable:!1,value:Tl(e),writable:!0})}:Pl,bf=ni,_f=Rc||function(t){return tr.clearTimeout(t)},xf=$c&&1/G(new $c([,-0]))[1]==kt?function(t){return new $c(t)}:Dl,wf=ef?function(t){return ef.get(t)}:Dl,Mf=zc?W(zc,oc):zl,Ef=zc?function(t){for(var e=[];t;)d(e,Mf(t)),t=Sc(t);return e}:zl,Sf=vr;(Zc&&Sf(new Zc(new ArrayBuffer(1)))!=ae||Kc&&Sf(new Kc)!=Yt||Qc&&Sf(Qc.resolve())!=Kt||$c&&Sf(new $c)!=Jt||Jc&&Sf(new Jc)!=re)&&(Sf=function(t){var e=vr(t),n=e==Zt?t.constructor:nt,r=n?$o(n):"";if(r)switch(r){case rf:return ae;case of:return Yt;case af:return Kt;case sf:return Jt;case uf:return re}return e});var Tf=hc?Js:Fl,Cf=Zo(yf),Pf=Nc||function(t,e){return tr.setTimeout(t,e)},kf=Zo(gf),Af=Uo(function(t){t=Su(t);var e=[];return Pe.test(t)&&e.push(""),t.replace(ke,function(t,n,r,i){e.push(r?i.replace(Fe,"$1"):n||t)}),e}),If=ni(function(t,e){return Ws(t)?Yn(t,Jn(e,1,Ws,!0)):[]}),Of=ni(function(t,e){var n=ba(e);return Ws(n)&&(n=nt),Ws(t)?Yn(t,Jn(e,1,Ws,!0),go(n,2)):[]}),Rf=ni(function(t,e){var n=ba(e);return Ws(n)&&(n=nt),Ws(t)?Yn(t,Jn(e,1,Ws,!0),nt,n):[]}),Df=ni(function(t){var e=p(t,xi);return e.length&&e[0]===t[0]?Mr(e):[]}),Nf=ni(function(t){var e=ba(t),n=p(t,xi);return e===ba(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?Mr(n,go(e,2)):[]}),jf=ni(function(t){var e=ba(t),n=p(t,xi);return e="function"==typeof e?e:nt,e&&n.pop(),n.length&&n[0]===t[0]?Mr(n,nt,e):[]}),Lf=ni(wa),zf=ho(function(t,e){var n=null==t?0:t.length,r=Dn(t,e);return $r(t,p(e,function(t){return Io(t,n)?+t:t}).sort(Ri)),r}),Ff=ni(function(t){return di(Jn(t,1,Ws,!0))}),Uf=ni(function(t){var e=ba(t);return Ws(e)&&(e=nt),di(Jn(t,1,Ws,!0),go(e,2))}),Bf=ni(function(t){var e=ba(t);return e="function"==typeof e?e:nt,di(Jn(t,1,Ws,!0),nt,e)}),Vf=ni(function(t,e){return Ws(t)?Yn(t,e):[]}),qf=ni(function(t){return bi(c(t,Ws))}),Hf=ni(function(t){var e=ba(t);return Ws(e)&&(e=nt),bi(c(t,Ws),go(e,2))}),Wf=ni(function(t){var e=ba(t);return e="function"==typeof e?e:nt,bi(c(t,Ws),nt,e)}),Yf=ni(Ha),Gf=ni(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Wa(t,n)}),Xf=ho(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Dn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof C&&Io(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Ka,args:[i],thisArg:nt}),new g(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(i)}),Zf=Ui(function(t,e,n){dc.call(t,n)?++t[n]:Rn(t,n,1)}),Kf=Zi(la),Qf=Zi(ca),$f=Ui(function(t,e,n){dc.call(t,n)?t[n].push(e):Rn(t,n,[e])}),Jf=ni(function(t,e,n){var r=-1,i="function"==typeof e,a=Ro(e),s=Hs(t)?tc(t.length):[];return pf(t,function(t){var u=i?e:a&&null!=t?t[e]:nt;s[++r]=u?o(u,t,n):Sr(t,e,n)}),s}),th=Ui(function(t,e,n){Rn(t,n,e)}),eh=Ui(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),nh=ni(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Oo(t,e[0],e[1])?e=[]:n>2&&Oo(e[0],e[1],e[2])&&(e=[e[0]]),Gr(t,Jn(e,1),[])}),rh=Dc||function(){return tr.Date.now()},ih=ni(function(t,e,n){var r=ct;if(n.length){var i=Y(n,yo(ih));r|=mt}return uo(t,r,e,n,i)}),oh=ni(function(t,e,n){var r=ct|ft;if(n.length){var i=Y(n,yo(oh));r|=mt}return uo(e,r,t,n,i)}),ah=ni(function(t,e){return Bn(t,1,e)}),sh=ni(function(t,e,n){return Bn(t,wu(e)||0,n)});ks.Cache=un;var uh=bf(function(t,e){e=1==e.length&&mh(e[0])?p(e[0],R(go())):p(Jn(e,1),R(go()));var n=e.length;return ni(function(r){for(var i=-1,a=Hc(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),lh=ni(function(t,e){var n=Y(e,yo(lh));return uo(t,mt,nt,e,n)}),ch=ni(function(t,e){var n=Y(e,yo(ch));return uo(t,vt,nt,e,n)}),fh=ho(function(t,e){return uo(t,gt,nt,nt,nt,e)}),hh=io(br),ph=io(function(t,e){return t>=e}),dh=Tr(function(){return arguments}())?Tr:function(t){return ru(t)&&dc.call(t,"callee")&&!Cc.call(t,"callee")},mh=tc.isArray,vh=ar?R(ar):Cr,yh=Fc||Fl,gh=sr?R(sr):Pr,bh=ur?R(ur):Ir,_h=lr?R(lr):Dr,xh=cr?R(cr):Nr,wh=fr?R(fr):jr,Mh=io(Ur),Eh=io(function(t,e){return t<=e}),Sh=Bi(function(t,e){if(Lo(e)||Hs(e))return void zi(e,zu(e),t);for(var n in e)dc.call(e,n)&&kn(t,n,e[n])}),Th=Bi(function(t,e){zi(e,Fu(e),t)}),Ch=Bi(function(t,e,n,r){zi(e,Fu(e),t,r)}),Ph=Bi(function(t,e,n,r){zi(e,zu(e),t,r)}),kh=ho(Dn),Ah=ni(function(t){return t.push(nt,Cn),o(Ch,nt,t)}),Ih=ni(function(t){return t.push(nt,Vo),o(jh,nt,t)}),Oh=$i(function(t,e,n){t[e]=n},Tl(Pl)),Rh=$i(function(t,e,n){dc.call(t,e)?t[e].push(n):t[e]=[n]},go),Dh=ni(Sr),Nh=Bi(function(t,e,n){Hr(t,e,n)}),jh=Bi(function(t,e,n,r){Hr(t,e,n,r)}),Lh=ho(function(t,e){return null==t?{}:(e=p(e,Qo),Xr(t,Yn(mo(t),e)))}),zh=ho(function(t,e){return null==t?{}:Xr(t,p(e,Qo))}),Fh=so(zu),Uh=so(Fu),Bh=Yi(function(t,e,n){return e=e.toLowerCase(),t+(n?nl(e):e)}),Vh=Yi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qh=Yi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Hh=Wi("toLowerCase"),Wh=Yi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Yh=Yi(function(t,e,n){return t+(n?" ":"")+Xh(e)}),Gh=Yi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Xh=Wi("toUpperCase"),Zh=ni(function(t,e){try{return o(t,nt,e)}catch(n){return Qs(n)?n:new nc(n)}}),Kh=ho(function(t,e){return s(e,function(e){e=Qo(e),Rn(t,e,ih(t[e],t))}),t}),Qh=Ki(),$h=Ki(!0),Jh=ni(function(t,e){return function(n){return Sr(n,t,e)}}),tp=ni(function(t,e){return function(n){return Sr(t,n,e)}}),ep=to(p),np=to(l),rp=to(y),ip=ro(),op=ro(!0),ap=Ji(function(t,e){return t+e},0),sp=ao("ceil"),up=Ji(function(t,e){return t/e},1),lp=ao("floor"),cp=Ji(function(t,e){return t*e},1),fp=ao("round"),hp=Ji(function(t,e){return t-e},0);return e.after=ws,e.ary=Ms,e.assign=Sh,e.assignIn=Th,e.assignInWith=Ch,e.assignWith=Ph,e.at=kh,e.before=Es,e.bind=ih,e.bindAll=Kh,e.bindKey=oh,e.castArray=Ls,e.chain=Xa,e.chunk=ea,e.compact=na,e.concat=ra,e.cond=El,e.conforms=Sl,e.constant=Tl,e.countBy=Zf,e.create=Tu,e.curry=Ss,e.curryRight=Ts,e.debounce=Cs,e.defaults=Ah,e.defaultsDeep=Ih,e.defer=ah,e.delay=sh,e.difference=If,e.differenceBy=Of,e.differenceWith=Rf,e.drop=ia,e.dropRight=oa,e.dropRightWhile=aa,e.dropWhile=sa,e.fill=ua,e.filter=os,e.flatMap=as,e.flatMapDeep=ss,e.flatMapDepth=us,e.flatten=fa,e.flattenDeep=ha,e.flattenDepth=pa,e.flip=Ps,e.flow=Qh,e.flowRight=$h,e.fromPairs=da,e.functions=Ru,e.functionsIn=Du,e.groupBy=$f,e.initial=ya,e.intersection=Df,e.intersectionBy=Nf,e.intersectionWith=jf,e.invert=Oh,e.invertBy=Rh,e.invokeMap=Jf,e.iteratee=kl,e.keyBy=th,e.keys=zu,e.keysIn=Fu,e.map=hs,e.mapKeys=Uu,e.mapValues=Bu,e.matches=Al,e.matchesProperty=Il,e.memoize=ks,e.merge=Nh,e.mergeWith=jh,e.method=Jh,e.methodOf=tp,e.mixin=Ol,e.negate=As,e.nthArg=Nl,e.omit=Lh,e.omitBy=Vu,e.once=Is,e.orderBy=ps,e.over=ep,e.overArgs=uh,e.overEvery=np,e.overSome=rp,e.partial=lh,e.partialRight=ch,e.partition=eh,e.pick=zh,e.pickBy=qu,e.property=jl,e.propertyOf=Ll,e.pull=Lf,e.pullAll=wa,e.pullAllBy=Ma,e.pullAllWith=Ea,e.pullAt=zf,e.range=ip,e.rangeRight=op,e.rearg=fh,e.reject=vs,e.remove=Sa,e.rest=Os,e.reverse=Ta,e.sampleSize=gs,e.set=Wu,e.setWith=Yu,e.shuffle=bs,e.slice=Ca,e.sortBy=nh,e.sortedUniq=Da,e.sortedUniqBy=Na,e.split=pl,e.spread=Rs,e.tail=ja,e.take=La,e.takeRight=za,e.takeRightWhile=Fa,e.takeWhile=Ua,e.tap=Za,e.throttle=Ds,e.thru=Ka,e.toArray=gu,e.toPairs=Fh,e.toPairsIn=Uh,e.toPath=Hl,e.toPlainObject=Mu,e.transform=Gu,e.unary=Ns,e.union=Ff,e.unionBy=Uf,e.unionWith=Bf,e.uniq=Ba,e.uniqBy=Va,e.uniqWith=qa,e.unset=Xu,e.unzip=Ha,e.unzipWith=Wa,e.update=Zu,e.updateWith=Ku,e.values=Qu,e.valuesIn=$u,e.without=Vf,e.words=Ml,e.wrap=js,e.xor=qf,e.xorBy=Hf,e.xorWith=Wf,e.zip=Yf,e.zipObject=Ya,e.zipObjectDeep=Ga,e.zipWith=Gf,e.entries=Fh,e.entriesIn=Uh,e.extend=Th,e.extendWith=Ch,Ol(e,e),e.add=ap,e.attempt=Zh,e.camelCase=Bh,e.capitalize=nl,e.ceil=sp,e.clamp=Ju,e.clone=zs,e.cloneDeep=Us,e.cloneDeepWith=Bs,e.cloneWith=Fs,e.conformsTo=Vs,e.deburr=rl,e.defaultTo=Cl,e.divide=up,e.endsWith=il,e.eq=qs,e.escape=ol,e.escapeRegExp=al,e.every=is,e.find=Kf,e.findIndex=la,e.findKey=Cu,e.findLast=Qf,e.findLastIndex=ca,e.findLastKey=Pu,e.floor=lp,e.forEach=ls,e.forEachRight=cs,e.forIn=ku,e.forInRight=Au,e.forOwn=Iu,e.forOwnRight=Ou,e.get=Nu,e.gt=hh,e.gte=ph,e.has=ju,e.hasIn=Lu,e.head=ma,e.identity=Pl,e.includes=fs,e.indexOf=va,e.inRange=tl,e.invoke=Dh,e.isArguments=dh,e.isArray=mh,e.isArrayBuffer=vh,e.isArrayLike=Hs,e.isArrayLikeObject=Ws,e.isBoolean=Ys,e.isBuffer=yh,e.isDate=gh,e.isElement=Gs,e.isEmpty=Xs,e.isEqual=Zs,e.isEqualWith=Ks,e.isError=Qs,e.isFinite=$s,e.isFunction=Js,e.isInteger=tu,e.isLength=eu,e.isMap=bh,e.isMatch=iu,e.isMatchWith=ou,e.isNaN=au,e.isNative=su,e.isNil=lu,e.isNull=uu,e.isNumber=cu,e.isObject=nu,e.isObjectLike=ru,e.isPlainObject=fu,e.isRegExp=_h,e.isSafeInteger=hu,e.isSet=xh,e.isString=pu,e.isSymbol=du,e.isTypedArray=wh,e.isUndefined=mu,e.isWeakMap=vu,e.isWeakSet=yu,e.join=ga,e.kebabCase=Vh,e.last=ba,e.lastIndexOf=_a,e.lowerCase=qh,e.lowerFirst=Hh,e.lt=Mh,e.lte=Eh,e.max=Yl,e.maxBy=Gl,e.mean=Xl,e.meanBy=Zl,e.min=Kl,e.minBy=Ql,e.stubArray=zl,e.stubFalse=Fl,e.stubObject=Ul,e.stubString=Bl,e.stubTrue=Vl,e.multiply=cp,e.nth=xa,e.noConflict=Rl,e.noop=Dl,e.now=rh,e.pad=sl,e.padEnd=ul,e.padStart=ll,e.parseInt=cl,e.random=el,e.reduce=ds,e.reduceRight=ms,e.repeat=fl,e.replace=hl,e.result=Hu,e.round=fp,e.runInContext=gr,e.sample=ys,e.size=_s,e.snakeCase=Wh,e.some=xs,e.sortedIndex=Pa,e.sortedIndexBy=ka,e.sortedIndexOf=Aa,e.sortedLastIndex=Ia,e.sortedLastIndexBy=Oa,e.sortedLastIndexOf=Ra,e.startCase=Yh,e.startsWith=dl,e.subtract=hp,e.sum=$l,e.sumBy=Jl,e.template=ml,e.times=ql,e.toFinite=bu,e.toInteger=_u,e.toLength=xu,e.toLower=vl,e.toNumber=wu,e.toSafeInteger=Eu,e.toString=Su,e.toUpper=yl,e.trim=gl,e.trimEnd=bl,e.trimStart=_l,e.truncate=xl,e.unescape=wl,e.uniqueId=Wl,e.upperCase=Gh,e.upperFirst=Xh,e.each=ls,e.eachRight=cs,e.first=ma,Ol(e,function(){var t={};return er(e,function(n,r){dc.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=rt,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),s(["drop","take"],function(t,e){C.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new C(this);n=n===nt?1:qc(_u(n),0);var i=this.clone();return r?i.__takeCount__=Hc(n,i.__takeCount__):i.__views__.push({size:Hc(n,Rt),type:t+(i.__dir__<0?"Right":"")}),i},C.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),s(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Tt||n==Pt;C.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:go(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),s(["head","last"],function(t,e){var n="take"+(e?"Right":"");C.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");C.prototype[t]=function(){return this.__filtered__?new C(this):this[n](1)}}),C.prototype.compact=function(){return this.filter(Pl)},C.prototype.find=function(t){return this.filter(t).head()},C.prototype.findLast=function(t){return this.reverse().find(t)},C.prototype.invokeMap=ni(function(t,e){return"function"==typeof t?new C(this):this.map(function(n){return Sr(n,t,e)})}),C.prototype.reject=function(t){return this.filter(As(go(t)))},C.prototype.slice=function(t,e){t=_u(t);var n=this;return n.__filtered__&&(t>0||e<0)?new C(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=_u(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},C.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},C.prototype.toArray=function(){return this.take(Rt)},er(C.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=e[i?"take"+("last"==n?"Right":""):n],a=i||/^find/.test(n);o&&(e.prototype[n]=function(){var n=this.__wrapped__,s=i?[1]:arguments,u=n instanceof C,l=s[0],c=u||mh(n),f=function(t){var n=o.apply(e,d([t],s));return i&&h?n[0]:n};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,p=!!this.__actions__.length,m=a&&!h,v=u&&!p;if(!a&&c){n=v?n:new C(this);var y=t.apply(n,s);return y.__actions__.push({func:Ka,args:[f],thisArg:nt}),new g(y,h)}return m&&v?t.apply(this,s):(y=this.thru(f),m?i?y.value()[0]:y.value():y)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var n=lc[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return n.apply(mh(e)?e:[],t)}return this[r](function(e){return n.apply(mh(e)?e:[],t)})}}),er(C.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",o=nf[i]||(nf[i]=[]);o.push({name:n,func:r})}}),nf[Qi(nt,ft).name]=[{name:"wrapper",func:nt}],C.prototype.clone=Z,C.prototype.reverse=J,C.prototype.value=tt,e.prototype.at=Xf,e.prototype.chain=Qa,e.prototype.commit=$a,e.prototype.next=Ja,e.prototype.plant=es,e.prototype.reverse=ns,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=rs,e.prototype.first=e.prototype.head,Ac&&(e.prototype[Ac]=ts),e},yr=vr();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(tr._=yr,define(function(){return yr})):nr?((nr.exports=yr)._=yr,er._=yr):tr._=yr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"mapbox-gl":[function(t,e,n){"use strict";var r=t("./util/browser"),i=e.exports={};i.version=t("../package.json").version,i.workerCount=Math.max(r.hardwareConcurrency-1,1),i.Map=t("./ui/map"),i.Control=t("./ui/control/control"),i.Navigation=t("./ui/control/navigation"),i.Geolocate=t("./ui/control/geolocate"),i.Attribution=t("./ui/control/attribution"),i.Scale=t("./ui/control/scale"),i.Popup=t("./ui/popup"),i.Marker=t("./ui/marker"),i.Style=t("./style/style"),i.LngLat=t("./geo/lng_lat"),i.LngLatBounds=t("./geo/lng_lat_bounds"),i.Point=t("point-geometry"),i.Evented=t("./util/evented"),i.util=t("./util/util"),i.supported=t("./util/browser").supported;var o=t("./util/ajax");i.util.getJSON=o.getJSON,i.util.getArrayBuffer=o.getArrayBuffer;var a=t("./util/config");i.config=a,Object.defineProperty(i,"accessToken",{get:function(){return a.ACCESS_TOKEN},set:function(t){a.ACCESS_TOKEN=t}})},{"../package.json":223,"./geo/lng_lat":41,"./geo/lng_lat_bounds":42,"./style/style":80,"./ui/control/attribution":111,"./ui/control/control":112,"./ui/control/geolocate":113,"./ui/control/navigation":114,"./ui/control/scale":115,"./ui/map":124,"./ui/marker":125,"./ui/popup":126,"./util/ajax":128,"./util/browser":129,"./util/config":134,"./util/evented":137,"./util/util":146,"point-geometry":203}],"multi-download":[function(t,e,n){"use strict";function r(t){var e=0;!function n(){var r=document.createElement("iframe");r.style.display="none",r.src=t[e++],document.documentElement.appendChild(r);var i=setInterval(function(){"complete"===r.contentWindow.document.readyState&&(clearInterval(i),setTimeout(function(){r.parentNode.removeChild(r)},1e3),e<t.length&&n())},100)}()}function i(){return/Firefox\//i.test(navigator.userAgent)}function o(t){var e=document.createElement("a");return e.href=t,location.hostname===e.hostname&&location.protocol===e.protocol}function a(t){var e=document.createElement("a");e.download="",e.href=t,e.dispatchEvent(new MouseEvent("click"))}e.exports=function(t){if(!t)throw new Error("`urls` required");if("undefined"==typeof document.createElement("a").download)return r(t);var e=0;t.forEach(function(t){return i()&&!o(t)?setTimeout(a.bind(null,t),100*++e):void a(t)})}},{}],qs:[function(t,e,n){"use strict";var r=t("./stringify"),i=t("./parse"),o=t("./formats");e.exports={formats:o,parse:i,stringify:r}},{"./formats":224,"./parse":225,"./stringify":226}],"react-addons-css-transition-group":[function(t,e,n){e.exports=t("react/lib/ReactCSSTransitionGroup")},{"react/lib/ReactCSSTransitionGroup":332}],"react-dom":[function(t,e,n){"use strict";e.exports=t("react/lib/ReactDOM")},{"react/lib/ReactDOM":344}],"react-nouislider":[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},l=t("react"),c=r(l),f=t("nouislider-algolia-fork"),h=r(f),p=function(t){function e(){i(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),s(e,[{key:"componentDidMount",value:function(){this.props.disabled?this.sliderContainer.setAttribute("disabled",!0):this.sliderContainer.removeAttribute("disabled"),this.createSlider()}},{key:"componentDidUpdate",value:function(){this.props.disabled?this.sliderContainer.setAttribute("disabled",!0):this.sliderContainer.removeAttribute("disabled"),this.slider.destroy(),this.createSlider()}},{key:"componentWillUnmount",value:function(){this.slider.destroy()}},{key:"createSlider",value:function(){var t=this.slider=h["default"].create(this.sliderContainer,a({},this.props));this.props.onUpdate&&t.on("update",this.props.onUpdate),this.props.onChange&&t.on("change",this.props.onChange),this.props.onSlide&&t.on("slide",this.props.onSlide),this.props.onStart&&t.on("start",this.props.onStart),this.props.onEnd&&t.on("end",this.props.onEnd),this.props.onSet&&t.on("set",this.props.onSet)}},{key:"render",value:function(){var t=this;return c["default"].createElement("div",{ref:function(e){t.sliderContainer=e}})}}]),e}(c["default"].Component);p.propTypes={animate:c["default"].PropTypes.bool,behaviour:c["default"].PropTypes.string,connect:c["default"].PropTypes.oneOfType([c["default"].PropTypes.oneOf(["lower","upper"]),c["default"].PropTypes.bool]),cssPrefix:c["default"].PropTypes.string,direction:c["default"].PropTypes.oneOf(["ltr","rtl"]),disabled:c["default"].PropTypes.bool,limit:c["default"].PropTypes.number,margin:c["default"].PropTypes.number,onChange:c["default"].PropTypes.func,onEnd:c["default"].PropTypes.func,onSet:c["default"].PropTypes.func,onSlide:c["default"].PropTypes.func,onStart:c["default"].PropTypes.func,onUpdate:c["default"].PropTypes.func,orientation:c["default"].PropTypes.oneOf(["horizontal","vertical"]),pips:c["default"].PropTypes.object,range:c["default"].PropTypes.object.isRequired,start:c["default"].PropTypes.arrayOf(c["default"].PropTypes.number).isRequired,step:c["default"].PropTypes.number,tooltips:c["default"].PropTypes.oneOfType([c["default"].PropTypes.bool,c["default"].PropTypes.arrayOf(c["default"].PropTypes.shape({to:c["default"].PropTypes.func}))])},e.exports=p},{"nouislider-algolia-fork":228,react:"react"}],"react-onclickoutside":[function(t,e,n){!function(r){function i(t,e,n){return function(t,r){var i=e.createClass({statics:{getClass:function(){return t.getClass?t.getClass():t}},getInstance:function(){return t.prototype.isReactComponent?this.refs.instance:this},__outsideClickHandler:function(){},componentDidMount:function(){if("undefined"!=typeof document&&document.createElement){var t,i=this.getInstance();if(r&&"function"==typeof r.handleClickOutside){if(t=r.handleClickOutside(i),"function"!=typeof t)throw new Error("Component lacks a function for processing outside click events specified by the handleClickOutside config option.")}else if("function"==typeof i.handleClickOutside)t=e.Component.prototype.isPrototypeOf(i)?i.handleClickOutside.bind(i):i.handleClickOutside;else{if("function"!=typeof i.props.handleClickOutside)throw new Error("Component lacks a handleClickOutside(event) function for processing outside click events.");t=i.props.handleClickOutside}var o=this.__outsideClickHandler=f(n.findDOMNode(i),i,t,this.props.outsideClickIgnoreClass||u,this.props.preventDefault||!1,this.props.stopPropagation||!1),l=a.length;a.push(this),s[l]=o,this.props.disableOnClickOutside||this.enableOnClickOutside()}},componentWillReceiveProps:function(t){this.props.disableOnClickOutside&&!t.disableOnClickOutside?this.enableOnClickOutside():!this.props.disableOnClickOutside&&t.disableOnClickOutside&&this.disableOnClickOutside()},componentWillUnmount:function(){this.disableOnClickOutside(),this.__outsideClickHandler=!1;var t=a.indexOf(this);t>-1&&(s[t]&&s.splice(t,1),a.splice(t,1))},enableOnClickOutside:function(){var t=this.__outsideClickHandler;if("undefined"!=typeof document){var e=this.props.eventTypes||l;e.forEach||(e=[e]),e.forEach(function(e){document.addEventListener(e,t)})}},disableOnClickOutside:function(){var t=this.__outsideClickHandler;if("undefined"!=typeof document){var e=this.props.eventTypes||l;e.forEach||(e=[e]),e.forEach(function(e){document.removeEventListener(e,t)})}},render:function(){var n=this.props,r={};return Object.keys(this.props).forEach(function(t){r[t]=n[t]}),t.prototype.isReactComponent&&(r.ref="instance"),r.disableOnClickOutside=this.disableOnClickOutside,r.enableOnClickOutside=this.enableOnClickOutside,e.createElement(t,r)}});return function(t,e){var n=t.displayName||t.name||"Component";e.displayName="OnClickOutside("+n+")"}(t,i),i}}function o(r,i){"function"==typeof define&&define.amd?define(["react","react-dom"],function(t,e){return i(r,t,e)}):"object"==typeof n?e.exports=i(r,t("react"),t("react-dom")):r.onClickOutside=i(r,React,ReactDOM)}var a=[],s=[],u="ignore-react-onclickoutside",l=["mousedown","touchstart"],c=function(t,e,n){return t===e||(t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n))},f=function(t,e,n,r,i,o){return function(e){i&&e.preventDefault(),o&&e.stopPropagation();for(var a=e.target,s=!1;a.parentNode;){if(s=c(a,t,r))return;a=a.parentNode}a===document&&n(e)}};o(r,i)}(this)},{react:"react","react-dom":"react-dom"}],"react-redux":[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0,n.connect=n.Provider=void 0;var i=t("./components/Provider"),o=r(i),a=t("./components/connect"),s=r(a);n.Provider=o["default"],n.connect=s["default"]},{"./components/Provider":229,"./components/connect":230}],"react-router-redux":[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.routerMiddleware=n.routerActions=n.goForward=n.goBack=n.go=n.replace=n.push=n.CALL_HISTORY_METHOD=n.routerReducer=n.LOCATION_CHANGE=n.syncHistoryWithStore=void 0;var i=t("./reducer");Object.defineProperty(n,"LOCATION_CHANGE",{enumerable:!0,get:function(){return i.LOCATION_CHANGE}}),Object.defineProperty(n,"routerReducer",{enumerable:!0,get:function(){return i.routerReducer}});var o=t("./actions");Object.defineProperty(n,"CALL_HISTORY_METHOD",{enumerable:!0,get:function(){return o.CALL_HISTORY_METHOD}}),Object.defineProperty(n,"push",{enumerable:!0,get:function(){return o.push}}),Object.defineProperty(n,"replace",{enumerable:!0,get:function(){return o.replace}}),Object.defineProperty(n,"go",{enumerable:!0,get:function(){return o.go}}),Object.defineProperty(n,"goBack",{enumerable:!0,get:function(){return o.goBack}}),Object.defineProperty(n,"goForward",{enumerable:!0,get:function(){return o.goForward}}),Object.defineProperty(n,"routerActions",{enumerable:!0,get:function(){return o.routerActions}});var a=t("./sync"),s=r(a),u=t("./middleware"),l=r(u);n.syncHistoryWithStore=s["default"],n.routerMiddleware=l["default"]},{"./actions":237,"./middleware":238,"./reducer":239,"./sync":240}],"react-router":[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0,n.createMemoryHistory=n.hashHistory=n.browserHistory=n.applyRouterMiddleware=n.formatPattern=n.useRouterHistory=n.match=n.routerShape=n.locationShape=n.PropTypes=n.RoutingContext=n.RouterContext=n.createRoutes=n.useRoutes=n.RouteContext=n.Lifecycle=n.History=n.Route=n.Redirect=n.IndexRoute=n.IndexRedirect=n.withRouter=n.IndexLink=n.Link=n.Router=void 0;var i=t("./RouteUtils");Object.defineProperty(n,"createRoutes",{enumerable:!0,get:function(){return i.createRoutes}});var o=t("./PropTypes");Object.defineProperty(n,"locationShape",{enumerable:!0,get:function(){return o.locationShape}}),Object.defineProperty(n,"routerShape",{enumerable:!0,get:function(){return o.routerShape}});var a=t("./PatternUtils");Object.defineProperty(n,"formatPattern",{enumerable:!0,get:function(){return a.formatPattern}});var s=t("./Router"),u=r(s),l=t("./Link"),c=r(l),f=t("./IndexLink"),h=r(f),p=t("./withRouter"),d=r(p),m=t("./IndexRedirect"),v=r(m),y=t("./IndexRoute"),g=r(y),b=t("./Redirect"),_=r(b),x=t("./Route"),w=r(x),M=t("./History"),E=r(M),S=t("./Lifecycle"),T=r(S),C=t("./RouteContext"),P=r(C),k=t("./useRoutes"),A=r(k),I=t("./RouterContext"),O=r(I),R=t("./RoutingContext"),D=r(R),N=r(o),j=t("./match"),L=r(j),z=t("./useRouterHistory"),F=r(z),U=t("./applyRouterMiddleware"),B=r(U),V=t("./browserHistory"),q=r(V),H=t("./hashHistory"),W=r(H),Y=t("./createMemoryHistory"),G=r(Y);n.Router=u["default"],n.Link=c["default"],n.IndexLink=h["default"],n.withRouter=d["default"],n.IndexRedirect=v["default"],n.IndexRoute=g["default"],n.Redirect=_["default"],n.Route=w["default"],n.History=E["default"],n.Lifecycle=T["default"],n.RouteContext=P["default"],n.useRoutes=A["default"],n.RouterContext=O["default"],n.RoutingContext=D["default"],n.PropTypes=N["default"],n.match=L["default"],n.useRouterHistory=F["default"],n.applyRouterMiddleware=B["default"],n.browserHistory=q["default"],n.hashHistory=W["default"],n.createMemoryHistory=G["default"]},{"./History":242,"./IndexLink":243,"./IndexRedirect":244,"./IndexRoute":245,"./Lifecycle":247,"./Link":248,"./PatternUtils":249,"./PropTypes":250,"./Redirect":251,"./Route":252,"./RouteContext":253,"./RouteUtils":254,"./Router":255,"./RouterContext":256,"./RoutingContext":258,"./applyRouterMiddleware":260,"./browserHistory":261,"./createMemoryHistory":263,"./hashHistory":269,"./match":272,"./useRouterHistory":275,"./useRoutes":276,"./withRouter":277}],"react-tether":[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("./TetherComponent"),o=r(i);n["default"]=o["default"],e.exports=n["default"]},{"./TetherComponent":303}],react:[function(t,e,n){"use strict";e.exports=t("./lib/React")},{"./lib/React":330}],"redux-logger":[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=o({},l["default"],t),n=e.logger,r=e.transformer,i=e.stateTransformer,u=e.errorTransformer,c=e.predicate,f=e.logErrors,h=e.diffPredicate;if("undefined"==typeof n)return function(){return function(t){return function(e){return t(e)}}};r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!");var p=[];return function(t){var n=t.getState;return function(t){return function(r){if("function"==typeof c&&!c(n,r))return t(r);var l={};p.push(l),l.started=s.timer.now(),l.startedTime=new Date,l.prevState=i(n()),l.action=r;var d=void 0;if(f)try{d=t(r)}catch(m){l.error=u(m)}else d=t(r);l.took=s.timer.now()-l.started,l.nextState=i(n());var v=e.diff&&"function"==typeof h?h(n,r):e.diff;if((0,a.printBuffer)(p,o({},e,{diff:v})),p.length=0,l.error)throw l.error;return d}}}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./core"),s=t("./helpers"),u=t("./defaults"),l=r(u);n["default"]=i,e.exports=n["default"]},{"./core":479,"./defaults":480,"./helpers":482}],redux:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0,n.compose=n.applyMiddleware=n.bindActionCreators=n.combineReducers=n.createStore=void 0;var i=t("./createStore"),o=r(i),a=t("./combineReducers"),s=r(a),u=t("./bindActionCreators"),l=r(u),c=t("./applyMiddleware"),f=r(c),h=t("./compose"),p=r(h),d=t("./utils/warning");r(d);n.createStore=o["default"],n.combineReducers=s["default"],n.bindActionCreators=l["default"],n.applyMiddleware=f["default"],
n.compose=p["default"]},{"./applyMiddleware":484,"./bindActionCreators":485,"./combineReducers":486,"./compose":487,"./createStore":488,"./utils/warning":489}],"turf-center":[function(t,e,n){var r=t("turf-bbox"),i=t("turf-helpers").point;e.exports=function(t){var e=r(t),n=(e[0]+e[2])/2,o=(e[1]+e[3])/2;return i([n,o])}},{"turf-bbox":493,"turf-helpers":495}]},{},[]);